/*! For license information please see main.95897a6d.js.LICENSE.txt */
!function(){var e={3108:function(e,t,n){"use strict";n.d(t,{$n:function(){return d},Fq:function(){return c},_4:function(){return l},_j:function(){return f},mi:function(){return u}});var r=n(7483);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(l+="a",c.push(t[3])),o({type:l,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return s(e)>.5?f(e,t):d(e,t)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function d(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},6865:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(5987),i=n(1534),a=n(7462),o=["xs","sm","md","lg","xl"];var u=n(4942);function s(e,t,n){var r;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,u.Z)({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,u.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,u.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var l=n(7483),c={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y=n(3108),b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,y.$n)(e.main,i):"dark"===t&&(e.dark=(0,y._j)(e.main,a)))}function w(e){return Math.round(1e5*e)/1e5}function E(e){return w(e)}var C={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function S(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,u=void 0===o?k:o,s=n.fontSize,l=void 0===s?14:s,c=n.fontWeightLight,f=void 0===c?300:c,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,_=n.allVariants,x=n.pxToRem,S=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var A=l/14,D=x||function(e){return"".concat(e/b*A,"rem")},M=function(e,t,n,r,i){return(0,a.Z)({fontFamily:u,fontWeight:e,fontSize:D(t),lineHeight:n},u===k?{letterSpacing:"".concat(w(r/t),"em")}:{},i,_)},T={h1:M(f,96,1.167,-1.5),h2:M(f,60,1.2,-.5),h3:M(h,48,1.167,0),h4:M(h,34,1.235,.25),h5:M(h,24,1.334,0),h6:M(v,20,1.6,.15),subtitle1:M(h,16,1.75,.15),subtitle2:M(v,14,1.57,.1),body1:M(h,16,1.5,.15),body2:M(h,14,1.43,.15),button:M(v,14,1.75,.4,C),caption:M(h,12,1.66,.4),overline:M(h,12,2.66,1,C)};return(0,i.Z)((0,a.Z)({htmlFontSize:b,pxToRem:D,round:E,fontFamily:u,fontSize:l,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},T),S,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var D=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],M={borderRadius:4},T=n(9908);var P=n(812),O=n(9535);function R(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,u=e.mixins,w=void 0===u?{}:u,E=e.palette,C=void 0===E?{}:E,k=e.spacing,A=e.typography,R=void 0===A?{}:A,F=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),N=function(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,o=e.secondary,u=void 0===o?{light:h.A200,main:h.A400,dark:h.A700}:o,s=e.error,w=void 0===s?{light:p[300],main:p[500],dark:p[700]}:s,E=e.warning,C=void 0===E?{light:v[300],main:v[500],dark:v[700]}:E,k=e.info,S=void 0===k?{light:m[300],main:m[500],dark:m[700]}:k,A=e.success,D=void 0===A?{light:g[300],main:g[500],dark:g[700]}:A,M=e.type,T=void 0===M?"light":M,P=e.contrastThreshold,O=void 0===P?3:P,R=e.tonalOffset,F=void 0===R?.2:R,N=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function I(e){return(0,y.mi)(e,_.text.primary)>=O?_.text.primary:b.text.primary}var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,l.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,l.Z)(5,JSON.stringify(e.main)));return x(e,"light",n,F),x(e,"dark",r,F),e.contrastText||(e.contrastText=I(e.main)),e},L={dark:_,light:b};return(0,i.Z)((0,a.Z)({common:c,type:T,primary:B(n),secondary:B(u,"A400","A200","A700"),error:B(w),warning:B(C),info:B(S),success:B(D),grey:f,contrastThreshold:O,getContrastText:I,augmentColor:B,tonalOffset:F},L[T]),N)}(C),I=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,u=void 0===i?"px":i,s=e.step,l=void 0===s?5:s,c=(0,r.Z)(e,["values","unit","step"]);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(u,")")}function d(e,t){var r=o.indexOf(t);return r===o.length-1?f(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(u,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-l/100).concat(u,")")}return(0,a.Z)({keys:o,values:n,up:f,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?f("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-l/100).concat(u,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},c)}(n),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,T.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(k),L=(0,i.Z)({breakpoints:I,direction:"ltr",mixins:s(I,B,w),overrides:{},palette:N,props:{},shadows:D,typography:S(N,R),spacing:B,shape:M,transitions:P.ZP,zIndex:O.Z},F),z=arguments.length,U=new Array(z>1?z-1:0),j=1;j<z;j++)U[j-1]=arguments[j];return L=U.reduce((function(e,t){return(0,i.Z)(e,t)}),L)}var F=R()},812:function(e,t,n){"use strict";n.d(t,{x9:function(){return a}});var r=n(5987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,u=void 0===n?a.standard:n,s=t.easing,l=void 0===s?i.easeInOut:s,c=t.delay,f=void 0===c?0:c;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof u?u:o(u)," ").concat(l," ").concat("string"===typeof f?f:o(f))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},8317:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7462),i=n(5987),a=n(2791),o=n(2110),u=n.n(o),s=n(4928),l=n(794),c=n(5522),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,f=t.withTheme,d=void 0!==f&&f,h=t.name,p=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var v=h,m=(0,s.Z)(e,(0,r.Z)({defaultTheme:o,Component:n,name:h||n.displayName,classNamePrefix:v},p)),g=a.forwardRef((function(e,t){e.classes;var u,s=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),p=m((0,r.Z)({},n.defaultProps,e)),v=f;return("string"===typeof h||d)&&(u=(0,c.Z)()||o,h&&(v=(0,l.Z)({theme:u,name:h,props:f})),d&&!v.theme&&(v.theme=u)),a.createElement(n,(0,r.Z)({ref:s||t,classes:p},v))}));return u()(g,n),g}},d=n(6865);var h=function(e,t){return f(e,(0,r.Z)({defaultTheme:d.Z},t))}},9535:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7483);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7545:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},8499:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7462),i=n(2791),a=n(5987),o=n(8182),u=n(8317),s=n(1122),l=i.forwardRef((function(e,t){var n=e.children,u=e.classes,l=e.className,c=e.color,f=void 0===c?"inherit":c,d=e.component,h=void 0===d?"svg":d,p=e.fontSize,v=void 0===p?"medium":p,m=e.htmlColor,g=e.titleAccess,y=e.viewBox,b=void 0===y?"0 0 24 24":y,_=(0,a.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return i.createElement(h,(0,r.Z)({className:(0,o.default)(u.root,l,"inherit"!==f&&u["color".concat((0,s.Z)(f))],"default"!==v&&"medium"!==v&&u["fontSize".concat((0,s.Z)(v))]),focusable:"false",viewBox:b,color:m,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},_),n,g?i.createElement("title",null,g):null)}));l.muiName="SvgIcon";var c=(0,u.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(l);function f(e,t){var n=function(t,n){return i.createElement(c,(0,r.Z)({ref:n},t),e)};return n.muiName=c.muiName,i.memo(i.forwardRef(n))}},503:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2446:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return s.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return f},setRef:function(){return d.Z},unstable_useId:function(){return y},unsupportedProp:function(){return h},useControlled:function(){return p.Z},useEventCallback:function(){return v.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return b.Z}});var r=n(1122),i=n(7545),a=n(8499),o=n(503);function u(e,t){return function(){return null}}var s=n(3375),l=n(4667),c=n(7636);function f(e){return function(){return null}}var d=n(1565);function h(e,t,n,r,i){return null}var p=n(2497),v=n(2216),m=n(9806),g=n(2791);function y(e){var t=g.useState(e),n=t[0],r=t[1],i=e||n;return g.useEffect((function(){null==n&&r("mui-".concat(Math.round(1e5*Math.random())))}),[n]),i}var b=n(1175)},3375:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},4667:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4667);function i(e){return(0,r.Z)(e).defaultView||window}},1565:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2497:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],u=a[1];return[i?t:o,r.useCallback((function(e){i||u(e)}),[])]}},2216:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},9806:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(1565);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},1175:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(2791),i=n(4164),a=!0,o=!1,u=null,s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function f(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){o=!0,window.clearTimeout(u),u=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},8202:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,l=60112,c=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case f:return e;default:switch(e=e&&e.$$typeof){case s:case l:case h:case d:case u:return e;default:return t}}case r:return t}}}},3413:function(e,t,n){"use strict";n(8202)},2772:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox");t.Z=o},4993:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=o},4241:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=o},5195:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Create");t.Z=o},3057:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");t.Z=o},3594:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done");t.Z=o},1079:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=o},8388:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(2791)),o=(0,r(n(4894)).default)(a.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.Z=o},4894:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(2446)},794:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},4928:function(e,t,n){"use strict";n.d(t,{Z:function(){return ln}});var r=n(5987),i=n(7462),a=n(2791),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType,s=n(3144),l=n(4578),c=n(7326),f=n(3366),d={}.constructor;function h(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(h);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=h(e[n]);return t}function p(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=h(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var v=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=v(e[n]," ");else t=v(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function g(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function y(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function b(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=g(n),s=u.linebreak,l=u.space;if(e&&a++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var f=o[c];for(var d in f){var h=f[d];null!=h&&(r&&(r+=s),r+=y(d+":"+l+m(h)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=y(p+":"+l+m(v)+";",a))}for(var b in t){var _=t[b];null!=_&&"fallbacks"!==b&&(r&&(r+=s),r+=y(b+":"+l+m(_)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),y(""+e+l+"{"+r,--a)+y("}",a)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,w=function(e){return x?x(e):e.replace(_,"\\$1")},E=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),C=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s((0,c.Z)((0,c.Z)(i)),u),i.selectorText="."+w(i.id)),i}(0,l.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.selectorText,this.style,n)},(0,s.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(E),k={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new C(e,t,n)}},S={indent:1,children:!0},A=/@([\w-]+)/,D=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(A);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=S);var t=g(e).linebreak;if(null==e.indent&&(e.indent=S.indent),null==e.children&&(e.children=S.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),M=/@container|@media|@supports\s+/,T={onCreateRule:function(e,t,n){return M.test(e)?new D(e,t,n):null}},P={indent:1,children:!0},O=/@keyframes\s+([\w-]+)/,R=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(O);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,u=n.generateId;for(var s in this.id=!1===a?this.name:w(u(this,o)),this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=P);var t=g(e).linebreak;if(null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),F=/@keyframes\s+/,N=/\$([\w-]+)/g,I=function(e,t){return"string"===typeof e?e.replace(N,(function(e,n){return n in t?t[n]:e})):e},B=function(e,t,n){var r=e[t],i=I(r,n);i!==r&&(e[t]=i)},L={onCreateRule:function(e,t,n){return"string"===typeof e&&F.test(e)?new R(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&B(e,"animation-name",n.keyframes),"animation"in e&&B(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return I(e,r.keyframes);default:return e}}},z=function(e){function t(){return e.apply(this,arguments)||this}return(0,l.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return b(this.key,this.style,n)},t}(E),U={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new z(e,t,n):null}},j=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=g(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=b(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return b(this.at,this.style,e)},e}(),W=/@font-face/,Z={onCreateRule:function(e,t,n){return W.test(e)?new j(e,t,n):null}},V=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return b(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new V(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),q={"@charset":!0,"@import":!0,"@namespace":!0},Y={onCreateRule:function(e,t,n){return e in q?new G(e,t,n):null}},X=[k,T,L,U,Z,H,Y],$={process:!0},K={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,u=r.jss,s=r.Renderer,l=r.generateId,c=r.scoped,f=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:u,Renderer:s,generateId:l,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(f.selector="."+w(this.classes[d]));var h=p(d,t,f);if(!h)return null;this.register(h);var v=void 0===f.index?this.index.length:f.index;return this.index.splice(v,0,h),h},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof C?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof R&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof C?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof R&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=$);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var l=t.style[s];l!==u[s]&&t.prop(s,l,K)}for(var c in u){var f=t.style[c],d=u[c];null==f&&f!==d&&t.prop(c,null,K)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=g(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),Q=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,f.Z)(t,["attached"]),i=g(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},(0,s.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},ue=function(e){var t;return function(){return t||(t=e()),t}},se=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},le=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},fe=function(e,t){return e.selectorText=t,e.selectorText===t},de=ue((function(){return document.querySelector("head")}));function he(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=de(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=ue((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),ve=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ge=function(){function e(e){this.getPropertyValue=se,this.setProperty=le,this.removeProperty=ce,this.setSelector=fe,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=pe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else de().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=me(n,t);if(!1===(i=ve(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=me(n,t),s=ve(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Q&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ye=0,be=function(){function e(e){this.id=ye++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:u?ge:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<X.length;t++)this.plugins.use(X[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new Q(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=p(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new be(e)},xe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=we(r);a&&(t||(t={}),t[n]=a)}}return t}_e();var Ee=n(5352),Ce={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},ke=Ce,Se=n(5522),Ae="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",De=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Me=Date.now(),Te="fnValues"+Me,Pe="fnStyle"+ ++Me,Oe=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=p(e,{},n);return r[Pe]=t,r},onProcessStyle:function(e,t){if(Te in t||Pe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Te]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Pe];a&&(i.style=a(e)||{});var o=i[Te];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Re="@global",Fe="@global ",Ne=function(){function e(e,t,n){for(var r in this.type="global",this.at=Re,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ie=function(){function e(e,t,n){this.type="global",this.at=Re,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Fe.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Be=/\s*,\s*/g;function Le(e,t){for(var n=e.split(Be),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var ze=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Re)return new Ne(e,t,n);if("@"===e[0]&&e.substr(0,Fe.length)===Fe)return new Ie(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[Re]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Le(o,e.selector)}));delete r[Re]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,Re.length)===Re){var o=Le(a.substr(Re.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},Ue=/\s*,\s*/g,je=/&/g,We=/\$([\w-]+)/g;var Ze=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ue),r=e.split(Ue),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(je,o):o+" "+s}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var u,s,l=a,c=l.options.parent;for(var f in r){var d=-1!==f.indexOf("&"),h="@"===f[0];if(d||h){if(u=n(l,c,u),d){var p=t(f,l.selector);s||(s=e(c,o)),p=p.replace(We,s);var v=l.key+"-"+f;"replaceRule"in c?c.replaceRule(v,r[f],(0,i.Z)({},u,{selector:p})):c.addRule(v,r[f],(0,i.Z)({},u,{selector:p}))}else h&&c.addRule(f,{},u).addRule(l.key,r[f],{selector:l.selector});delete r[f]}}return r}}},Ve=/[A-Z]/g,He=/^ms-/,Ge={};function qe(e){return"-"+e.toLowerCase()}var Ye=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(Ve,qe);return Ge[e]=He.test(t)?"-"+t:t};function Xe(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ye(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Xe):t.fallbacks=Xe(e.fallbacks)),t}var $e=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Xe(e[t]);return e}return Xe(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ye(t);return t===r?e:(n.prop(r,e),null)}}},Ke=xe&&CSS?CSS.px:"px",Je=xe&&CSS?CSS.ms:"ms",Qe=xe&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Je,"animation-duration":Je,"background-position":Ke,"background-position-x":Ke,"background-position-y":Ke,"background-size":Ke,border:Ke,"border-bottom":Ke,"border-bottom-left-radius":Ke,"border-bottom-right-radius":Ke,"border-bottom-width":Ke,"border-left":Ke,"border-left-width":Ke,"border-radius":Ke,"border-right":Ke,"border-right-width":Ke,"border-top":Ke,"border-top-left-radius":Ke,"border-top-right-radius":Ke,"border-top-width":Ke,"border-width":Ke,"border-block":Ke,"border-block-end":Ke,"border-block-end-width":Ke,"border-block-start":Ke,"border-block-start-width":Ke,"border-block-width":Ke,"border-inline":Ke,"border-inline-end":Ke,"border-inline-end-width":Ke,"border-inline-start":Ke,"border-inline-start-width":Ke,"border-inline-width":Ke,"border-start-start-radius":Ke,"border-start-end-radius":Ke,"border-end-start-radius":Ke,"border-end-end-radius":Ke,margin:Ke,"margin-bottom":Ke,"margin-left":Ke,"margin-right":Ke,"margin-top":Ke,"margin-block":Ke,"margin-block-end":Ke,"margin-block-start":Ke,"margin-inline":Ke,"margin-inline-end":Ke,"margin-inline-start":Ke,padding:Ke,"padding-bottom":Ke,"padding-left":Ke,"padding-right":Ke,"padding-top":Ke,"padding-block":Ke,"padding-block-end":Ke,"padding-block-start":Ke,"padding-inline":Ke,"padding-inline-end":Ke,"padding-inline-start":Ke,"mask-position-x":Ke,"mask-position-y":Ke,"mask-size":Ke,height:Ke,width:Ke,"min-height":Ke,"max-height":Ke,"min-width":Ke,"max-width":Ke,bottom:Ke,left:Ke,top:Ke,right:Ke,inset:Ke,"inset-block":Ke,"inset-block-end":Ke,"inset-block-start":Ke,"inset-inline":Ke,"inset-inline-end":Ke,"inset-inline-start":Ke,"box-shadow":Ke,"text-shadow":Ke,"column-gap":Ke,"column-rule":Ke,"column-rule-width":Ke,"column-width":Ke,"font-size":Ke,"font-size-delta":Ke,"letter-spacing":Ke,"text-decoration-thickness":Ke,"text-indent":Ke,"text-stroke":Ke,"text-stroke-width":Ke,"word-spacing":Ke,motion:Ke,"motion-offset":Ke,outline:Ke,"outline-offset":Ke,"outline-width":Ke,perspective:Ke,"perspective-origin-x":Qe,"perspective-origin-y":Qe,"transform-origin":Qe,"transform-origin-x":Qe,"transform-origin-y":Qe,"transform-origin-z":Qe,"transition-delay":Je,"transition-duration":Je,"vertical-align":Ke,"flex-basis":Ke,"shape-margin":Ke,size:Ke,gap:Ke,grid:Ke,"grid-gap":Ke,"row-gap":Ke,"grid-row-gap":Ke,"grid-column-gap":Ke,"grid-template-rows":Ke,"grid-template-columns":Ke,"grid-auto-rows":Ke,"grid-auto-columns":Ke,"box-shadow-x":Ke,"box-shadow-y":Ke,"box-shadow-blur":Ke,"box-shadow-spread":Ke,"font-line-height":Ke,"text-shadow-x":Ke,"text-shadow-y":Ke,"text-shadow-blur":Ke});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var a in t)t[a]=nt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tt[e];return!o||0===t&&o===Ke?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(3433),at="",ot="",ut="",st="",lt=u&&"ontouchstart"in document.documentElement;if(u){var ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ft=document.createElement("p").style;for(var dt in ct)if(dt+"Transform"in ft){at=dt,ot=ct[dt];break}"Webkit"===at&&"msHyphens"in ft&&(at="ms",ot=ct.ms,st="edge"),"Webkit"===at&&"-apple-trailing-word"in ft&&(ut="apple")}var ht={js:at,css:ot,vendor:ut,browser:st,isTouch:lt};var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht.js?"-webkit-"+e:ht.css+e)}},vt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht.js?ht.css+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function gt(e,t){return t?t.toUpperCase():""}function yt(e){return e.replace(mt,gt)}function bt(e){return yt("-"+e)}var _t,xt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht.js){var n="mask-image";if(yt(n)in t)return e;if(ht.js+bt(n)in t)return ht.css+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ht.vendor||ht.isTouch?e:ht.css+e)}},Et={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ht.css+e)}},Ct={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ht.css+e)}},kt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht.js||"ms"===ht.js&&"edge"!==ht.browser?ht.css+e:e)}},St={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht.js||"ms"===ht.js||"apple"===ht.vendor?ht.css+e:e)}},At={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht.js?"WebkitColumn"+bt(e)in t&&ht.css+"column-"+e:"Moz"===ht.js&&("page"+bt(e)in t&&"page-"+e))}},Dt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht.js)return e;var n=e.replace("-inline","");return ht.js+bt(n)in t&&ht.css+n}},Mt={supportedProperty:function(e,t){return yt(e)in t&&e}},Tt={supportedProperty:function(e,t){var n=bt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht.js+n in t?ht.css+e:"Webkit"!==ht.js&&"Webkit"+n in t&&"-webkit-"+e}},Pt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht.js?""+ht.css+e:e)}},Ot={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht.js?ht.css+"scroll-chaining":e)}},Rt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Ft={supportedProperty:function(e,t){var n=Rt[e];return!!n&&(ht.js+bt(n)in t&&ht.css+n)}},Nt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},It=Object.keys(Nt),Bt=function(e){return ht.css+e},Lt={supportedProperty:function(e,t,n){var r=n.multiple;if(It.indexOf(e)>-1){var i=Nt[e];if(!Array.isArray(i))return ht.js+bt(i)in t&&ht.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ht.js+bt(i[0])in t))return!1;return i.map(Bt)}return!1}},zt=[pt,vt,xt,wt,Et,Ct,kt,St,At,Dt,Mt,Tt,Pt,Ot,Ft,Lt],Ut=zt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),jt=zt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),Wt={};if(u){_t=document.createElement("p");var Zt=window.getComputedStyle(document.documentElement,"");for(var Vt in Zt)isNaN(Vt)||(Wt[Zt[Vt]]=Zt[Vt]);jt.forEach((function(e){return delete Wt[e]}))}function Ht(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=Wt[e])return Wt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Ut.length&&(Wt[e]=Ut[n](e,_t.style,t),!Wt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return Wt[e]}var Gt,qt={},Yt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Xt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function $t(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ht(t):", "+Ht(n);return r||(t||n)}function Kt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=qt[r])return qt[r];try{Gt.style[e]=n}catch(i){return qt[r]=!1,!1}if(Yt[e])n=n.replace(Xt,$t);else if(""===Gt.style[e]&&("-ms-flex"===(n=ht.css+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return qt[r]=!1,!1;return Gt.style[e]="",qt[r]=n,qt[r]}u&&(Gt=document.createElement("p"));var Jt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Ht(n);a&&a!==n&&(i=!0);var o=!1,u=Kt(a,m(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ht.js?e:"@"+ht.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Kt(t,m(e))||e}}};var Qt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var en=_e({plugins:[Oe(),ze(),Ze(),$e(),rt(),"undefined"===typeof window?null:Jt(),Qt()]}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,l=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==De.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ae]&&""===o?"".concat(a,"-").concat(l()):a}return"".concat(u).concat(i).concat(l())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.createContext(nn);var an=-1e9;var on=n(1534);var un={};function sn(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,u=e.name;if(!a.disableGeneration){var s=ke.get(a.sheetsManager,o,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},ke.set(a.sheetsManager,o,r,s));var l=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var c=a.sheetsRegistry;if(0===s.refs){var f;a.sheetsCache&&(f=ke.get(a.sheetsCache,o,r));var d=o.create(r,u);f||((f=a.jss.createStyleSheet(d,(0,i.Z)({link:!1},l))).attach(),a.sheetsCache&&ke.set(a.sheetsCache,o,r,f)),c&&c.add(f),s.staticSheet=f,s.dynamicStyles=we(d)}if(s.dynamicStyles){var h=a.jss.createStyleSheet(s.dynamicStyles,(0,i.Z)({link:!0},l));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=(0,Ee.Z)({baseClasses:s.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,u=t.Component,s=t.defaultTheme,l=void 0===s?un:s,c=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],u=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){u[e]=(0,on.Z)(u[e],o[e])})),u},options:{}}}(e),d=n||o||"makeStyles";f.options={index:an+=1,name:n,meta:d,classNamePrefix:d};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Se.Z)()||l,r=(0,i.Z)({},a.useContext(rn),c),o=a.useRef(),s=a.useRef();!function(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:f,stylesOptions:r,theme:t};return sn(i,e),s.current=!1,o.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=ke.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(ke.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}}),[t,f]),a.useEffect((function(){s.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(o.current,e),s.current=!0}));var d=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,Ee.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(o.current,e.classes,u);return d}}},5352:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},5522:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791);var i=r.createContext(null);function a(){return r.useContext(i)}},6086:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(1002),i={xs:0,sm:600,md:960,lg:1280,xl:1920},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===(0,r.Z)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},7351:function(e,t,n){"use strict";var r=n(1534);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},9908:function(e,t,n){"use strict";n.d(t,{h:function(){return f},Z:function(){return p}});var r=n(9439),i=n(6086),a=n(7351);var o={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},s={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!s[e])return[e];e=s[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],l=o[i],c=u[a]||"";return Array.isArray(c)?c.map((function(e){return l+e})):[l+c]})),c=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function f(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=f(e.theme);return Object.keys(e).map((function(n){if(-1===c.indexOf(n))return null;var r=d(l(n),t),a=e[n];return(0,i.k)(e,a,r)})).reduce(a.Z,{})}h.propTypes={},h.filterProps=c;var p=h},1534:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462),i=n(1002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},7483:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.r(t),n.d(t,{clsx:function(){return i}}),t.default=i},85:function(e){"use strict";e.exports=function(e){if(e=String(e||""),r.test(e))return"rtl";if(i.test(e))return"ltr";return"neutral"};var t="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",r=new RegExp("^[^"+n+"]*["+t+"]"),i=new RegExp("^[^"+t+"]*["+n+"]")},1189:function(e,t,n){var r=n(7424).default,i=n(861).default;e.exports=function(e){return i(e).reduce((function(e,t){var n=r(t,2),i=n[0],a=n[1];return e[i]=a,e}),{})}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=d(n,g);try{l(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function w(e){return x(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},366:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)a["f"+o]=111+o;function u(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return s(e,t)})),i=function(e){return r.some((function(t){return l(t,e)}))};return null==n?i:i(n)}function s(e,t){var n=t&&t.byKey,i={},a=(e=e.replace("++","+add")).split("+"),o=a.length;for(var u in r)i[r[u]]=!1;var s=!0,l=!1,d=void 0;try{for(var h,p=a[Symbol.iterator]();!(s=(h=p.next()).done);s=!0){var v=h.value,m=v.endsWith("?")&&v.length>1;m&&(v=v.slice(0,-1));var g=f(v),y=r[g];1!==o&&y||(n?i.key=g:i.which=c(v)),y&&(i[y]=!m||null)}}catch(b){l=!0,d=b}finally{try{!s&&p.return&&p.return()}finally{if(l)throw d}}return i}function l(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&((null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r))return!1}return!0}function c(e){return e=f(e),a[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=i[e]||e}t.TB=function(e,t){return u(e,{byKey:!0},t)}},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},821:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),i=n(72),a=n(2582),o=Math.max,u=Math.min;e.exports=function(e,t,n){var s,l,c,f,d,h,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=s,r=l;return s=l=void 0,p=t,f=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=c}function _(){var e=i();if(b(e))return x(e);d=setTimeout(_,function(e){var n=t-(e-h);return m?u(n,c-(e-p)):n}(e))}function x(e){return d=void 0,g&&s?y(e):(s=l=void 0,f)}function w(){var e=i(),n=b(e);if(s=arguments,l=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(_,t),v?y(e):f}(h);if(m)return clearTimeout(d),d=setTimeout(_,t),y(h)}return void 0===d&&(d=setTimeout(_,t)),f}return t=a(t)||0,r(n)&&(v=!!n.leading,c=(m="maxWait"in n)?o(a(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),w.cancel=function(){void 0!==d&&clearTimeout(d),p=0,s=h=l=d=void 0},w.flush=function(){return void 0===d?f:x(i())},w}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},3038:function(e,t,n){var r=n(8573),i=n(8092);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},2582:function(e,t,n){var r=n(821),i=n(8092),a=n(152),o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=u.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function l(e){return void 0===e}function c(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function h(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function g(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function y(e){var t=p(NaN);return null!=e?h(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=r.momentProperties=[],_=!1;function x(e,t){var n,r,i,a=b.length;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=m(t)),l(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)l(i=t[r=b[n]])||(e[r]=i);return e}function w(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function E(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function C(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return h((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,s=[],l=arguments.length;for(a=0;a<l;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])u(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}C(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,A={};function D(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),A[e]||(C(t),A[e]=!0)}function M(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function T(e){var t,n;for(n in e)u(e,n)&&(M(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=h({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},h(r[n],e[n]),h(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=h({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function F(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r}function N(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},z={};function U(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(z[e]=i),t&&(z[t[0]]=function(){return N(i.apply(this,arguments),t[1],t[2])}),n&&(z[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,r=e.match(I);for(t=0,n=r.length;t<n;t++)z[r[t]]?r[t]=z[r[t]]:r[t]=j(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=M(r[i])?r[i].call(t,e):r[i];return a}}function Z(e,t){return e.isValid()?(t=V(t,e.localeData()),L[t]=L[t]||W(t),L[t](e)):e.localeData().invalidDate()}function V(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;n>=0&&B.test(e);)e=e.replace(B,r),B.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function G(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var q="Invalid date";function Y(){return this._invalidDate}var X="%d",$=/\d{1,2}/;function K(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,r){var i=this._relativeTime[n];return M(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)u(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function ue(e){var t,n=[];for(t in e)u(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function se(e){return e%4===0&&e%100!==0||e%400===0}function le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=le(t)),n}function fe(e,t){return function(n){return null!=n?(he(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function he(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&se(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return M(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ue(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(M(this[e=re(e)]))return this[e](t);return this}var me,ge=/\d/,ye=/\d\d/,be=/\d{3}/,_e=/\d{4}/,xe=/[+-]?\d{6}/,we=/\d\d?/,Ee=/\d\d\d\d?/,Ce=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Se=/\d{1,4}/,Ae=/[+-]?\d{1,6}/,De=/\d+/,Me=/[+-]?\d+/,Te=/Z|[+-]\d\d:?\d\d/gi,Pe=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[+-]?\d+(\.\d{1,3})?/,Re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Fe(e,t,n){me[e]=M(t)?t:function(e,r){return e&&n?n:t}}function Ne(e,t){return u(me,e)?me[e](t._strict,t._locale):new RegExp(Ie(e))}function Ie(e){return Be(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Be(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var Le={};function ze(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)Le[e[n]]=i}function Ue(e,t){ze(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function je(e,t,n){null!=t&&u(Le,e)&&Le[e](t,n._a,n,e)}var We,Ze=0,Ve=1,He=2,Ge=3,qe=4,Ye=5,Xe=6,$e=7,Ke=8;function Je(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?se(e)?29:28:31-n%7%2}We=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Fe("M",we),Fe("MM",we,ye),Fe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Fe("MMMM",(function(e,t){return t.monthsRegex(e)})),ze(["M","MM"],(function(e,t){t[Ve]=ce(e)-1})),ze(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ve]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Re,it=Re;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=We.call(this._shortMonthsParse,o))?i:null:-1!==(i=We.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=We.call(this._shortMonthsParse,o))||-1!==(i=We.call(this._longMonthsParse,o))?i:null:-1!==(i=We.call(this._longMonthsParse,o))||-1!==(i=We.call(this._shortMonthsParse,o))?i:null}function st(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function lt(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(lt(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ft(){return Qe(this.year(),this.month())}function dt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Be(r[t]),i[t]=Be(i[t]);for(t=0;t<24;t++)a[t]=Be(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return se(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?N(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Fe("Y",Me),Fe("YY",we,ye),Fe("YYYY",Se,_e),Fe("YYYYY",Ae,xe),Fe("YYYYYY",Ae,xe),ze(["YYYYY","YYYYYY"],Ze),ze("YYYY",(function(e,t){t[Ze]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),ze("YY",(function(e,t){t[Ze]=r.parseTwoDigitYear(e)})),ze("Y",(function(e,t){t[Ze]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function gt(){return se(this.year())}function yt(e,t,n,r,i,a,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,a,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,a,o),u}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _t(e,t,n){var r=7+t-n;return-(7+bt(e,0,r).getUTCDay()-t)%7+r-1}function xt(e,t,n,r,i){var a,o,u=1+7*(t-1)+(7+n-r)%7+_t(e,r,i);return u<=0?o=vt(a=e-1)+u:u>vt(e)?(a=e+1,o=u-vt(e)):(a=e,o=u),{year:a,dayOfYear:o}}function wt(e,t,n){var r,i,a=_t(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+Et(i=e.year()-1,t,n):o>Et(e.year(),t,n)?(r=o-Et(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Et(e,t,n){var r=_t(e,t,n),i=_t(e+1,t,n);return(vt(e)-r+i)/7}function Ct(e){return wt(e,this._week.dow,this._week.doy).week}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Fe("w",we),Fe("ww",we,ye),Fe("W",we),Fe("WW",we,ye),Ue(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var kt={dow:0,doy:6};function St(){return this._week.dow}function At(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Mt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Tt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Fe("d",we),Fe("e",we),Fe("E",we),Fe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Fe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Fe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ue(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ue(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ft="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Nt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),It=Re,Bt=Re,Lt=Re;function zt(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Ut(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function jt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Wt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=We.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=We.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=We.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=We.call(this._weekdaysParse,o))||-1!==(i=We.call(this._shortWeekdaysParse,o))||-1!==(i=We.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=We.call(this._shortWeekdaysParse,o))||-1!==(i=We.call(this._weekdaysParse,o))||-1!==(i=We.call(this._minWeekdaysParse,o))?i:null:-1!==(i=We.call(this._minWeekdaysParse,o))||-1!==(i=We.call(this._weekdaysParse,o))||-1!==(i=We.call(this._shortWeekdaysParse,o))?i:null}function Zt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return Wt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Vt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Tt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Gt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function qt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=It),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$t.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Lt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],u=[],s=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Be(this.weekdaysMin(n,"")),i=Be(this.weekdaysShort(n,"")),a=Be(this.weekdays(n,"")),o.push(r),u.push(i),s.push(a),l.push(r),l.push(i),l.push(a);o.sort(e),u.sort(e),s.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Qt(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Kt),U("k",["kk",2],0,Jt),U("hmm",0,0,(function(){return""+Kt.apply(this)+N(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Kt.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+N(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),oe("hour",13),Fe("a",en),Fe("A",en),Fe("H",we),Fe("h",we),Fe("k",we),Fe("HH",we,ye),Fe("hh",we,ye),Fe("kk",we,ye),Fe("hmm",Ee),Fe("hmmss",Ce),Fe("Hmm",Ee),Fe("Hmmss",Ce),ze(["H","HH"],Ge),ze(["k","kk"],(function(e,t,n){var r=ce(e);t[Ge]=24===r?0:r})),ze(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ze(["h","hh"],(function(e,t,n){t[Ge]=ce(e),m(n).bigHour=!0})),ze("hmm",(function(e,t,n){var r=e.length-2;t[Ge]=ce(e.substr(0,r)),t[qe]=ce(e.substr(r)),m(n).bigHour=!0})),ze("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=ce(e.substr(0,r)),t[qe]=ce(e.substr(r,2)),t[Ye]=ce(e.substr(i)),m(n).bigHour=!0})),ze("Hmm",(function(e,t,n){var r=e.length-2;t[Ge]=ce(e.substr(0,r)),t[qe]=ce(e.substr(r))})),ze("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ge]=ce(e.substr(0,r)),t[qe]=ce(e.substr(r,2)),t[Ye]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,un={calendar:R,longDateFormat:H,invalidDate:q,ordinal:X,dayOfMonthOrdinalParse:$,relativeTime:J,months:et,monthsShort:tt,week:kt,weekdays:Rt,weekdaysMin:Nt,weekdaysShort:Ft,meridiemParse:nn},sn={},ln={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}a++}return on}function hn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===sn[t]&&e&&e.exports&&hn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){sn[t]=null}return sn[t]}function vn(e,t){var n;return e&&((n=l(t)?yn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=sn[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return ln[t.parentLocale]||(ln[t.parentLocale]=[]),ln[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new O(P(r,t)),ln[e]&&ln[e].forEach((function(e){mn(e.name,e.config)})),vn(e),sn[e]}return delete sn[e],null}function gn(e,t){if(null!=t){var n,r,i=un;null!=sn[e]&&null!=sn[e].parentLocale?sn[e].set(P(sn[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=sn[e],sn[e]=n),vn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?(sn[e]=sn[e].parentLocale,e===vn()&&vn(e)):null!=sn[e]&&delete sn[e]);return sn[e]}function yn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function bn(){return S(sn)}function _n(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[Ve]<0||n[Ve]>11?Ve:n[He]<1||n[He]>Qe(n[Ze],n[Ve])?He:n[Ge]<0||n[Ge]>24||24===n[Ge]&&(0!==n[qe]||0!==n[Ye]||0!==n[Xe])?Ge:n[qe]<0||n[qe]>59?qe:n[Ye]<0||n[Ye]>59?Ye:n[Xe]<0||n[Xe]>999?Xe:-1,m(e)._overflowDayOfYear&&(t<Ze||t>He)&&(t=He),m(e)._overflowWeeks&&-1===t&&(t=$e),m(e)._overflowWeekday&&-1===t&&(t=Ke),m(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sn=/^\/?Date\((-?\d+)/i,An=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Dn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Mn(e){var t,n,r,i,a,o,u=e._i,s=xn.exec(u)||wn.exec(u),l=Cn.length,c=kn.length;if(s){for(m(e).iso=!0,t=0,n=l;t<n;t++)if(Cn[t][1].exec(s[1])){i=Cn[t][0],r=!1!==Cn[t][2];break}if(null==i)return void(e._isValid=!1);if(s[3]){for(t=0,n=c;t<n;t++)if(kn[t][1].exec(s[3])){a=(s[2]||" ")+kn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!En.exec(s[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),jn(e)}else e._isValid=!1}function Tn(e,t,n,r,i,a){var o=[Pn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Ft.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Fn(e,t,n){if(e)return Dn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Nn(e){var t,n=An.exec(On(e._i));if(n){if(t=Tn(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=Fn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function In(e){var t=Sn.exec(e._i);null===t?(Mn(e),!1===e._isValid&&(delete e._isValid,Nn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Bn(e,t,n){return null!=e?e:null!=t?t:n}function Ln(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function zn(e){var t,n,r,i,a,o=[];if(!e._d){for(r=Ln(e),e._w&&null==e._a[He]&&null==e._a[Ve]&&Un(e),null!=e._dayOfYear&&(a=Bn(e._a[Ze],r[Ze]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=bt(a,0,e._dayOfYear),e._a[Ve]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ge]&&0===e._a[qe]&&0===e._a[Ye]&&0===e._a[Xe]&&(e._nextDay=!0,e._a[Ge]=0),e._d=(e._useUTC?bt:yt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ge]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,i,a,o,u,s,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Bn(t.GG,e._a[Ze],wt(Xn(),1,4).year),r=Bn(t.W,1),((i=Bn(t.E,1))<1||i>7)&&(s=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,l=wt(Xn(),a,o),n=Bn(t.gg,e._a[Ze],l.year),r=Bn(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(s=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(s=!0)):i=a),r<1||r>Et(n,a,o)?m(e)._overflowWeeks=!0:null!=s?m(e)._overflowWeekday=!0:(u=xt(n,r,i,a,o),e._a[Ze]=u.year,e._dayOfYear=u.dayOfYear)}function jn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,u,s,l=""+e._i,c=l.length,f=0;for(s=(i=V(e._f,e._locale).match(I)||[]).length,t=0;t<s;t++)a=i[t],(n=(l.match(Ne(a,e))||[])[0])&&((o=l.substr(0,l.indexOf(n))).length>0&&m(e).unusedInput.push(o),l=l.slice(l.indexOf(n)+n.length),f+=n.length),z[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),je(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=c-f,l.length>0&&m(e).unusedInput.push(l),e._a[Ge]<=12&&!0===m(e).bigHour&&e._a[Ge]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[Ge]=Wn(e._locale,e._a[Ge],e._meridiem),null!==(u=m(e).era)&&(e._a[Ze]=e._locale.erasConvertYear(u,e._a[Ze])),zn(e),_n(e)}else Nn(e);else Mn(e)}function Wn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Zn(e){var t,n,r,i,a,o,u=!1,s=e._f.length;if(0===s)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<s;i++)a=0,o=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],jn(t),g(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,u?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(u=!0));h(e,n||t)}function Vn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),zn(e)}}function Hn(e){var t=new w(_n(Gn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Gn(e){var t=e._i,n=e._f;return e._locale=e._locale||yn(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new w(_n(t)):(f(t)?e._d=t:a(n)?Zn(e):n?jn(e):qn(e),g(e)||(e._d=null),e))}function qn(e){var t=e._i;l(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?In(e):a(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),zn(e)):o(t)?Vn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Hn(u)}function Xn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var $n=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()})),Kn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()}));function Jn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Qn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(u(e,t)&&(-1===We.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Dr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,s=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*l+6e4*s+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=yn(),this._bubble()}function ur(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function lr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&o++;return o+a}function cr(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Fe("Z",Pe),Fe("ZZ",Pe),ze(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=dr(Pe,e)}));var fr=/([\+\-]|\d\d)/gi;function dr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||f(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Xn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=dr(Pe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Rr(this,Dr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gr(e){return this.utcOffset(0,e)}function yr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=dr(Te,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function _r(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=Gn(t))._a?(e=t._isUTC?p(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&lr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Sr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ar=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Dr(e,t){var n,r,i,a=e,o=null;return ur(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Sr.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:ce(o[He])*n,h:ce(o[Ge])*n,m:ce(o[qe])*n,s:ce(o[Ye])*n,ms:ce(sr(1e3*o[Xe]))*n}):(o=Ar.exec(e))?(n="-"===o[1]?-1:1,a={y:Mr(o[2],n),M:Mr(o[3],n),w:Mr(o[4],n),d:Mr(o[5],n),h:Mr(o[6],n),m:Mr(o[7],n),s:Mr(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Pr(Xn(a.from),Xn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),ur(e)&&u(e,"_locale")&&(r._locale=e._locale),ur(e)&&u(e,"_isValid")&&(r._isValid=e._isValid),r}function Mr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Tr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Tr(e,t):((n=Tr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Dr(n,r),e),this}}function Rr(e,t,n,i){var a=t._milliseconds,o=sr(t._days),u=sr(t._months);e.isValid()&&(i=null==i||i,u&&lt(e,de(e,"Month")+u*n),o&&he(e,"Date",de(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||u))}Dr.fn=or.prototype,Dr.invalid=ar;var Fr=Or(1,"add"),Nr=Or(-1,"subtract");function Ir(e){return"string"===typeof e||e instanceof String}function Br(e){return E(e)||f(e)||Ir(e)||c(e)||zr(e)||Lr(e)||null===e||void 0===e}function Lr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],l=a.length;for(t=0;t<l;t+=1)n=a[t],i=i||u(e,n);return r&&i}function zr(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Ir(e)})).length),t&&n}function Ur(e){var t,n,r=o(e)&&!s(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function jr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wr(e,t){1===arguments.length&&(arguments[0]?Br(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),i=hr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(M(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Xn(n)))}function Zr(){return new w(this)}function Vr(e,t){var n=E(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=E(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Gr(e,t,n,r){var i=E(e)?e:Xn(e),a=E(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function qr(e,t){var n,r=E(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function $r(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=Kr(this,r)/12;break;case"month":a=Kr(this,r);break;case"quarter":a=Kr(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:le(a)}function Kr(e,t){if(e.date()<t.date())return-Kr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Z(n,"Z")):Z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=Z(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(E(e)&&e.isValid()||Xn(e).isValid())?Dr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Xn(),e)}function ii(e,t){return this.isValid()&&(E(e)&&e.isValid()||Xn(e).isValid())?Dr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Xn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ui=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var li=1e3,ci=60*li,fi=60*ci,di=3506328*fi;function hi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-di:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-di:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),fi);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,li)}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-hi(t+(this._isUTC?0:this.utcOffset()*ci),fi)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=li-hi(t,li)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function _i(){return new Date(this.valueOf())}function xi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Ci(){return g(this)}function ki(){return h({},m(this))}function Si(){return m(this).overflow}function Ai(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Di(e,t){var n,i,a,o=this._eras||yn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Mi(e,t,n){var r,i,a,o,u,s=this.eras();for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(u===e)return s[r]}else if([a,o,u].indexOf(e)>=0)return s[r]}function Ti(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Fi(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Ni(e){return u(this,"_erasNameRegex")||Wi.call(this),e?this._erasNameRegex:this._erasRegex}function Ii(e){return u(this,"_erasAbbrRegex")||Wi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Bi(e){return u(this,"_erasNarrowRegex")||Wi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Li(e,t){return t.erasAbbrRegex(e)}function zi(e,t){return t.erasNameRegex(e)}function Ui(e,t){return t.erasNarrowRegex(e)}function ji(e,t){return t._eraYearOrdinalRegex||De}function Wi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Be(o[e].name)),n.push(Be(o[e].abbr)),i.push(Be(o[e].narrow)),a.push(Be(o[e].name)),a.push(Be(o[e].abbr)),a.push(Be(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Zi(e,t){U(0,[e,e.length],0,t)}function Vi(e){return $i.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return $i.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gi(){return Et(this.year(),1,4)}function qi(){return Et(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function $i(e,t,n,r,i){var a;return null==e?wt(this,r,i).year:(t>(a=Et(e,r,i))&&(t=a),Ki.call(this,e,t,n,r,i))}function Ki(e,t,n,r,i){var a=xt(e,t,n,r,i),o=bt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),Fe("N",Li),Fe("NN",Li),Fe("NNN",Li),Fe("NNNN",zi),Fe("NNNNN",Ui),ze(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Fe("y",De),Fe("yy",De),Fe("yyy",De),Fe("yyyy",De),Fe("yo",ji),ze(["y","yy","yyy","yyyy"],Ze),ze(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ze]=n._locale.eraYearOrdinalParse(e,i):t[Ze]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Zi("gggg","weekYear"),Zi("ggggg","weekYear"),Zi("GGGG","isoWeekYear"),Zi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Fe("G",Me),Fe("g",Me),Fe("GG",we,ye),Fe("gg",we,ye),Fe("GGGG",Se,_e),Fe("gggg",Se,_e),Fe("GGGGG",Ae,xe),Fe("ggggg",Ae,xe),Ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),Ue(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Fe("Q",ge),ze("Q",(function(e,t){t[Ve]=3*(ce(e)-1)})),U("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Fe("D",we),Fe("DD",we,ye),Fe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ze(["D","DD"],He),ze("Do",(function(e,t){t[He]=ce(e.match(we)[0])}));var Qi=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}U("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Fe("DDD",ke),Fe("DDDD",be),ze(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),U("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Fe("m",we),Fe("mm",we,ye),ze(["m","mm"],qe);var ta=fe("Minutes",!1);U("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Fe("s",we),Fe("ss",we,ye),ze(["s","ss"],Ye);var na,ra,ia=fe("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Fe("S",ke,ge),Fe("SS",ke,ye),Fe("SSS",ke,be),na="SSSS";na.length<=9;na+="S")Fe(na,De);function aa(e,t){t[Xe]=ce(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")ze(na,aa);function oa(){return this._isUTC?"UTC":""}function ua(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var sa=w.prototype;function la(e){return Xn(1e3*e)}function ca(){return Xn.apply(null,arguments).parseZone()}function fa(e){return e}sa.add=Fr,sa.calendar=Wr,sa.clone=Zr,sa.diff=$r,sa.endOf=gi,sa.format=ti,sa.from=ni,sa.fromNow=ri,sa.to=ii,sa.toNow=ai,sa.get=pe,sa.invalidAt=Si,sa.isAfter=Vr,sa.isBefore=Hr,sa.isBetween=Gr,sa.isSame=qr,sa.isSameOrAfter=Yr,sa.isSameOrBefore=Xr,sa.isValid=Ci,sa.lang=ui,sa.locale=oi,sa.localeData=si,sa.max=Kn,sa.min=$n,sa.parsingFlags=ki,sa.set=ve,sa.startOf=mi,sa.subtract=Nr,sa.toArray=xi,sa.toObject=wi,sa.toDate=_i,sa.toISOString=Qr,sa.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=Ei,sa.toString=Jr,sa.unix=bi,sa.valueOf=yi,sa.creationData=Ai,sa.eraName=Pi,sa.eraNarrow=Oi,sa.eraAbbr=Ri,sa.eraYear=Fi,sa.year=mt,sa.isLeapYear=gt,sa.weekYear=Vi,sa.isoWeekYear=Hi,sa.quarter=sa.quarters=Ji,sa.month=ct,sa.daysInMonth=ft,sa.week=sa.weeks=Dt,sa.isoWeek=sa.isoWeeks=Mt,sa.weeksInYear=Yi,sa.weeksInWeekYear=Xi,sa.isoWeeksInYear=Gi,sa.isoWeeksInISOWeekYear=qi,sa.date=Qi,sa.day=sa.days=Vt,sa.weekday=Ht,sa.isoWeekday=Gt,sa.dayOfYear=ea,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ta,sa.second=sa.seconds=ia,sa.millisecond=sa.milliseconds=ra,sa.utcOffset=vr,sa.utc=gr,sa.local=yr,sa.parseZone=br,sa.hasAlignedHourOffset=_r,sa.isDST=xr,sa.isLocal=Er,sa.isUtcOffset=Cr,sa.isUtc=kr,sa.isUTC=kr,sa.zoneAbbr=oa,sa.zoneName=ua,sa.dates=k("dates accessor is deprecated. Use date instead.",Qi),sa.months=k("months accessor is deprecated. Use month instead",ct),sa.years=k("years accessor is deprecated. Use year instead",mt),sa.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),sa.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var da=O.prototype;function ha(e,t,n,r){var i=yn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return ha(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ha(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,a=yn(),o=e?a._week.dow:0,u=[];if(null!=n)return ha(t,(n+o)%7,r,"day");for(i=0;i<7;i++)u[i]=ha(t,(i+o)%7,r,"day");return u}function ma(e,t){return pa(e,t,"months")}function ga(e,t){return pa(e,t,"monthsShort")}function ya(e,t,n){return va(e,t,n,"weekdays")}function ba(e,t,n){return va(e,t,n,"weekdaysShort")}function _a(e,t,n){return va(e,t,n,"weekdaysMin")}da.calendar=F,da.longDateFormat=G,da.invalidDate=Y,da.ordinal=K,da.preparse=fa,da.postformat=fa,da.relativeTime=Q,da.pastFuture=ee,da.set=T,da.eras=Di,da.erasParse=Mi,da.erasConvertYear=Ti,da.erasAbbrRegex=Ii,da.erasNameRegex=Ni,da.erasNarrowRegex=Bi,da.months=at,da.monthsShort=ot,da.monthsParse=st,da.monthsRegex=ht,da.monthsShortRegex=dt,da.week=Ct,da.firstDayOfYear=At,da.firstDayOfWeek=St,da.weekdays=zt,da.weekdaysMin=jt,da.weekdaysShort=Ut,da.weekdaysParse=Zt,da.weekdaysRegex=qt,da.weekdaysShortRegex=Yt,da.weekdaysMinRegex=Xt,da.isPM=tn,da.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",yn);var xa=Math.abs;function wa(){var e=this._data;return this._milliseconds=xa(this._milliseconds),this._days=xa(this._days),this._months=xa(this._months),e.milliseconds=xa(e.milliseconds),e.seconds=xa(e.seconds),e.minutes=xa(e.minutes),e.hours=xa(e.hours),e.months=xa(e.months),e.years=xa(e.years),this}function Ea(e,t,n,r){var i=Dr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ca(e,t){return Ea(this,e,t,1)}function ka(e,t){return Ea(this,e,t,-1)}function Sa(e){return e<0?Math.floor(e):Math.ceil(e)}function Aa(){var e,t,n,r,i,a=this._milliseconds,o=this._days,u=this._months,s=this._data;return a>=0&&o>=0&&u>=0||a<=0&&o<=0&&u<=0||(a+=864e5*Sa(Ma(u)+o),o=0,u=0),s.milliseconds=a%1e3,e=le(a/1e3),s.seconds=e%60,t=le(e/60),s.minutes=t%60,n=le(t/60),s.hours=n%24,o+=le(n/24),u+=i=le(Da(o)),o-=Sa(Ma(i)),r=le(u/12),u%=12,s.days=o,s.months=u,s.years=r,this}function Da(e){return 4800*e/146097}function Ma(e){return 146097*e/4800}function Ta(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Da(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ma(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Pa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function Oa(e){return function(){return this.as(e)}}var Ra=Oa("ms"),Fa=Oa("s"),Na=Oa("m"),Ia=Oa("h"),Ba=Oa("d"),La=Oa("w"),za=Oa("M"),Ua=Oa("Q"),ja=Oa("y");function Wa(){return Dr(this)}function Za(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Va(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ha=Va("milliseconds"),Ga=Va("seconds"),qa=Va("minutes"),Ya=Va("hours"),Xa=Va("days"),$a=Va("months"),Ka=Va("years");function Ja(){return le(this.days()/7)}var Qa=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Dr(e).abs(),a=Qa(i.as("s")),o=Qa(i.as("m")),u=Qa(i.as("h")),s=Qa(i.as("d")),l=Qa(i.as("M")),c=Qa(i.as("w")),f=Qa(i.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||l<=1&&["M"]||l<n.M&&["MM",l]||f<=1&&["y"]||["yy",f])[2]=t,d[3]=+e>0,d[4]=r,to.apply(null,d)}function ro(e){return void 0===e?Qa:"function"===typeof e&&(Qa=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function uo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,u,s=oo(this._milliseconds)/1e3,l=oo(this._days),c=oo(this._months),f=this.asSeconds();return f?(e=le(s/60),t=le(e/60),s%=60,e%=60,n=le(c/12),c%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=uo(this._months)!==uo(f)?"-":"",o=uo(this._days)!==uo(f)?"-":"",u=uo(this._milliseconds)!==uo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(c?a+c+"M":"")+(l?o+l+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+r+"S":"")):"P0D"}var lo=or.prototype;return lo.isValid=ir,lo.abs=wa,lo.add=Ca,lo.subtract=ka,lo.as=Ta,lo.asMilliseconds=Ra,lo.asSeconds=Fa,lo.asMinutes=Na,lo.asHours=Ia,lo.asDays=Ba,lo.asWeeks=La,lo.asMonths=za,lo.asQuarters=Ua,lo.asYears=ja,lo.valueOf=Pa,lo._bubble=Aa,lo.clone=Wa,lo.get=Za,lo.milliseconds=Ha,lo.seconds=Ga,lo.minutes=qa,lo.hours=Ya,lo.days=Xa,lo.weeks=Ja,lo.months=$a,lo.years=Ka,lo.humanize=ao,lo.toISOString=so,lo.toString=so,lo.toJSON=so,lo.locale=oi,lo.localeData=si,lo.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),lo.lang=ui,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Fe("x",Me),Fe("X",Oe),ze("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),ze("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.4",i(Xn),r.fn=sa,r.min=Qn,r.max=er,r.now=tr,r.utc=p,r.unix=la,r.months=ma,r.isDate=f,r.locale=vn,r.invalid=y,r.duration=Dr,r.isMoment=E,r.weekdays=ya,r.parseZone=ca,r.localeData=yn,r.isDuration=ur,r.monthsShort=ga,r.weekdaysMin=_a,r.defineLocale=mn,r.updateLocale=gn,r.locales=bn,r.weekdaysShort=ba,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=jr,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,n,r){"use strict";var i=r(2791),a=r(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var B,L=Object.assign;function z(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(ne(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,fe,de=(fe=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return fe(e,t)}))}:fe);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,ke=null;function Se(e){if(e=_i(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ae(e){Ce?ke?ke.push(e):ke=[e]:Ce=e}function De(){if(Ce){var e=Ce,t=ke;if(ke=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Me(e,t){return e(t)}function Te(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Me(e,t,n)}finally{Pe=!1,(null!==Ce||null!==ke)&&(Te(),De())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Fe=!1;if(f)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(fe){Fe=!1}function Ie(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Be=!1,Le=null,ze=!1,Ue=null,je={onError:function(e){Be=!0,Le=e}};function We(e,t,n,r,i,a,o,u,s){Be=!1,Le=null,Ie.apply(je,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ze(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,$e=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Je=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,et=a.unstable_ImmediatePriority,tt=a.unstable_UserBlockingPriority,nt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,it=a.unstable_IdlePriority,at=null,ot=null;var ut=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ft=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=dt(u):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ut(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ut(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,Ct,kt,St,At=!1,Dt=[],Mt=null,Tt=null,Pt=null,Ot=new Map,Rt=new Map,Ft=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=bi(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){zt(e)&&n.delete(t)}function jt(){At=!1,null!==Mt&&zt(Mt)&&(Mt=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),Ot.forEach(Ut),Rt.forEach(Ut)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,jt)))}function Zt(e){function t(t){return Wt(t,e)}if(0<Dt.length){Wt(Dt[0],e);for(var n=1;n<Dt.length;n++){var r=Dt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Mt&&Wt(Mt,e),null!==Tt&&Wt(Tt,e),null!==Pt&&Wt(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ft.shift()}var Vt=x.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=_t,a=Vt.transition;Vt.transition=null;try{_t=1,Yt(e,t,n,r)}finally{_t=i,Vt.transition=a}}function qt(e,t,n,r){var i=_t,a=Vt.transition;Vt.transition=null;try{_t=4,Yt(e,t,n,r)}finally{_t=i,Vt.transition=a}}function Yt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Mt=Bt(Mt,e,t,n,r,i),!0;case"dragenter":return Tt=Bt(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=Bt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Bt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Bt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Xt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function $t(e,t,n,r){if(Xt=null,null!==(e=bi(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,en=null;function tn(){if(en)return en;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var un,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),vn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(bn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return kn}var An=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(An),Mn=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(On),Fn=[9,13,27,32],Nn=f&&"CompositionEvent"in window,In=null;f&&"documentMode"in document&&(In=document.documentMode);var Bn=f&&"TextEvent"in window&&!In,Ln=f&&(!Nn||In&&8<In&&11>=In),zn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ae(r),0<(t=qr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Xn(e){zr(e,0)}function $n(e){if(Y(xi(e)))return e}function Kn(e,t){if("change"===e)return t}var Jn=!1;if(f){var Qn;if(f){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}Qn=er}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function nr(){qn&&(qn.detachEvent("onpropertychange",rr),Yn=qn=null)}function rr(e){if("value"===e.propertyName&&$n(Yn)){var t=[];Gn(t,Yn,e,we(e)),Oe(Xn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Yn=n,(qn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Yn)}function or(e,t){if("click"===e)return $n(t)}function ur(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=fr(n,a);var o=fr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,br=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=qr(yr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},kr={};function Sr(e){if(Cr[e])return Cr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Cr[e]=n[t];return e}f&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Ar=Sr("animationend"),Dr=Sr("animationiteration"),Mr=Sr("animationstart"),Tr=Sr("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var Fr=0;Fr<Or.length;Fr++){var Nr=Or[Fr];Rr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Rr(Ar,"onAnimationEnd"),Rr(Dr,"onAnimationIteration"),Rr(Mr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,l){if(We.apply(this,arguments),Be){if(!Be)throw Error(o(198));var c=Le;Be=!1,Le=null,ze||(ze=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,l),a=s}}}if(ze)throw e=Ue,ze=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Wr]){e[Wr]=!0,u.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,jr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=bi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Pr.get(e);if(void 0!==u){var s=fn,l=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":s=Dn;break;case"focusin":l="focus",s=gn;break;case"focusout":l="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Ar:case Dr:case Mr:s=yn;break;case Tr:s=Pn;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Mn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Re(p,d))&&c.push(Gr(p,v,h)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===xe||!(l=n.relatedTarget||n.fromElement)||!bi(l)&&!l[vi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?bi(l):null)&&(l!==(f=Ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=vn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Mn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:xi(s),h=null==l?u:xi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,bi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(d=l,p=0,h=c=s;h;h=Yr(h))p++;for(h=0,v=d;v;v=Yr(v))h++;for(;0<p-h;)c=Yr(c),p--;for(;0<h-p;)d=Yr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Yr(c),d=Yr(d)}c=null}else c=null;null!==s&&Xr(o,u,s,c,!1),null!==l&&null!==f&&Xr(o,f,l,c,!0)}if("select"===(s=(u=r?xi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Kn;else if(Hn(u))if(Jn)m=ur;else{m=ar;var g=ir}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=or);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&te(u,"number",u.value)),g=r?xi(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(gr=g,yr=r,br=null);break;case"focusout":br=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Zn?jn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Zn&&(y=tn()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,Zn=!0)),0<(g=qr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Wn(n))&&(b.data=y))),(y=Bn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Un=!0,zn);case"textInput":return(e=t.data)===zn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Nn&&jn(e,t)?(e=tn(),en=Qt=Jt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}zr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=Re(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Re(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ai="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ui="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ii;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function fi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,vi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=fi(e);null!==e;){if(n=e[hi])return n;e=fi(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Ei=[],Ci=-1;function ki(e){return{current:e}}function Si(e){0>Ci||(e.current=Ei[Ci],Ei[Ci]=null,Ci--)}function Ai(e,t){Ci++,Ei[Ci]=e.current,e.current=t}var Di={},Mi=ki(Di),Ti=ki(!1),Pi=Di;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fi(){Si(Ti),Si(Mi)}function Ni(e,t,n){if(Mi.current!==Di)throw Error(o(168));Ai(Mi,t),Ai(Ti,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return L({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,Pi=Mi.current,Ai(Mi,e),Ai(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ii(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Ti),Si(Mi),Ai(Mi,e)):Si(Ti),Ai(Ti,n)}var zi=null,Ui=!1,ji=!1;function Wi(e){null===zi?zi=[e]:zi.push(e)}function Zi(){if(!ji&&null!==zi){ji=!0;var e=0,t=_t;try{var n=zi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Ui=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ye(et,Zi),i}finally{_t=t,ji=!1}}return null}var Vi=[],Hi=0,Gi=null,qi=0,Yi=[],Xi=0,$i=null,Ki=1,Ji="";function Qi(e,t){Vi[Hi++]=qi,Vi[Hi++]=Gi,Gi=e,qi=t}function ea(e,t,n){Yi[Xi++]=Ki,Yi[Xi++]=Ji,Yi[Xi++]=$i,$i=e;var r=Ki;e=Ji;var i=32-ut(r)-1;r&=~(1<<i),n+=1;var a=32-ut(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ki=1<<32-ut(t)+i|n<<i|r,Ji=a+e}else Ki=1<<a|n<<i|r,Ji=e}function ta(e){null!==e.return&&(Qi(e,1),ea(e,1,0))}function na(e){for(;e===Gi;)Gi=Vi[--Hi],Vi[Hi]=null,qi=Vi[--Hi],Vi[Hi]=null;for(;e===$i;)$i=Yi[--Xi],Yi[Xi]=null,Ji=Yi[--Xi],Yi[Xi]=null,Ki=Yi[--Xi],Yi[Xi]=null}var ra=null,ia=null,aa=!1,oa=null;function ua(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,ia=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ki,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var t=ia;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(o(418));t=ci(n.nextSibling);var r=ra;t&&sa(e,t)?ua(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(la(e))throw Error(o(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function da(e){if(e!==ra)return!1;if(!aa)return fa(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(o(418));for(;t;)ua(e,t),t=ci(t.nextSibling)}if(fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=ra?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=ci(e.nextSibling)}function pa(){ia=ra=null,aa=!1}function va(e){null===oa?oa=[e]:oa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=ki(null),ba=null,_a=null,xa=null;function wa(){xa=_a=ba=null}function Ea(e){var t=ya.current;Si(ya),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){ba=e,xa=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ba)throw Error(o(308));_a=e,ba.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Aa=null;function Da(e){null===Aa?Aa=[e]:Aa.push(e)}function Ma(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Da(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Da(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Ia(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=L({},f,d);break e;case 2:Pa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=h,s=f):c=c.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ua=(new i.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Wa={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(il(t,e,i,r),Ia(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nl(),i=rl(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(il(t,e,i,r),Ia(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nl(),r=rl(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(il(t,e,r,n),Ia(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function Va(e,t,n){var r=!1,i=Di,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Pi:Mi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Di),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Wa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wa.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Pi:Mi.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Wa.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===C?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Xa(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Il(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case E:return(t=Ul(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(ne(t)||I(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Ya(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(ne(n)||I(n))return null!==i?null:f(e,t,n,r,null);Ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||I(r))return f(t,e=e.get(n)||null,r,i,null);Ya(t,r)}return null}function v(i,o,u,s){for(var l=null,c=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===u.length)return n(i,f),aa&&Qi(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return aa&&Qi(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),aa&&Qi(i,v),l}function m(i,u,s,l){var c=I(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=a(b,u,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),aa&&Qi(i,m),c;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,l))&&(u=a(y,u,m),null===f?c=y:f.sibling=y,f=y);return aa&&Qi(i,m),c}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=a(y,u,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),aa&&Qi(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===C){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Xa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((a=Bl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Il(o.type,o.key,o.props,null,r.mode,s)).ref=qa(r,a,o),s.return=r,r=s)}return u(r);case E:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(c=o._init)(o._payload),s)}if(ne(o))return v(r,a,o,s);if(I(o))return m(r,a,o,s);Ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=zl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ka=$a(!0),Ja=$a(!1),Qa={},eo=ki(Qa),to=ki(Qa),no=ki(Qa);function ro(e){if(e===Qa)throw Error(o(174));return e}function io(e,t){switch(Ai(no,t),Ai(to,e),Ai(eo,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(eo),Ai(eo,t)}function ao(){Si(eo),Si(to),Si(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=le(t,e.type);t!==n&&(Ai(to,e),Ai(eo,n))}function uo(e){to.current===e&&(Si(eo),Si(to))}var so=ki(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function fo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=x.ReactCurrentDispatcher,po=x.ReactCurrentBatchConfig,vo=0,mo=null,go=null,yo=null,bo=!1,_o=!1,xo=0,wo=0;function Eo(){throw Error(o(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,a){if(vo=a,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?su:lu,e=n(r,i),_o){a=0;do{if(_o=!1,xo=0,25<=a)throw Error(o(301));a+=1,yo=go=null,t.updateQueue=null,ho.current=cu,e=n(r,i)}while(_o)}if(ho.current=uu,t=null!==go&&null!==go.next,vo=0,yo=go=mo=null,bo=!1,t)throw Error(o(300));return e}function So(){var e=0!==xo;return xo=0,e}function Ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function Do(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(o(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function Mo(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Do(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=u=null,l=null,c=a;do{var f=c.lane;if((vo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,u=r):l=l.next=d,mo.lanes|=f,Ls|=f}c=c.next}while(null!==c&&c!==a);null===l?u=r:l.next=s,sr(r,t.memoizedState)||(xu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,mo.lanes|=a,Ls|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=Do(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);sr(a,t.memoizedState)||(xu=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oo(){}function Ro(e,t){var n=mo,r=Do(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xu=!0),r=r.queue,Ho(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,No.bind(null,n,r,i,t),void 0,null),null===Ps)throw Error(o(349));0!==(30&vo)||Fo(n,t,i)}return i}function Fo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Bo(t)&&Lo(e)}function Io(e,t,n){return n((function(){Bo(t)&&Lo(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=Ta(e,1);null!==t&&il(t,e,1,-1)}function zo(e){var t=Ao();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=ru.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Do().memoizedState}function Wo(e,t,n,r){var i=Ao();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=Do();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function Vo(e,t){return Wo(8390656,8,e,t)}function Ho(e,t){return Zo(2048,8,e,t)}function Go(e,t){return Zo(4,2,e,t)}function qo(e,t){return Zo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,Yo.bind(null,t,e),n)}function $o(){}function Ko(e,t){var n=Do();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Do();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,xu=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Ls|=n,e.baseState=!0),t)}function eu(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{_t=n,po.transition=r}}function tu(){return Do().memoizedState}function nu(e,t,n){var r=rl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iu(e))au(t,n);else if(null!==(n=Ma(e,t,n,r))){il(n,e,r,nl()),ou(n,t,r)}}function ru(e,t,n){var r=rl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iu(e))au(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,sr(u,o)){var s=t.interleaved;return null===s?(i.next=i,Da(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ma(e,t,i,r))&&(il(n,e,r,i=nl()),ou(n,t,r))}}function iu(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function au(e,t){_o=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ou(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var uu={readContext:Sa,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:function(e,t){return Ao().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Wo(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wo(4,2,e,t)},useMemo:function(e,t){var n=Ao();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ao();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nu.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ao().memoizedState=e},useState:zo,useDebugValue:$o,useDeferredValue:function(e){return Ao().memoizedState=e},useTransition:function(){var e=zo(!1),t=e[0];return e=eu.bind(null,e[1]),Ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Ao();if(aa){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ps)throw Error(o(349));0!==(30&vo)||Fo(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vo(Io.bind(null,r,a,e),[e]),r.flags|=2048,Uo(9,No.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ao(),t=Ps.identifierPrefix;if(aa){var n=Ji;t=":"+t+"R"+(n=(Ki&~(1<<32-ut(Ki)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lu={readContext:Sa,useCallback:Ko,useContext:Sa,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Jo,useReducer:To,useRef:jo,useState:function(){return To(Mo)},useDebugValue:$o,useDeferredValue:function(e){return Qo(Do(),go.memoizedState,e)},useTransition:function(){return[To(Mo)[0],Do().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:tu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Ko,useContext:Sa,useEffect:Ho,useImperativeHandle:Xo,useInsertionEffect:Go,useLayoutEffect:qo,useMemo:Jo,useReducer:Po,useRef:jo,useState:function(){return Po(Mo)},useDebugValue:$o,useDeferredValue:function(e){var t=Do();return null===go?t.memoizedState=e:Qo(t,go.memoizedState,e)},useTransition:function(){return[Po(Mo)[0],Do().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Ro,useId:tu,unstable_isNewReconciler:!1};function fu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function du(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pu="function"===typeof WeakMap?WeakMap:Map;function vu(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,qs=r),hu(0,t)},n}function mu(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ys?Ys=new Set([this]):Ys.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Al.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _u=x.ReactCurrentOwner,xu=!1;function wu(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Ka(t,e.child,n,r)}function Eu(e,t,n,r,i){n=n.render;var a=t.ref;return ka(t,i),r=ko(e,t,n,r,a,i),n=So(),null===e||xu?(aa&&n&&ta(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ku(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function ku(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(xu=!0)}}return Du(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Ns,Fs),Fs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Ns,Fs),Fs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ai(Ns,Fs),Fs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ai(Ns,Fs),Fs|=r;return wu(e,t,i,n),t.child}function Au(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Du(e,t,n,r,i){var a=Ri(n)?Pi:Mi.current;return a=Oi(t,a),ka(t,i),n=ko(e,t,n,r,a,i),r=So(),null===e||xu?(aa&&r&&ta(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Mu(e,t,n,r,i){if(Ri(n)){var a=!0;Bi(t)}else a=!1;if(ka(t,i),null===t.stateNode)Hu(e,t),Va(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Sa(l):l=Oi(t,l=Ri(n)?Pi:Mi.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Ha(t,o,r,l),Pa=!1;var d=t.memoizedState;o.state=d,La(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ti.current||Pa?("function"===typeof c&&(ja(t,n,c,r),s=t.memoizedState),(u=Pa||Za(t,n,u,r,d,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ga(t.type,u),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Ri(n)?Pi:Mi.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ha(t,o,r,s),Pa=!1,d=t.memoizedState,o.state=d,La(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ti.current||Pa?("function"===typeof h&&(ja(t,n,h,r),p=t.memoizedState),(l=Pa||Za(t,n,l,r,d,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){Au(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Gu(e,t,a);r=t.stateNode,_u.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),io(e,t.containerInfo)}function Ou(e,t,n,r,i){return pa(),va(i),t.flags|=256,wu(e,t,n,r),t.child}var Ru,Fu,Nu,Iu,Bu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function zu(e,t,n){var r,i=t.pendingProps,a=so.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ai(so,1&a),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Ll(s,i,0,null),e=Bl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Bu,e):Uu(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=du(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(a=Bl(a,i,u,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Ka(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Bu,a);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=du(a=Error(o(419)),r,void 0))}if(s=0!==(u&e.childLanes),xu||s){if(null!==(r=Ps)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ta(e,i),il(r,e,i,-1))}return gl(),ju(e,t,u,r=du(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ml.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ia=ci(i.nextSibling),ra=t,aa=!0,oa=null,null!==e&&(Yi[Xi++]=Ki,Yi[Xi++]=Ji,Yi[Xi++]=$i,Ki=e.id,Ji=e.overflow,$i=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,a,n);if(u){u=i.fallback,s=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?u=Nl(r,u):(u=Bl(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Bu,i}return e=(u=e.child).sibling,i=Nl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&va(r),Ka(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wu(e,n,t);else if(19===e.tag)Wu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zu(t,!0,n,null,a);break;case"together":Zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qu(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Yu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xu(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yu(t),null;case 1:case 17:return Ri(t.type)&&Fi(),Yu(t),null;case 3:return r=t.stateNode,ao(),Si(Ti),Si(Mi),fo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(sl(oa),oa=null))),Fu(e,t),Yu(t),null;case 5:uo(t);var i=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Nu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Yu(t),null}if(e=ro(eo.current),da(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Ur(Ir[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":K(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ae(r,a),Ur("invalid",r)}for(var u in be(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":q(r),ee(r,a,!0);break;case"textarea":q(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[pi]=r,Ru(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Ur(Ir[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":K(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ae(e,r),i=ie(e,r),Ur("invalid",e)}for(a in be(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&_(e,a,c,u))}switch(n){case"input":q(e),ee(e,r,!1);break;case"textarea":q(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?re(e,!!r.multiple,a,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yu(t),null;case 6:if(e&&null!=t.stateNode)Iu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ro(no.current),ro(eo.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Yu(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,a=!1;else if(a=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yu(t),a=!1}else null!==oa&&(sl(oa),oa=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Is&&(Is=3):gl())),null!==t.updateQueue&&(t.flags|=4),Yu(t),null);case 4:return ao(),Fu(e,t),null===e&&Zr(t.stateNode.containerInfo),Yu(t),null;case 10:return Ea(t.type._context),Yu(t),null;case 19:if(Si(so),null===(a=t.memoizedState))return Yu(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)qu(a,!1);else{if(0!==Is||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=lo(e))){for(t.flags|=128,qu(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(so,1&so.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Vs&&(t.flags|=128,r=!0,qu(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qu(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!aa)return Yu(t),null}else 2*Je()-a.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,qu(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=so.current,Ai(so,r?1&n|2:1&n),t):(Yu(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fs)&&(Yu(t),6&t.subtreeFlags&&(t.flags|=8192)):Yu(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $u(e,t){switch(na(t),t.tag){case 1:return Ri(t.type)&&Fi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Si(Ti),Si(Mi),fo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return uo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return ao(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Ru=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Fu=function(){},Nu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(eo.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=ie(e,i),r=ie(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Iu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ku=!1,Ju=!1,Qu="function"===typeof WeakSet?WeakSet:Set,es=null;function ts(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function ns(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var rs=!1;function is(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ns(t,n,a)}i=i.next}while(i!==r)}}function as(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function us(e){var t=e.alternate;null!==t&&(e.alternate=null,us(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ss(e){return 5===e.tag||3===e.tag||4===e.tag}function ls(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ss(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function fs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(fs(e,t,n),e=e.sibling;null!==e;)fs(e,t,n),e=e.sibling}var ds=null,hs=!1;function ps(e,t,n){for(n=n.child;null!==n;)vs(e,t,n),n=n.sibling}function vs(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(u){}switch(n.tag){case 5:Ju||ts(n,t);case 6:var r=ds,i=hs;ds=null,ps(e,t,n),hs=i,null!==(ds=r)&&(hs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(hs?(e=ds,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Zt(e)):li(ds,n.stateNode));break;case 4:r=ds,i=hs,ds=n.stateNode.containerInfo,hs=!0,ps(e,t,n),ds=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ns(n,t,o),i=i.next}while(i!==r)}ps(e,t,n);break;case 1:if(!Ju&&(ts(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sl(n,t,u)}ps(e,t,n);break;case 21:ps(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,ps(e,t,n),Ju=r):ps(e,t,n);break;default:ps(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,hs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===ds)throw Error(o(160));vs(a,u,i),ds=null,hs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,n){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(n,e),bs(e),4&i){try{is(3,e,e.return),as(3,e)}catch(t){Sl(e,e.return,t)}try{is(5,e,e.return)}catch(t){Sl(e,e.return,t)}}break;case 1:gs(n,e),bs(e),512&i&&null!==r&&ts(r,r.return);break;case 5:if(gs(n,e),bs(e),512&i&&null!==r&&ts(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(t){Sl(e,e.return,t)}}if(4&i&&null!=(a=e.stateNode)){var u=e.memoizedProps,s=null!==r?r.memoizedProps:u,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===u.type&&null!=u.name&&J(a,u),_e(l,s);var f=_e(l,u);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):_(a,d,h,f)}switch(l){case"input":Q(a,u);break;case"textarea":oe(a,u);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!u.multiple;var v=u.value;null!=v?re(a,!!u.multiple,v,!1):p!==!!u.multiple&&(null!=u.defaultValue?re(a,!!u.multiple,u.defaultValue,!0):re(a,!!u.multiple,u.multiple?[]:"",!1))}a[pi]=u}catch(t){Sl(e,e.return,t)}}break;case 6:if(gs(n,e),bs(e),4&i){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,u=e.memoizedProps;try{a.nodeValue=u}catch(t){Sl(e,e.return,t)}}break;case 3:if(gs(n,e),bs(e),4&i&&null!==r&&r.memoizedState.isDehydrated)try{Zt(n.containerInfo)}catch(t){Sl(e,e.return,t)}break;case 4:default:gs(n,e),bs(e);break;case 13:gs(n,e),bs(e),8192&(a=e.child).flags&&(u=null!==a.memoizedState,a.stateNode.isHidden=u,!u||null!==a.alternate&&null!==a.alternate.memoizedState||(Zs=Je())),4&i&&ms(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Ju=(f=Ju)||d,gs(n,e),Ju=f):gs(n,e),bs(e),8192&i){if(f=null!==e.memoizedState,(e.stateNode.isHidden=f)&&!d&&0!==(1&e.mode))for(es=e,d=e.child;null!==d;){for(h=es=d;null!==es;){switch(v=(p=es).child,p.tag){case 0:case 11:case 14:case 15:is(4,p,p.return);break;case 1:ts(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,r=p.return;try{n=i,m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(t){Sl(i,r,t)}}break;case 5:ts(p,p.return);break;case 22:if(null!==p.memoizedState){Es(h);continue}}null!==v?(v.return=p,es=v):Es(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,f?"function"===typeof(u=a.style).setProperty?u.setProperty("display","none","important"):u.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){Sl(e,e.return,t)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(t){Sl(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gs(n,e),bs(e),4&i&&ms(e);case 21:}}function bs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ss(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),fs(e,ls(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cs(e,ls(e),a);break;default:throw Error(o(161))}}catch(u){Sl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _s(e,t,n){es=e,xs(e,t,n)}function xs(e,t,n){for(var r=0!==(1&e.mode);null!==es;){var i=es,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ku;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Ku;var l=Ju;if(Ku=o,(Ju=s)&&!l)for(es=i;null!==es;)s=(o=es).child,22===o.tag&&null!==o.memoizedState?Cs(i):null!==s?(s.return=o,es=s):Cs(i);for(;null!==a;)es=a,xs(a,t,n),a=a.sibling;es=i,Ku=u,Ju=l}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,es=a):ws(e)}}function ws(e){for(;null!==es;){var t=es;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||as(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&za(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Zt(d)}}}break;default:throw Error(o(163))}Ju||512&t.flags&&os(t)}catch(h){Sl(t,t.return,h)}}if(t===e){es=null;break}if(null!==(n=t.sibling)){n.return=t.return,es=n;break}es=t.return}}function Es(e){for(;null!==es;){var t=es;if(t===e){es=null;break}var n=t.sibling;if(null!==n){n.return=t.return,es=n;break}es=t.return}}function Cs(e){for(;null!==es;){var t=es;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{as(4,t)}catch(s){Sl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sl(t,i,s)}}var a=t.return;try{os(t)}catch(s){Sl(t,a,s)}break;case 5:var o=t.return;try{os(t)}catch(s){Sl(t,o,s)}}}catch(s){Sl(t,t.return,s)}if(t===e){es=null;break}var u=t.sibling;if(null!==u){u.return=t.return,es=u;break}es=t.return}}var ks,Ss=Math.ceil,As=x.ReactCurrentDispatcher,Ds=x.ReactCurrentOwner,Ms=x.ReactCurrentBatchConfig,Ts=0,Ps=null,Os=null,Rs=0,Fs=0,Ns=ki(0),Is=0,Bs=null,Ls=0,zs=0,Us=0,js=null,Ws=null,Zs=0,Vs=1/0,Hs=null,Gs=!1,qs=null,Ys=null,Xs=!1,$s=null,Ks=0,Js=0,Qs=null,el=-1,tl=0;function nl(){return 0!==(6&Ts)?Je():-1!==el?el:el=Je()}function rl(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Rs?Rs&-Rs:null!==ma.transition?(0===tl&&(tl=mt()),tl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function il(e,t,n,r){if(50<Js)throw Js=0,Qs=null,Error(o(185));yt(e,n,r),0!==(2&Ts)&&e===Ps||(e===Ps&&(0===(2&Ts)&&(zs|=n),4===Is&&ll(e,Rs)),al(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Vs=Je()+500,Ui&&Zi()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ut(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=pt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ps?Rs:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ui=!0,Wi(e)}(cl.bind(null,e)):Wi(cl.bind(null,e)),ui((function(){0===(6&Ts)&&Zi()})),n=null;else{switch(xt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Pl(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(el=-1,tl=0,0!==(6&Ts))throw Error(o(327));var n=e.callbackNode;if(Cl()&&e.callbackNode!==n)return null;var r=ht(e,e===Ps?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Ts;Ts|=2;var a=ml();for(Ps===e&&Rs===t||(Hs=null,Vs=Je()+500,pl(e,t));;)try{_l();break}catch(s){vl(e,s)}wa(),As.current=a,Ts=i,null!==Os?t=0:(Ps=null,Rs=0,t=Is)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=ul(e,i))),1===t)throw n=Bs,pl(e,0),ll(e,r),al(e,Je()),n;if(6===t)ll(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(a=vt(e))&&(r=a,t=ul(e,a))),1===t))throw n=Bs,pl(e,0),ll(e,r),al(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:El(e,Ws,Hs);break;case 3:if(ll(e,r),(130023424&r)===r&&10<(t=Zs+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(El.bind(null,e,Ws,Hs),t);break}El(e,Ws,Hs);break;case 4:if(ll(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ut(r);a=1<<u,(u=t[u])>i&&(i=u),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ii(El.bind(null,e,Ws,Hs),r);break}El(e,Ws,Hs);break;default:throw Error(o(329))}}}return al(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function ul(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Ws,Ws=n,null!==t&&sl(t)),e}function sl(e){null===Ws?Ws=e:Ws.push.apply(Ws,e)}function ll(e,t){for(t&=~Us,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ts))throw Error(o(327));Cl();var t=ht(e,0);if(0===(1&t))return al(e,Je()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=ul(e,r))}if(1===n)throw n=Bs,pl(e,0),ll(e,t),al(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Ws,Hs),al(e,Je()),null}function fl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Vs=Je()+500,Ui&&Zi())}}function dl(e){null!==$s&&0===$s.tag&&0===(6&Ts)&&Cl();var t=Ts;Ts|=1;var n=Ms.transition,r=_t;try{if(Ms.transition=null,_t=1,e)return e()}finally{_t=r,Ms.transition=n,0===(6&(Ts=t))&&Zi()}}function hl(){Fs=Ns.current,Si(Ns)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ai(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fi();break;case 3:ao(),Si(Ti),Si(Mi),fo();break;case 5:uo(r);break;case 4:ao();break;case 13:case 19:Si(so);break;case 10:Ea(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Ps=e,Os=e=Nl(e.current,null),Rs=Fs=t,Is=0,Bs=null,Us=zs=Ls=0,Ws=js=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function vl(e,t){for(;;){var n=Os;try{if(wa(),ho.current=uu,bo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bo=!1}if(vo=0,yo=go=mo=null,_o=!1,xo=0,Ds.current=null,null===n||null===n.return){Is=1,Bs=t,Os=null;break}e:{var a=e,u=n.return,s=n,l=t;if(t=Rs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,bu(p,u,s,0,t),1&p.mode&&gu(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){gu(a,c,t),gl();break e}l=Error(o(426))}else if(aa&&1&s.mode){var g=yu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),bu(g,u,s,0,t),va(fu(l,s));break e}}a=l=fu(l,s),4!==Is&&(Is=2),null===js?js=[a]:js.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ba(a,vu(0,l,t));break e;case 1:s=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ys||!Ys.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ba(a,mu(a,s,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(_){t=_,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function ml(){var e=As.current;return As.current=uu,null===e?uu:e}function gl(){0!==Is&&3!==Is&&2!==Is||(Is=4),null===Ps||0===(268435455&Ls)&&0===(268435455&zs)||ll(Ps,Rs)}function yl(e,t){var n=Ts;Ts|=2;var r=ml();for(Ps===e&&Rs===t||(Hs=null,pl(e,t));;)try{bl();break}catch(i){vl(e,i)}if(wa(),Ts=n,As.current=r,null!==Os)throw Error(o(261));return Ps=null,Rs=0,Is}function bl(){for(;null!==Os;)xl(Os)}function _l(){for(;null!==Os&&!$e();)xl(Os)}function xl(e){var t=ks(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,null===t?wl(e):Os=t,Ds.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xu(n,t,Fs)))return void(Os=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Is=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Is&&(Is=5)}function El(e,t,n){var r=_t,i=Ms.transition;try{Ms.transition=null,_t=1,function(e,t,n,r){do{Cl()}while(null!==$s);if(0!==(6&Ts))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ut(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Ps&&(Os=Ps=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xs||(Xs=!0,Pl(nt,(function(){return Cl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Ms.transition,Ms.transition=null;var u=_t;_t=1;var s=Ts;Ts|=4,Ds.current=null,function(e,t){if(ti=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==a||0!==r&&3!==d.nodeType||(l=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=u),h===a&&++f===r&&(l=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Ht=!1,es=t;null!==es;)if(e=(t=es).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,es=e;else for(;null!==es;){t=es;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:ga(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(x){Sl(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,es=e;break}es=t.return}v=rs,rs=!1}(e,n),ys(n,e),vr(ni),Ht=!!ti,ni=ti=null,e.current=n,_s(n,e,i),Ke(),Ts=s,_t=u,Ms.transition=a}else e.current=n;if(Xs&&(Xs=!1,$s=e,Ks=i),a=e.pendingLanes,0===a&&(Ys=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=qs,qs=null,e;0!==(1&Ks)&&0!==e.tag&&Cl(),a=e.pendingLanes,0!==(1&a)?e===Qs?Js++:(Js=0,Qs=e):Js=0,Zi()}(e,t,n,r)}finally{Ms.transition=i,_t=r}return null}function Cl(){if(null!==$s){var e=xt(Ks),t=Ms.transition,n=_t;try{if(Ms.transition=null,_t=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Ks=0,0!==(6&Ts))throw Error(o(331));var i=Ts;for(Ts|=4,es=e.current;null!==es;){var a=es,u=a.child;if(0!==(16&es.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(es=c;null!==es;){var f=es;switch(f.tag){case 0:case 11:case 15:is(8,f,a)}var d=f.child;if(null!==d)d.return=f,es=d;else for(;null!==es;){var h=(f=es).sibling,p=f.return;if(us(f),f===c){es=null;break}if(null!==h){h.return=p,es=h;break}es=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}es=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,es=u;else e:for(;null!==es;){if(0!==(2048&(a=es).flags))switch(a.tag){case 0:case 11:case 15:is(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,es=y;break e}es=a.return}}var b=e.current;for(es=b;null!==es;){var _=(u=es).child;if(0!==(2064&u.subtreeFlags)&&null!==_)_.return=u,es=_;else e:for(u=b;null!==es;){if(0!==(2048&(s=es).flags))try{switch(s.tag){case 0:case 11:case 15:as(9,s)}}catch(w){Sl(s,s.return,w)}if(s===u){es=null;break e}var x=s.sibling;if(null!==x){x.return=s.return,es=x;break e}es=s.return}}if(Ts=i,Zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{_t=n,Ms.transition=t}}return!1}function kl(e,t,n){e=Na(e,t=vu(0,t=fu(n,t),1),1),t=nl(),null!==e&&(yt(e,1,t),al(e,t))}function Sl(e,t,n){if(3===e.tag)kl(e,e,n);else for(;null!==t;){if(3===t.tag){kl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ys||!Ys.has(r))){t=Na(t,e=mu(t,e=fu(n,e),1),1),e=nl(),null!==t&&(yt(t,1,e),al(t,e));break}}t=t.return}}function Al(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nl(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Rs&n)===n&&(4===Is||3===Is&&(130023424&Rs)===Rs&&500>Je()-Zs?pl(e,0):Us|=n),al(e,t)}function Dl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ft,0===(130023424&(ft<<=1))&&(ft=4194304)));var n=nl();null!==(e=Ta(e,t))&&(yt(e,t,n),al(e,n))}function Ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Dl(e,n)}function Pl(e,t){return Ye(e,t)}function Ol(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ol(e,t,n,r)}function Fl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Fl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case C:return Bl(n.children,i,a,t);case k:u=8,i|=8;break;case S:return(e=Rl(12,n,t,2|i)).elementType=S,e.lanes=a,e;case T:return(e=Rl(13,n,t,i)).elementType=T,e.lanes=a,e;case P:return(e=Rl(19,n,t,i)).elementType=P,e.lanes=a,e;case F:return Ll(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:u=10;break e;case D:u=9;break e;case M:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rl(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Bl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function zl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wl(e,t,n,r,i,a,o,u,s){return e=new jl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Zl(e){if(!e)return Di;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Ii(e,n,t)}return t}function Vl(e,t,n,r,i,a,o,u,s){return(e=Wl(n,r,!0,e,0,a,0,u,s)).context=Zl(null),n=e.current,(a=Fa(r=nl(),i=rl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,yt(e,i,r),al(e,r),e}function Hl(e,t,n,r){var i=t.current,a=nl(),o=rl(i);return n=Zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(il(e,i,o,a),Ia(e,i,o)),o}function Gl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)xu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xu=!1,function(e,t,n){switch(t.tag){case 3:Pu(t),pa();break;case 5:oo(t);break;case 1:Ri(t.type)&&Bi(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zu(e,t,n):(Ai(so,1&so.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ai(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Gu(e,t,n)}(e,t,n);xu=0!==(131072&e.flags)}else xu=!1,aa&&0!==(1048576&t.flags)&&ea(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hu(e,t),e=t.pendingProps;var i=Oi(t,Mi.current);ka(t,n),i=ko(null,t,r,e,i,n);var a=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Bi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Wa,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Tu(null,t,r,!0,a,n)):(t.tag=0,aa&&a&&ta(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Fl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===O)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Du(null,t,r,e,n);break e;case 1:t=Mu(null,t,r,e,n);break e;case 11:t=Eu(null,t,r,e,n);break e;case 14:t=Cu(null,t,r,ga(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Du(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,Mu(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Pu(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ra(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ou(e,t,r,n,i=fu(Error(o(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=fu(Error(o(424)),t));break e}for(ia=ci(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,oa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&ca(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,ri(r,i)?u=null:null!==a&&ri(r,a)&&(t.flags|=32),Au(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return zu(e,t,n);case 4:return io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,u=i.value,Ai(ya,r._currentValue),r._currentValue=u,null!==a)if(sr(a.value,u)){if(a.children===i.children&&!Ti.current){t=Gu(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Fa(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ca(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(o(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ca(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ka(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),Cu(e,t,r,i=ga(r.type,i),n);case 15:return ku(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Hu(e,t),t.tag=1,Ri(r)?(e=!0,Bi(t)):e=!1,ka(t,n),Va(t,r,i),Ga(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return Vu(e,t,n);case 22:return Su(e,t,n)}throw Error(o(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Kl(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(){}function tc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gl(o);u.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gl(o);a.call(e)}}var o=Vl(t,r,e,0,null,!1,0,"",ec);return e._reactRootContainer=o,e[vi]=o.current,Zr(8===e.nodeType?e.parentNode:e),dl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gl(s);u.call(e)}}var s=Wl(e,0,!1,null,0,!1,0,"",ec);return e._reactRootContainer=s,e[vi]=s.current,Zr(8===e.nodeType?e.parentNode:e),dl((function(){Hl(t,s,n,r)})),s}(n,t,e,i,r);return Gl(o)}Kl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hl(e,t,null,null)},Kl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Hl(null,e,null,null)})),t[vi]=null}},Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),al(t,Je()),0===(6&Ts)&&(Vs=Je()+500,Zi()))}break;case 13:dl((function(){var t=Ta(e,1);if(null!==t){var n=nl();il(t,e,1,n)}})),Yl(e,1)}},Et=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)il(t,e,134217728,nl());Yl(e,134217728)}},Ct=function(e){if(13===e.tag){var t=rl(e),n=Ta(e,t);if(null!==n)il(n,e,t,nl());Yl(e,t)}},kt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Ee=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));Y(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Me=fl,Te=dl;var nc={usingClientEntryPoint:!1,Events:[_i,xi,wi,Ae,De,fl]},rc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(ic),ot=ac}catch(fe){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,n.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},n.createRoot=function(e,t){if(!Jl(e))throw Error(o(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wl(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new $l(t)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},n.flushSync=function(e){return dl(e)},n.hydrate=function(e,t,n){if(!Ql(t))throw Error(o(200));return tc(null,e,t,!0,n)},n.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",u=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,a,u),e[vi]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kl(t)},n.render=function(e,t,n){if(!Ql(t))throw Error(o(200));return tc(null,e,t,!1,n)},n.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(o(40));return!!e._reactRootContainer&&(dl((function(){tc(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},n.unstable_batchedUpdates=fl,n.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return tc(e,t,n,!1,r)},n.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},37:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=p(n(2007)),o=p(n(4164)),u=p(n(8182)),s=n(2280),l=n(580),c=n(2693),f=p(n(8091)),d=p(n(1655)),h=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function p(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(c,e);var t,n,r,a=C(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),A(k(t=a.call(this,e)),"onDragStart",(function(e,n){if((0,d.default)("Draggable: onDragStart: %j",n),!1===t.props.onStart(e,(0,l.createDraggableData)(k(t),n)))return!1;t.setState({dragging:!0,dragged:!0})})),A(k(t),"onDrag",(function(e,n){if(!t.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",n);var r=(0,l.createDraggableData)(k(t),n),i={x:r.x,y:r.y};if(t.props.bounds){var a=i.x,o=i.y;i.x+=t.state.slackX,i.y+=t.state.slackY;var u=_((0,l.getBoundPosition)(k(t),i.x,i.y),2),s=u[0],c=u[1];i.x=s,i.y=c,i.slackX=t.state.slackX+(a-i.x),i.slackY=t.state.slackY+(o-i.y),r.x=i.x,r.y=i.y,r.deltaX=i.x-t.state.x,r.deltaY=i.y-t.state.y}if(!1===t.props.onDrag(e,r))return!1;t.setState(i)})),A(k(t),"onDragStop",(function(e,n){if(!t.state.dragging)return!1;if(!1===t.props.onStop(e,(0,l.createDraggableData)(k(t),n)))return!1;(0,d.default)("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(t.props.position)){var i=t.props.position,a=i.x,o=i.y;r.x=a,r.y=o}t.setState(r)})),t.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:b({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),t}return t=c,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:b({},n)})}}],(n=[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current)&&void 0!==e?e:o.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,a=t.defaultClassName,o=t.defaultClassNameDragging,c=t.defaultClassNameDragged,d=t.position,p=t.positionOffset,v=(t.scale,g(t,h)),y={},_=null,x=!Boolean(d)||this.state.dragging,w=d||r,E={x:(0,l.canDragX)(this)&&x?this.state.x:w.x,y:(0,l.canDragY)(this)&&x?this.state.y:w.y};this.state.isElementSVG?_=(0,s.createSVGTransform)(E,p):y=(0,s.createCSSTransform)(E,p);var C=(0,u.default)(n.props.className||"",a,(A(e={},o,this.state.dragging),A(e,c,this.state.dragged),e));return i.createElement(f.default,m({},v,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),i.cloneElement(i.Children.only(n),{className:C,style:b(b({},n.props.style),y),transform:_}))}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component);t.default=D,A(D,"displayName","Draggable"),A(D,"propTypes",b(b({},f.default.propTypes),{},{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),positionOffset:a.default.shape({x:a.default.oneOfType([a.default.number,a.default.string]),y:a.default.oneOfType([a.default.number,a.default.string])}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe})),A(D,"defaultProps",b(b({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},8091:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=a?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(2791)),a=f(n(2007)),o=f(n(4164)),u=n(2280),s=n(580),l=n(2693),c=f(n(1655));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}(this,n)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={start:"touchstart",move:"touchmove",stop:"touchend"},w={start:"mousedown",move:"mousemove",stop:"mouseup"},E=w,C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(l,e);var t,n,r,a=g(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(y(e=a.call.apply(a,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),_(y(e),"mounted",!1),_(y(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,u.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,u.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var i=(0,u.getTouchIdentifier)(t);e.setState({touchIdentifier:i});var a=(0,s.getControlPosition)(t,i,y(e));if(null!=a){var o=a.x,l=a.y,f=(0,s.createCoreData)(y(e),o,l);(0,c.default)("DraggableCore: handleDragStart: %j",f),(0,c.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:o,lastY:l}),(0,u.addEvent)(r,E.move,e.handleDrag),(0,u.addEvent)(r,E.stop,e.handleDragStop))}}})),_(y(e),"handleDrag",(function(t){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,o=i-e.state.lastY,u=h((0,s.snapToGrid)(e.props.grid,a,o),2);if(a=u[0],o=u[1],!a&&!o)return;r=e.state.lastX+a,i=e.state.lastY+o}var l=(0,s.createCoreData)(y(e),r,i);if((0,c.default)("DraggableCore: handleDrag: %j",l),!1!==e.props.onDrag(t,l)&&!1!==e.mounted)e.setState({lastX:r,lastY:i});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(d){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),_(y(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,s.getControlPosition)(t,e.state.touchIdentifier,y(e));if(null!=n){var r=n.x,i=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX||0,o=i-e.state.lastY||0,l=h((0,s.snapToGrid)(e.props.grid,a,o),2);a=l[0],o=l[1],r=e.state.lastX+a,i=e.state.lastY+o}var f=(0,s.createCoreData)(y(e),r,i);if(!1===e.props.onStop(t,f)||!1===e.mounted)return!1;var d=e.findDOMNode();d&&e.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(d.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",f),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),d&&((0,c.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(d.ownerDocument,E.move,e.handleDrag),(0,u.removeEvent)(d.ownerDocument,E.stop,e.handleDragStop))}}})),_(y(e),"onMouseDown",(function(t){return E=w,e.handleDragStart(t)})),_(y(e),"onMouseUp",(function(t){return E=w,e.handleDragStop(t)})),_(y(e),"onTouchStart",(function(t){return E=x,e.handleDragStart(t)})),_(y(e),"onTouchEnd",(function(t){return E=x,e.handleDragStop(t)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,u.addEvent)(e,x.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,u.removeEvent)(t,w.move,this.handleDrag),(0,u.removeEvent)(t,x.move,this.handleDrag),(0,u.removeEvent)(t,w.stop,this.handleDragStop),(0,u.removeEvent)(t,x.stop,this.handleDragStop),(0,u.removeEvent)(e,x.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t,n;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(n=t.nodeRef)||void 0===n?void 0:n.current:o.default.findDOMNode(this)}},{key:"render",value:function(){return i.cloneElement(i.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.Component);t.default=C,_(C,"displayName","DraggableCore"),_(C,"propTypes",{allowAnyClick:a.default.bool,disabled:a.default.bool,enableUserSelectHack:a.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.default.arrayOf(a.default.number),handle:a.default.string,cancel:a.default.string,nodeRef:a.default.object,onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func,onMouseDown:a.default.func,scale:a.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),_(C,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9962:function(e,t,n){"use strict";var r=n(37),i=r.default,a=r.DraggableCore;e.exports=i,e.exports.default=i,e.exports.DraggableCore=a},2280:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=h,t.addEvent=function(e,t,n,r){if(!e)return;var i=s({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&h(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=d(e,t,"px");return l({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,i.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=d,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)},t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),i=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:i,y:a}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)},t.removeClassName=p,t.removeEvent=function(e,t,n,r){if(!e)return;var i=s({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&p(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var i=n(2693),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=a?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(i,u,s):i[u]=e[u]}i.default=e,n&&n.set(e,i);return i}(n(4021));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="";function f(e,t){return c||(c=(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,i.isFunction)(e[t])}))),!!(0,i.isFunction)(e[c])&&e[c](t)}function d(e,t,n){var r=e.x,i=e.y,a="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var o="".concat("string"===typeof t.x?t.x:t.x+n),u="".concat("string"===typeof t.y?t.y:t.y+n);a="translate(".concat(o,", ").concat(u,")")+a}return a}function h(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function p(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},4021:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=i,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=r;var n=["Moz","Webkit","O","ms"];function r(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var a=null===(e=window.document)||void 0===e||null===(t=e.documentElement)||void 0===t?void 0:t.style;if(!a)return"";if(r in a)return"";for(var o=0;o<n.length;o++)if(i(r,n[o])in a)return n[o];return""}function i(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var a=r();t.default=a},1655:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var i=e.state,o=!(0,r.isNum)(i.lastX),u=a(e);return o?{node:u,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:u,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var o=e.props.bounds;o="string"===typeof o?o:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(o);var u=a(e);if("string"===typeof o){var s,l=u.ownerDocument,c=l.defaultView;if(!((s="parent"===o?u.parentNode:l.querySelector(o))instanceof c.HTMLElement))throw new Error('Bounds selector "'+o+'" could not find an element.');var f=s,d=c.getComputedStyle(u),h=c.getComputedStyle(f);o={left:-u.offsetLeft+(0,r.int)(h.paddingLeft)+(0,r.int)(d.marginLeft),top:-u.offsetTop+(0,r.int)(h.paddingTop)+(0,r.int)(d.marginTop),right:(0,i.innerWidth)(f)-(0,i.outerWidth)(u)-u.offsetLeft+(0,r.int)(h.paddingRight)-(0,r.int)(d.marginRight),bottom:(0,i.innerHeight)(f)-(0,i.outerHeight)(u)-u.offsetTop+(0,r.int)(h.paddingBottom)-(0,r.int)(d.marginBottom)}}(0,r.isNum)(o.right)&&(t=Math.min(t,o.right));(0,r.isNum)(o.bottom)&&(n=Math.min(n,o.bottom));(0,r.isNum)(o.left)&&(t=Math.max(t,o.left));(0,r.isNum)(o.top)&&(n=Math.max(n,o.top));return[t,n]},t.getControlPosition=function(e,t,n){var r="number"===typeof t?(0,i.getTouch)(e,t):null;if("number"===typeof t&&!r)return null;var o=a(n),u=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,i.offsetXYFromParent)(r||e,u,n.props.scale)},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]};var r=n(2693),i=n(2280);function a(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},2693:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var u,s,l,c;if(Array.isArray(e)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(!a(e[s],o[s]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;for(c=e.entries();!(s=c.next()).done;)if(!a(s.value[1],o.get(s.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((u=e.length)!=o.length)return!1;for(s=u;0!==s--;)if(e[s]!==o[s])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((u=(l=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,l[s]))return!1;if(t&&e instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==l[s]&&"__v"!==l[s]&&"__o"!==l[s]||!e.$$typeof)&&!a(e[l[s]],o[l[s]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},3751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.withBaseIcon=t.Icon=void 0;var r=o(n(2791)),i=o(n(2007)),a=o(n(3329));function o(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e){var t=e.style,n=e.className,i=(e.icon,e.size,e.tag),o=c(e,["style","className","icon","size","tag"]),l=i;return r.default.createElement(l,u({},o,{style:s({display:"inline-block"},t),className:n}),r.default.createElement(a.default,{size:e.size,icon:e.icon,title:e.title}))};t.Icon=f;t.withBaseIcon=function(e){return function(t){var n=s({},e);return r.default.createElement(f,u({},n,t))}},f.defaultProps={size:16,fill:"currentColor",tag:"i"},f.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object,tag:i.default.oneOf(["i","span","div"]),className:i.default.string};var d=f;t.default=d},3329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SvgIcon=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2791)),i=o(n(2007)),a=o(n(9384));function o(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(e){return null!==e&&void 0!==e}var f=function e(t){return t.map((function(t,n){var i=t.name,o=t.attribs,u=t.children,f=void 0===u?null:u,d=Object.keys(o).filter((function(e){return"fill"!==e&&"stroke"!==e&&"none"!==o[e]})).reduce((function(e,t){return"style"===t?e.style=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").reduce((function(e,t){var n=l(t.split(":"),2),r=n[0],i=n[1];return c(r)&&c(i)&&(e[(0,a.default)(r)]=i),e}),{})}(o[t]):e[(0,a.default)(t)]=o[t],e}),{}),h={};return"none"===o.fill&&o.stroke?h={fill:"none",stroke:"currentColor"}:"none"===o.fill&&(h={fill:"none"}),(0,r.createElement)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({key:n},d,h),null===f?f:e(f))}))},d=function(e){var t=e.size,n=e.icon,i=n.children,o=n.viewBox,s=n.attribs,l=void 0===s?{}:s,c=Object.keys(l).reduce((function(e,t){return e[(0,a.default)(t)]=l[t],e}),{});return r.default.createElement("svg",u({fill:"currentColor",style:{display:"inline-block",verticalAlign:"middle"},height:t,width:t,viewBox:o},c),e.title?r.default.createElement("title",null,e.title):null,f(i))};t.SvgIcon=d,d.defaultProps={size:16},d.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),title:i.default.string};var h=d;t.default=h},1586:function(e,t){"use strict";t.S=void 0;t.S={viewBox:"0 0 24 24",children:[{name:"path",attribs:{d:"M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},children:[]},{name:"path",attribs:{d:"M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},986:function(e,t){"use strict";t.p=void 0;t.p={viewBox:"0 0 24 24",children:[{name:"line",attribs:{x1:"19",y1:"4",x2:"10",y2:"4"},children:[]},{name:"line",attribs:{x1:"14",y1:"20",x2:"5",y2:"20"},children:[]},{name:"line",attribs:{x1:"15",y1:"4",x2:"9",y2:"20"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},76:function(e,t){"use strict";t.a=void 0;t.a={viewBox:"0 0 24 24",children:[{name:"path",attribs:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},children:[]},{name:"polyline",attribs:{points:"17 21 17 13 7 13 7 21"},children:[]},{name:"polyline",attribs:{points:"7 3 7 8 15 8"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},3132:function(e,t){"use strict";t.e=void 0;t.e={viewBox:"0 0 24 24",children:[{name:"path",attribs:{d:"M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"},children:[]},{name:"line",attribs:{x1:"4",y1:"21",x2:"20",y2:"21"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},6014:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.horizontalCenter=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2791));var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rAlign,i=void 0!==n&&n,a=t.space,o=void 0===a?4:a;return function(t){return r.default.createElement(e,t,r.default.createElement("div",{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},r.Children.toArray(t.children).map((function(e,t){var n,a,u,s=i?"paddingLeft":"paddingRight";return r.default.createElement("div",{key:t,style:(n={display:"inline-block"},a=s,u=o,a in n?Object.defineProperty(n,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[a]=u,n)},e)}))))}};t.horizontalCenter=i;var a=i;t.default=a},7199:function(e,t,n){"use strict";t.ZP=void 0;var r=n(3751),i=n(6014),a=r.Icon;t.ZP=a},9384:function(e,t,n){var r=n(8059),i=n(7801);e.exports=function(e,t,n){var a=i(e,t);return n||(a=a.replace(/ (?=\d)/g,"_")),a.replace(/ (.)/g,(function(e,n){return r(n,t)}))}},5818:function(e){var t={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},az:{regexp:/[\u0130]/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i\u0307",J:"j\u0307","\u012e":"\u012f\u0307","\xcc":"i\u0307\u0300","\xcd":"i\u0307\u0301","\u0128":"i\u0307\u0303"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toLowerCase()}},7801:function(e,t,n){var r=n(5818),i=n(8458),a=n(5707),o=n(4429);e.exports=function(e,t,n){if(null==e)return"";return n="string"!==typeof n?" ":n,e=String(e).replace(a,"$1 $2").replace(o,"$1 $2").replace(i,(function(e,t,r){return 0===t||t===r.length-e.length?"":n})),r(e,t)}},5707:function(e){e.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},4429:function(e){e.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g},8458:function(e){e.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===o||e===d||e===h||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=g},7441:function(e,t,n){"use strict";e.exports=n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,v(_,g.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+D(s,0):a,x(o)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),M(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(A,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",x(e))for(var l=0;l<e.length;l++){var c=a+D(u=e[l],l);s+=M(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=M(u=u.value,t,i,c=a+D(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function T(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},R={transition:null},F={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,R(w);else{var t=r(c);null!==t&&F(x,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(S),S=-1),p=!0;var a=h;try{for(_(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!M());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(l)&&i(l),_(n)}else i(l);d=r(l)}if(null!==d)var s=!0;else{var f=r(c);null!==f&&F(x,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,C=!1,k=null,S=-1,A=5,D=-1;function M(){return!(t.unstable_now()-D<A)}function T(){if(null!==k){var e=t.unstable_now();D=e;var n=!0;try{n=k(!0,e)}finally{n?E():(C=!1,k=null)}}else C=!1}if("function"===typeof b)E=function(){b(T)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=T,E=function(){O.postMessage(null)}}else E=function(){g(T,0)};function R(e){k=e,C||(C=!0,E())}function F(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(S),S=-1):m=!0,F(x,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,R(w))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var l=a[s];if(!u(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},8059:function(e){var t={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i\u0307":"I","j\u0307":"J","\u012f\u0307":"\u012e","i\u0307\u0300":"\xcc","i\u0307\u0301":"\xcd","i\u0307\u0303":"\u0128"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toUpperCase()}},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(a,u,s):a[u]=e[u]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),a=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),a=n(6116),o=n(2281);e.exports=function(e){return r(e)||i(e)||a(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&n;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},r.d(a,o),a}}(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".e403dcb9.chunk.js"},r.miniCssF=function(e){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-website:";r.l=function(n,i,a,o){if(e[n])e[n].push(i);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack",t+a),u.src=n),e[n]=[i];var d=function(t,r){u.onerror=u.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},r.p="/GuidedCreativePlanning/",function(){var e={179:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));n.push(i[2]=a);var o=r.p+r.u(t),u=new Error;r.l(o,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,n){var i,a,o=n[0],u=n[1],s=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)r.o(u,i)&&(r.m[i]=u[i]);if(s)s(r)}for(t&&t(n);l<o.length;l++)a=o[l],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkreact_website=self.webpackChunkreact_website||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),r.nc=void 0,function(){"use strict";var e=r(2791),n=r.t(e,2),i=r(1250),a=r(9439),o=r(3433);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=r(3144),l=r(9611);function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,l.Z)(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(pW){return!1}}var h=r(1002),p=r(7326);function v(e){var t=d();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,h.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,p.Z)(e)}(this,n)}}function m(e,t,n){return m=d()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,l.Z)(i,n.prototype),i},m.apply(null,arguments)}function g(e){var t="function"===typeof Map?new Map:void 0;return g=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,f(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,l.Z)(n,e)},g(e)}var y,b=r(3878),_=r(9199),x=r(181),w=r(5267);function E(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,x.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(y||(y={}));var k,S="popstate";function A(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(pW){}}}function M(e,t){return{usr:e.state,key:e.key,idx:t}}function T(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?O(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function O(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,l=o.history,c=y.Pop,f=null,d=h();function h(){return(l.state||{idx:null}).idx}function p(){c=y.Pop;var e=h(),t=null==e?null:e-d;d=e,f&&f({action:c,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:P(e);return A(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(C({},l.state,{idx:d}),""));var m={get action(){return c},get location(){return e(o,l)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(S,p),f=e,function(){o.removeEventListener(S,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=y.Push;var r=T(m.location,e,t);n&&n(r,e);var i=M(r,d=h()+1),a=m.createHref(r);try{l.pushState(i,"",a)}catch(fc){o.location.assign(a)}s&&f&&f({action:c,location:m.location,delta:1})},replace:function(e,t){c=y.Replace;var r=T(m.location,e,t);n&&n(r,e);var i=M(r,d=h()),a=m.createHref(r);l.replaceState(i,"",a),s&&f&&f({action:c,location:m.location,delta:0})},go:function(e){return l.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(k||(k={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=Y(("string"===typeof t?O(t):t).pathname||"/",n);if(null==r)return null;var i=N(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],q(r));return a}function N(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(A(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=J([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(A(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),N(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:V(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=E(I(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function I(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,(0,b.Z)(n)||(0,_.Z)(n)||(0,x.Z)(n)||(0,w.Z)()),i=r[0],a=r.slice(1),u=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return u?[s,""]:[s];var l=I(a.join("/")),c=[];return c.push.apply(c,(0,o.Z)(l.map((function(e){return""===e?s:[s,e].join("/")})))),u&&c.push.apply(c,(0,o.Z)(l)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var B=/^:\w+$/,L=3,z=2,U=1,j=10,W=-2,Z=function(e){return"*"===e};function V(e,t){var n=e.split("/"),r=n.length;return n.some(Z)&&(r+=W),t&&(r+=z),n.filter((function(e){return!Z(e)})).reduce((function(e,t){return e+(B.test(t)?L:""===t?U:j)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=G({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:J([i,c.pathname]),pathnameBase:Q(J([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=J([i,c.pathnameBase]))}return a}function G(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],l=s.replace(/(.)\/+$/,"$1"),c=u.slice(1),f=o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(fc){return D(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+fc+")."),e}}(c[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:l,pattern:e}}function q(e){try{return decodeURI(e)}catch(fc){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+fc+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function X(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function $(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function K(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=O(e):(A(!(i=C({},e)).pathname||!i.pathname.includes("?"),X("?","pathname","search",i)),A(!i.pathname||!i.pathname.includes("#"),X("#","pathname","hash",i)),A(!i.search||!i.search.includes("#"),X("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;i.pathname=l.join("/")}a=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?O(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ee(a),hash:te(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),d=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!d||(c.pathname+="/"),c}var J=function(e){return e.join("/").replace(/\/\/+/g,"/")},Q=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ee=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},te=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ne=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(g(Error));function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ie=["post","put","patch","delete"],ae=(new Set(ie),["get"].concat(ie));new Set(ae),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var oe="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ue=e.useState,se=e.useEffect,le=e.useLayoutEffect,ce=e.useDebugValue;function fe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!oe(n,r)}catch(fc){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,n.useSyncExternalStore;var de=e.createContext(null);var he=e.createContext(null);var pe=e.createContext(null);var ve=e.createContext(null);var me=e.createContext(null);var ge=e.createContext({outlet:null,matches:[]});var ye=e.createContext(null);function be(){return be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}function _e(){return null!=e.useContext(me)}function xe(){return _e()||A(!1),e.useContext(me).location}function we(){_e()||A(!1);var t=e.useContext(ve),n=t.basename,r=t.navigator,i=e.useContext(ge).matches,a=xe().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase}))),u=e.useRef(!1);e.useEffect((function(){u.current=!0}));var s=e.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=K(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:J([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function Ee(t,n){var r=(void 0===n?{}:n).relative,i=e.useContext(ge).matches,a=xe().pathname,o=JSON.stringify($(i).map((function(e){return e.pathnameBase})));return e.useMemo((function(){return K(t,JSON.parse(o),a,"path"===r)}),[t,o,a,r])}function Ce(){var t=function(){var t,n=e.useContext(ye),r=Te(Se.UseRouteError),i=Pe(Se.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=re(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var ke,Se,Ae=function(t){c(r,t);var n=v(r);function r(e){var t;return u(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return(0,s.Z)(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(ge.Provider,{value:this.props.routeContext},e.createElement(ye.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function De(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(de);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(ge.Provider,{value:n},i)}function Me(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||A(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,l=null;r&&(l=o.route.ErrorBoundary?e.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:e.createElement(Ce,null));var c=n.concat(i.slice(0,u+1)),f=function(){var n=t;return s?n=l:o.route.Component?n=e.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),e.createElement(De,{match:o,routeContext:{outlet:t,matches:c},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===u)?e.createElement(Ae,{location:r.location,component:l,error:s,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function Te(t){var n=e.useContext(he);return n||A(!1),n}function Pe(t){var n=function(t){var n=e.useContext(ge);return n||A(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||A(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(ke||(ke={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Se||(Se={}));var Oe;function Re(t){var n=t.to,r=t.replace,i=t.state,a=t.relative;_e()||A(!1);var o=e.useContext(he),u=we();return e.useEffect((function(){o&&"idle"!==o.navigation.state||u(n,{replace:r,state:i,relative:a})})),null}function Fe(e){A(!1)}function Ne(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,u=t.navigationType,s=void 0===u?y.Pop:u,l=t.navigator,c=t.static,f=void 0!==c&&c;_e()&&A(!1);var d=r.replace(/^\/*/,"/"),h=e.useMemo((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof o&&(o=O(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,b=void 0===g?"":g,_=p.hash,x=void 0===_?"":_,w=p.state,E=void 0===w?null:w,C=p.key,k=void 0===C?"default":C,S=e.useMemo((function(){var e=Y(m,d);return null==e?null:{location:{pathname:e,search:b,hash:x,state:E,key:k},navigationType:s}}),[d,m,b,x,E,k,s]);return null==S?null:e.createElement(ve.Provider,{value:h},e.createElement(me.Provider,{children:a,value:S}))}function Ie(t){var n=t.children,r=t.location,i=e.useContext(de);return function(t,n){_e()||A(!1);var r,i=e.useContext(ve).navigator,a=e.useContext(he),o=e.useContext(ge).matches,u=o[o.length-1],s=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),c=(u&&u.route,xe());if(n){var f,d="string"===typeof n?O(n):n;"/"===l||(null==(f=d.pathname)?void 0:f.startsWith(l))||A(!1),r=d}else r=c;var h=r.pathname||"/",p=F(t,{pathname:"/"===l?h:h.slice(l.length)||"/"}),v=Me(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:J([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:J([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?e.createElement(me.Provider,{value:{location:be({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:y.Pop}},v):v}(i&&!n?i.router.routes:Le(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Oe||(Oe={}));var Be=new Promise((function(){}));e.Component;function Le(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat((0,o.Z)(n),[i]);if(t.type!==e.Fragment){t.type!==Fe&&A(!1),t.props.index&&t.props.children&&A(!1);var u={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(u.children=Le(t.props.children,a)),r.push(u)}else r.push.apply(r,Le(t.props.children,a))}})),r}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],We=["aria-current","caseSensitive","className","end","style","to","children"];function Ze(t){var n,r=t.basename,i=t.children,o=t.window,u=e.useRef();null==u.current&&(u.current=(void 0===(n={window:o,v5Compat:!0})&&(n={}),R((function(e,t){var n=O(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,u=n.hash;return T("",{pathname:i,search:o,hash:void 0===u?"":u},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:P(t))}),(function(e,t){D("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=u.current,l=e.useState({action:s.action,location:s.location}),c=(0,a.Z)(l,2),f=c[0],d=c[1];return e.useLayoutEffect((function(){return s.listen(d)}),[s]),e.createElement(Ne,{basename:r,children:i,location:f.location,navigationType:f.action,navigator:s})}var Ve="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,He=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=e.forwardRef((function(t,n){var r,i=t.onClick,a=t.relative,o=t.reloadDocument,u=t.replace,s=t.state,l=t.target,c=t.to,f=t.preventScrollReset,d=Ue(t,je),h=e.useContext(ve).basename,p=!1;if("string"===typeof c&&He.test(c)&&(r=c,Ve)){var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),g=Y(m.pathname,h);m.origin===v.origin&&null!=g?c=g+m.search+m.hash:p=!0}var y=function(t,n){var r=(void 0===n?{}:n).relative;_e()||A(!1);var i=e.useContext(ve),a=i.basename,o=i.navigator,u=Ee(t,{relative:r}),s=u.hash,l=u.pathname,c=u.search,f=l;return"/"!==a&&(f="/"===l?a:J([a,l])),o.createHref({pathname:f,search:c,hash:s})}(c,{relative:a}),b=function(t,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,l=we(),c=xe(),f=Ee(t,{relative:s});return e.useCallback((function(e){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,i)){e.preventDefault();var n=void 0!==a?a:P(c)===P(f);l(t,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[c,l,f,a,o,i,t,u,s])}(c,{replace:u,state:s,target:l,preventScrollReset:f,relative:a});return e.createElement("a",ze({},d,{href:r||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:l}))}));var qe=e.forwardRef((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.caseSensitive,o=void 0!==a&&a,u=t.className,s=void 0===u?"":u,l=t.end,c=void 0!==l&&l,f=t.style,d=t.to,h=t.children,p=Ue(t,We),v=Ee(d,{relative:p.relative}),m=xe(),g=e.useContext(he),y=e.useContext(ve).navigator,b=y.encodeLocation?y.encodeLocation(v).pathname:v.pathname,_=m.pathname,x=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(_=_.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase());var w,E=_===b||!c&&_.startsWith(b)&&"/"===_.charAt(b.length),C=null!=x&&(x===b||!c&&x.startsWith(b)&&"/"===x.charAt(b.length)),k=E?i:void 0;w="function"===typeof s?s({isActive:E,isPending:C}):[s,E?"active":null,C?"pending":null].filter(Boolean).join(" ");var S="function"===typeof f?f({isActive:E,isPending:C}):f;return e.createElement(Ge,ze({},p,{"aria-current":k,className:w,ref:n,style:S,to:d}),"function"===typeof h?h({isActive:E,isPending:C}):h)}));var Ye,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));function $e(){$e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(M){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:w(e,n,u)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=l;var f={};function d(){}function p(){}function v(){}var m={};s(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=d.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,h.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return D()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:D}}function D(){return{value:void 0,done:!0}}return p.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=s(v,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(x.prototype),s(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ke(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(fc){return void n(fc)}u.done?t(s):Promise.resolve(s).then(r,i)}function Je(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ke(a,r,i,o,u,"next",e)}function u(e){Ke(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Qe=r(4942),et=!1,tt=!1,nt="${JSCORE_VERSION}",rt=function(e,t){if(!e)throw it(t)},it=function(e){return new Error("Firebase Database ("+nt+") INTERNAL ASSERT FAILED: "+e)},at=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(at(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new ut;var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ut=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return(0,s.Z)(n)}(g(Error)),st=function(e){var t=at(e);return ot.encodeByteArray(t,!0)},lt=function(e){return st(e).replace(/\./g,"")},ct=function(e){try{return ot.decodeString(e,!0)}catch(pW){console.error("base64Decode failed: ",pW)}return null};function ft(e){return dt(void 0,e)}function dt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=dt(e[n],t[n]));return e}var ht=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},pt=function(){try{return ht()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(pW){return}var t=e&&ct(e[1]);return t&&JSON.parse(t)}}()}catch(pW){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(pW))}},vt=function(e){var t,n;return null===(n=null===(t=pt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},mt=function(){var e;return null===(e=pt())||void 0===e?void 0:e.config},gt=function(e){var t;return null===(t=pt())||void 0===t?void 0:t["_".concat(e)]},yt=function(){function e(){var t=this;u(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return(0,s.Z)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function bt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function _t(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function xt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function wt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Et(){return!0===et||!0===tt}function Ct(){try{return"object"===typeof indexedDB}catch(pW){return!1}}function kt(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(fc){t(fc)}}))}var St=function(e){c(n,e);var t=v(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf((0,p.Z)(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace((0,p.Z)(a),At.prototype.create),a}return(0,s.Z)(n)}(g(Error)),At=function(){function e(t,n,r){u(this,e),this.service=t,this.serviceName=n,this.errors=r}return(0,s.Z)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Dt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new St(n,a,t)}}]),e}();var Dt=/\{\$([^}]+)}/g;function Mt(e){return JSON.parse(e)}function Tt(e){return JSON.stringify(e)}var Pt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Mt(ct(a[0])||""),n=Mt(ct(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(pW){}return{header:t,claims:n,data:r,signature:i}};function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ft(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Nt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function It(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Bt(u)&&Bt(s)){if(!It(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Bt(e){return null!==e&&"object"===typeof e}function Lt(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function zt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function Ut(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var jt=function(){function e(){u(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return(0,s.Z)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=d^c&(f^d),s=1518500249):(u=c^f^d,s=1859775393):p<60?(u=c&f|d&(c|f),s=2400959708):(u=c^f^d,s=3395469782);var v=(l<<5|l>>>27)+u+h+s+n[p]&4294967295;h=d,d=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Wt=function(){function e(t,n){var r=this;u(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return(0,s.Z)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=E(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Zt),void 0===r.error&&(r.error=Zt),void 0===r.complete&&(r.complete=Zt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(pW){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(pW){"undefined"!==typeof console&&console.error&&console.error(pW)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Zt(){}function Vt(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Ht=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},Gt=1e3,qt=2,Yt=144e5,Xt=.5;function $t(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qt,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt)*Math.pow(t,e),r=Math.round(Xt*n*(Math.random()-.5)*2);return Math.min(Yt,n+r)}function Kt(e){return e&&e._delegate?e._delegate:e}var Jt=function(){function e(t,n,r){u(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return(0,s.Z)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Qt="[DEFAULT]",en=function(){function e(t,n){u(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return(0,s.Z)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new yt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(pW){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(pW){if(r)return null;throw pW}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qt})}catch(pW){}var t,n=E(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(pW){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,o.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,o.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=E(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),l=s[0],c=s[1];r===this.normalizeInstanceIdentifier(l)&&c.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Qt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return this.component?this.component.multipleInstances?e:Qt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var tn,nn,rn=function(){function e(t){u(this,e),this.name=t,this.providers=new Map}return(0,s.Z)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new en(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),an=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(nn||(nn={}));var on={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},un=nn.INFO,sn=(tn={},(0,Qe.Z)(tn,nn.DEBUG,"log"),(0,Qe.Z)(tn,nn.VERBOSE,"log"),(0,Qe.Z)(tn,nn.INFO,"info"),(0,Qe.Z)(tn,nn.WARN,"warn"),(0,Qe.Z)(tn,nn.ERROR,"error"),tn),ln=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=sn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},cn=function(){function e(t){u(this,e),this.name=t,this._logLevel=un,this._logHandler=ln,this._userLogHandler=null,an.push(this)}return(0,s.Z)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in nn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?on[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nn.DEBUG].concat(t)),this._logHandler.apply(this,[this,nn.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nn.VERBOSE].concat(t)),this._logHandler.apply(this,[this,nn.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nn.INFO].concat(t)),this._logHandler.apply(this,[this,nn.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nn.WARN].concat(t)),this._logHandler.apply(this,[this,nn.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,nn.ERROR].concat(t)),this._logHandler.apply(this,[this,nn.ERROR].concat(t))}}]),e}();function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){(0,Qe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn,pn,vn=function(e,t){return t.some((function(t){return e instanceof t}))};var mn=new WeakMap,gn=new WeakMap,yn=new WeakMap,bn=new WeakMap,_n=new WeakMap;var xn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(pn||(pn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kn(this),n),Cn(mn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cn(e.apply(kn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[kn(this),t].concat(r));return yn.set(a,t.sort?t.sort():[t]),Cn(a)}}function En(e){return"function"===typeof e?wn(e):(e instanceof IDBTransaction&&function(e){if(!gn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));gn.set(e,t)}}(e),vn(e,hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xn):e)}function Cn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Cn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mn.set(t,e)})).catch((function(){})),_n.set(t,e),t}(e);if(bn.has(e))return bn.get(e);var t=En(e);return t!==e&&(bn.set(e,t),_n.set(t,e)),t}var kn=function(e){return _n.get(e)};function Sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Cn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Cn(u.result),e.oldVersion,e.newVersion,Cn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}var An,Dn,Mn=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],Pn=new Map;function On(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Pn.get(t))return Pn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Tn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Mn.includes(n))){var a=function(){var e=Je($e().mark((function e(t){var a,o,u,s,l,c,f=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=f[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Pn.set(t,a),a}}}xn=function(e){return dn(dn({},e),{},{get:function(t,n,r){return On(t,n)||e.get(t,n,r)},has:function(t,n){return!!On(t,n)||e.has(t,n)}})}(xn);var Rn=function(){function e(t){u(this,e),this.container=t}return(0,s.Z)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Fn="@firebase/app",Nn="0.9.7",In=new cn("@firebase/app"),Bn="[DEFAULT]",Ln=(An={},(0,Qe.Z)(An,Fn,"fire-core"),(0,Qe.Z)(An,"@firebase/app-compat","fire-core-compat"),(0,Qe.Z)(An,"@firebase/analytics","fire-analytics"),(0,Qe.Z)(An,"@firebase/analytics-compat","fire-analytics-compat"),(0,Qe.Z)(An,"@firebase/app-check","fire-app-check"),(0,Qe.Z)(An,"@firebase/app-check-compat","fire-app-check-compat"),(0,Qe.Z)(An,"@firebase/auth","fire-auth"),(0,Qe.Z)(An,"@firebase/auth-compat","fire-auth-compat"),(0,Qe.Z)(An,"@firebase/database","fire-rtdb"),(0,Qe.Z)(An,"@firebase/database-compat","fire-rtdb-compat"),(0,Qe.Z)(An,"@firebase/functions","fire-fn"),(0,Qe.Z)(An,"@firebase/functions-compat","fire-fn-compat"),(0,Qe.Z)(An,"@firebase/installations","fire-iid"),(0,Qe.Z)(An,"@firebase/installations-compat","fire-iid-compat"),(0,Qe.Z)(An,"@firebase/messaging","fire-fcm"),(0,Qe.Z)(An,"@firebase/messaging-compat","fire-fcm-compat"),(0,Qe.Z)(An,"@firebase/performance","fire-perf"),(0,Qe.Z)(An,"@firebase/performance-compat","fire-perf-compat"),(0,Qe.Z)(An,"@firebase/remote-config","fire-rc"),(0,Qe.Z)(An,"@firebase/remote-config-compat","fire-rc-compat"),(0,Qe.Z)(An,"@firebase/storage","fire-gcs"),(0,Qe.Z)(An,"@firebase/storage-compat","fire-gcs-compat"),(0,Qe.Z)(An,"@firebase/firestore","fire-fst"),(0,Qe.Z)(An,"@firebase/firestore-compat","fire-fst-compat"),(0,Qe.Z)(An,"fire-js","fire-js"),(0,Qe.Z)(An,"firebase","fire-js-all"),An),zn=new Map,Un=new Map;function jn(e,t){try{e.container.addComponent(t)}catch(pW){In.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),pW)}}function Wn(e){var t=e.name;if(Un.has(t))return In.debug("There were multiple attempts to register component ".concat(t,".")),!1;Un.set(t,e);var n,r=E(zn.values());try{for(r.s();!(n=r.n()).done;){jn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Zn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Vn=(Dn={},(0,Qe.Z)(Dn,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Qe.Z)(Dn,"bad-app-name","Illegal App name: '{$appName}"),(0,Qe.Z)(Dn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Qe.Z)(Dn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Qe.Z)(Dn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,Qe.Z)(Dn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Qe.Z)(Dn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Qe.Z)(Dn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,Qe.Z)(Dn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,Qe.Z)(Dn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,Qe.Z)(Dn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Dn),Hn=new At("app","Firebase",Vn),Gn=function(){function e(t,n,r){var i=this;u(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jt("app",(function(){return i}),"PUBLIC"))}return(0,s.Z)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Hn.create("app-deleted",{appName:this._name})}}]),e}(),qn="9.19.1";function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Hn.create("bad-app-name",{appName:String(i)});if(n||(n=mt()),!n)throw Hn.create("no-options");var a=zn.get(i);if(a){if(It(n,a.options)&&It(r,a.config))return a;throw Hn.create("duplicate-app",{appName:i})}var o,u=new rn(i),s=E(Un.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new Gn(n,r,u);return zn.set(i,c),c}function Xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=zn.get(e);if(!t&&e===Bn)return Yn();if(!t)throw Hn.create("no-app",{appName:e});return t}function $n(e,t,n){var r,i=null!==(r=Ln[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void In.warn(u.join(" "))}Wn(new Jt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Kn="firebase-heartbeat-database",Jn=1,Qn="firebase-heartbeat-store",er=null;function tr(){return er||(er=Sn(Kn,Jn,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qn)}}).catch((function(e){throw Hn.create("idb-open",{originalErrorMessage:e.message})}))),er}function nr(e){return rr.apply(this,arguments)}function rr(){return rr=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr();case 3:return n=e.sent,e.abrupt("return",n.transaction(Qn).objectStore(Qn).get(or(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof St?In.warn(e.t0.message):(r=Hn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),In.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),rr.apply(this,arguments)}function ir(e,t){return ar.apply(this,arguments)}function ar(){return ar=Je($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr();case 3:return r=e.sent,i=r.transaction(Qn,"readwrite"),a=i.objectStore(Qn),e.next=8,a.put(n,or(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof St?In.warn(e.t0.message):(o=Hn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),In.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ar.apply(this,arguments)}function or(e){return"".concat(e.name,"!").concat(e.options.appId)}var ur=function(){function e(t){var n=this;u(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new fr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return(0,s.Z)(e,[{key:"triggerHeartbeat",value:function(){var e=Je($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=sr(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Je($e().mark((function e(){var t,n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=sr(),n=lr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=lt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function sr(){return(new Date).toISOString().substring(0,10)}function lr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=E(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),dr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),dr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var cr,fr=function(){function e(t){u(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return(0,s.Z)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ct()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",kt().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,nr(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ir(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ir(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,o.Z)(r.heartbeats),(0,o.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function dr(e){return lt(JSON.stringify({version:2,heartbeats:e})).length}cr="",Wn(new Jt("platform-logger",(function(e){return new Rn(e)}),"PRIVATE")),Wn(new Jt("heartbeat",(function(e){return new ur(e)}),"PRIVATE")),$n(Fn,Nn,cr),$n(Fn,Nn,"esm2017"),$n("fire-js","");var hr;$n("firebase","9.19.1","app");var pr="@firebase/installations",vr="0.6.4",mr=1e4,gr="w:".concat(vr),yr="FIS_v2",br="https://firebaseinstallations.googleapis.com/v1",_r=36e5,xr=(hr={},(0,Qe.Z)(hr,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),(0,Qe.Z)(hr,"not-registered","Firebase Installation is not registered."),(0,Qe.Z)(hr,"installation-not-found","Firebase Installation not found."),(0,Qe.Z)(hr,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),(0,Qe.Z)(hr,"app-offline","Could not process request. Application offline."),(0,Qe.Z)(hr,"delete-pending-registration","Can't delete installation while there is a pending registration request."),hr),wr=new At("installations","Installations",xr);function Er(e){return e instanceof St&&e.code.includes("request-failed")}function Cr(e){var t=e.projectId;return"".concat(br,"/projects/").concat(t,"/installations")}function kr(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Sr(e,t){return Ar.apply(this,arguments)}function Ar(){return Ar=Je($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",wr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)}))),Ar.apply(this,arguments)}function Dr(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mr(e,t){var n=t.refreshToken,r=Dr(e);return r.append("Authorization",function(e){return"".concat(yr," ").concat(e)}(n)),r}function Tr(e){return Pr.apply(this,arguments)}function Pr(){return Pr=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Or(e,t){return Rr.apply(this,arguments)}function Rr(){return(Rr=Je($e().mark((function e(t,n){var r,i,a,o,u,s,l,c,f,d,h,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Cr(r),u=Dr(r),!(s=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,s.getHeartbeatsHeader();case 8:(l=e.sent)&&u.append("x-firebase-client",l);case 10:return c={fid:a,authVersion:yr,appId:r.appId,sdkVersion:gr},f={method:"POST",headers:u,body:JSON.stringify(c)},e.next=14,Tr((function(){return fetch(o,f)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return h=e.sent,p={fid:h.fid||a,registrationStatus:2,refreshToken:h.refreshToken,authToken:kr(h.authToken)},e.abrupt("return",p);case 23:return e.next=25,Sr("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e){return new Promise((function(t){setTimeout(t,e)}))}var Nr=/^[cdef][\w-]{21}$/,Ir="";function Br(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=function(e){return btoa(String.fromCharCode.apply(String,(0,o.Z)(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return Nr.test(t)?t:Ir}catch(n){return Ir}}function Lr(e){return"".concat(e.appName,"!").concat(e.appId)}var zr=new Map;function Ur(e,t){var n=Lr(e);jr(n,t),function(e,t){var n=Zr();n&&n.postMessage({key:e,fid:t});Vr()}(n,t)}function jr(e,t){var n=zr.get(e);if(n){var r,i=E(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Wr=null;function Zr(){return!Wr&&"BroadcastChannel"in self&&((Wr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){jr(e.data.key,e.data.fid)}),Wr}function Vr(){0===zr.size&&Wr&&(Wr.close(),Wr=null)}var Hr="firebase-installations-database",Gr=1,qr="firebase-installations-store",Yr=null;function Xr(){return Yr||(Yr=Sn(Hr,Gr,{upgrade:function(e,t){if(0===t)e.createObjectStore(qr)}})),Yr}function $r(e,t){return Kr.apply(this,arguments)}function Kr(){return(Kr=Je($e().mark((function e(t,n){var r,i,a,o,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr(t),e.next=3,Xr();case 3:return i=e.sent,a=i.transaction(qr,"readwrite"),o=a.objectStore(qr),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return u&&u.fid===n.fid||Ur(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=Je($e().mark((function e(t){var n,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lr(t),e.next=3,Xr();case 3:return r=e.sent,i=r.transaction(qr,"readwrite"),e.next=7,i.objectStore(qr).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return(ti=Je($e().mark((function e(t,n){var r,i,a,o,u,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr(t),e.next=3,Xr();case 3:return i=e.sent,a=i.transaction(qr,"readwrite"),o=a.objectStore(qr),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,a.done;case 19:return!s||u&&u.fid===s.fid||Ur(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e){return ri.apply(this,arguments)}function ri(){return(ri=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(t.appConfig,(function(e){var r=ii(e),i=ai(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==Ir){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ii(e){return ci(e||{fid:Br(),registrationStatus:0})}function ai(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(wr.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return oi.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ui(e)}:{installationEntry:t}}function oi(){return(oi=Je($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Or(t,n);case 3:return r=e.sent,e.abrupt("return",$r(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Er(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Jr(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,$r(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ui(e){return si.apply(this,arguments)}function si(){return(si=Je($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Fr(100);case 6:return e.next=8,li(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,ni(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e){return ei(e,(function(e){if(!e)throw wr.create("installation-not-found");return ci(e)}))}function ci(e){return 1===(t=e).registrationStatus&&t.registrationTime+mr<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function fi(e,t){return di.apply(this,arguments)}function di(){return(di=Je($e().mark((function e(t,n){var r,i,a,o,u,s,l,c,f,d,h;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=hi(r,n),o=Mr(r,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(s=e.sent)&&o.append("x-firebase-client",s);case 9:return l={installation:{sdkVersion:gr,appId:r.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},e.next=13,Tr((function(){return fetch(a,c)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return d=e.sent,h=kr(d),e.abrupt("return",h);case 22:return e.next=24,Sr("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e,t){var n=t.fid;return"".concat(Cr(e),"/").concat(n,"/authTokens:generate")}function pi(e){return vi.apply(this,arguments)}function vi(){return vi=Je($e().mark((function e(t){var n,r,i,a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ei(t.appConfig,(function(e){if(!xi(e))throw wr.create("not-registered");var i=e.authToken;if(!n&&wi(i))return e;if(1===i.requestStatus)return r=mi(t,n),e;if(!navigator.onLine)throw wr.create("app-offline");var a=Ei(e);return r=bi(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e,t){return gi.apply(this,arguments)}function gi(){return(gi=Je($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Fr(100);case 6:return e.next=8,yi(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",pi(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e){return ei(e,(function(e){if(!xi(e))throw wr.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+mr<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function bi(e,t){return _i.apply(this,arguments)}function _i(){return(_i=Je($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fi(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,$r(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Er(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Jr(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,$r(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function xi(e){return void 0!==e&&2===e.registrationStatus}function wi(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_r}(e)}function Ei(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Ci(){return(Ci=Je($e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,ni(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):pi(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ki(){return ki=Je($e().mark((function e(t){var n,r,i,a=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Si(r);case 4:return e.next=6,pi(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function Si(e){return Ai.apply(this,arguments)}function Ai(){return(Ai=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e){return wr.create("missing-app-config-values",{valueName:e})}var Mi,Ti="installations",Pi=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Di("App Configuration");if(!e.name)throw Di("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Di(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Zn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Oi=function(e){var t=Zn(e.getProvider("app").getImmediate(),Ti).getImmediate(),n={getId:function(){return function(e){return Ci.apply(this,arguments)}(t)},getToken:function(e){return function(e){return ki.apply(this,arguments)}(t,e)}};return n};Wn(new Jt(Ti,Pi,"PUBLIC")),Wn(new Jt("installations-internal",Oi,"PRIVATE")),$n(pr,vr),$n(pr,vr,"esm2017");var Ri="analytics",Fi="firebase_id",Ni="origin",Ii=6e4,Bi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Li="https://www.googletagmanager.com/gtag/js",zi=new cn("@firebase/analytics"),Ui=(Mi={},(0,Qe.Z)(Mi,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),(0,Qe.Z)(Mi,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),(0,Qe.Z)(Mi,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),(0,Qe.Z)(Mi,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),(0,Qe.Z)(Mi,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,Qe.Z)(Mi,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),(0,Qe.Z)(Mi,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),(0,Qe.Z)(Mi,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),(0,Qe.Z)(Mi,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),(0,Qe.Z)(Mi,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),(0,Qe.Z)(Mi,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Mi),ji=new At("analytics","Analytics",Ui);function Wi(e){if(!e.startsWith(Li)){var t=ji.create("invalid-gtag-resource",{gtagURL:e});return zi.warn(t.message),""}return e}function Zi(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Vi(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Wi}),r=document.createElement("script"),i="".concat(Li,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Hi(e,t,n,r,i,a){return Gi.apply(this,arguments)}function Gi(){return Gi=Je($e().mark((function e(t,n,r,i,a,o){var u,s,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[a],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Zi(r);case 9:if(s=e.sent,l=s.find((function(e){return e.measurementId===a})),!l){e.next=14;break}return e.next=14,n[l.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),zi.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Gi.apply(this,arguments)}function qi(e,t,n,r,i){return Yi.apply(this,arguments)}function Yi(){return Yi=Je($e().mark((function e(t,n,r,i,a){var o,u,s,l,c,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=27;break}return u=a.send_to,Array.isArray(u)||(u=[u]),e.next=7,Zi(r);case 7:s=e.sent,l=E(u),e.prev=9,f=$e().mark((function e(){var t,r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.value,r=s.find((function(e){return e.measurementId===t})),!(i=r&&n[r.appId])){e.next=7;break}o.push(i),e.next=9;break;case 7:return o=[],e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),l.s();case 12:if((c=l.n()).done){e.next=19;break}return e.delegateYield(f(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(9),l.e(e.t1);case 24:return e.prev=24,l.f(),e.finish(24);case 27:return 0===o.length&&(o=Object.values(n)),e.next=30,Promise.all(o);case 30:t("event",i,a||{}),e.next=36;break;case 33:e.prev=33,e.t2=e.catch(0),zi.error(e.t2);case 36:case"end":return e.stop()}}),e,null,[[0,33],[9,21,24,27]])}))),Yi.apply(this,arguments)}function Xi(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=Je($e().mark((function i(a,o,u){return $e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,qi(e,t,n,o,u);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Hi(e,t,n,r,o,u);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",u):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),zi.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])}))),i.apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function $i(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Li)&&i.src.includes(e))return i}return null}var Ki=30,Ji=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;u(this,e),this.throttleMetadata=t,this.intervalMillis=n}return(0,s.Z)(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Qi=new Ji;function ea(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function ta(e){return na.apply(this,arguments)}function na(){return(na=Je($e().mark((function e(t){var n,r,i,a,o,u,s,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:ea(i)},o=Bi.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:l=e.sent,(null===(n=l.error)||void 0===n?void 0:n.message)&&(s=l.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw ji.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function ra(e){return ia.apply(this,arguments)}function ia(){return ia=Je($e().mark((function e(t){var n,r,i,a,o,u,s,l,c=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:Qi,r=c.length>2?c[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,u=i.measurementId,a){e.next=5;break}throw ji.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:a});case 8:throw ji.create("no-api-key");case 9:return s=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new fa,setTimeout(Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:Ii),e.abrupt("return",aa({appId:a,apiKey:o,measurementId:u},s,l,n));case 13:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t,n){return oa.apply(this,arguments)}function oa(){return oa=Je($e().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,d,h,p=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:Qi,s=t.appId,l=t.measurementId,e.prev=3,e.next=6,ua(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!l){e.next=13;break}return zi.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:s,measurementId:l});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,ta(t);case 17:return c=e.sent,o.deleteThrottleMetadata(s),e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(14),sa(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(s),!l){e.next=32;break}return zi.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:s,measurementId:l});case 32:throw e.t1;case 33:return d=503===Number(null===(u=null===f||void 0===f?void 0:f.customData)||void 0===u?void 0:u.httpStatus)?$t(a,o.intervalMillis,Ki):$t(a,o.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(s,h),zi.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",aa(t,h,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),oa.apply(this,arguments)}function ua(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(ji.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function sa(e){if(!(e instanceof St)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var la,ca,fa=function(){function e(){u(this,e),this.listeners=[]}return(0,s.Z)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function da(){return(da=Je($e().mark((function e(t,n,r,i,a){var o,u;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ha(e){ca=e}function pa(e){la=e}function va(){return ma.apply(this,arguments)}function ma(){return(ma=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ct()){e.next=5;break}return zi.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,kt();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),zi.warn(ji.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function ga(){return ga=Je($e().mark((function e(t,n,r,i,o,u,s){var l,c,f,d,h,p,v,m;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=ra(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&zi.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return zi.error(e)})),n.push(c),f=va().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,f]);case 6:return d=e.sent,h=(0,a.Z)(d,2),p=h[0],v=h[1],$i(u)||Vi(u,p.measurementId),ca&&(o("consent","default",ca),ha(void 0)),o("js",new Date),(m=null!==(l=null===s||void 0===s?void 0:s.config)&&void 0!==l?l:{})[Ni]="firebase",m.update=!0,null!=v&&(m[Fi]=v),o("config",p.measurementId,m),la&&(o("set",la),pa(void 0)),e.abrupt("return",p.measurementId);case 20:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}var ya,ba,_a=function(){function e(t){u(this,e),this.app=t}return(0,s.Z)(e,[{key:"_delete",value:function(){return delete xa[this.app.options.appId],Promise.resolve()}}]),e}(),xa={},wa=[],Ea={},Ca="dataLayer",ka="gtag",Sa=!1;function Aa(){var e=[];if(xt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=ji.create("invalid-analytics-context",{errorInfo:t});zi.warn(n.message)}}function Da(e,t,n){Aa();var r=e.options.appId;if(!r)throw ji.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ji.create("no-api-key");zi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=xa[r])throw ji.create("already-exists",{id:r});if(!Sa){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ca);var i=Xi(xa,wa,Ea,Ca,ka),a=i.wrappedGtag,o=i.gtagCore;ba=a,ya=o,Sa=!0}return xa[r]=function(e,t,n,r,i,a,o){return ga.apply(this,arguments)}(e,wa,Ea,t,ya,Ca,n),new _a(e)}function Ma(e,t,n,r){e=Kt(e),function(e,t,n,r,i){return da.apply(this,arguments)}(ba,xa[e.app.options.appId],t,n,r).catch((function(e){return zi.error(e)}))}var Ta="@firebase/analytics",Pa="0.9.5";function Oa(){return Oa="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Oa.apply(this,arguments)}Wn(new Jt(Ri,(function(e,t){var n=t.options;return Da(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Wn(new Jt("analytics-internal",(function(e){try{var t=e.getProvider(Ri).getImmediate();return{logEvent:function(e,n,r){return Ma(t,e,n,r)}}}catch(pW){throw ji.create("interop-component-reg-failed",{reason:pW})}}),"PRIVATE")),$n(Ta,Pa),$n(Ta,Pa,"esm2017");function Ra(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Fa;Object.create;function Na(){return(0,Qe.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Ia=Na,Ba=new At("auth","Firebase",Na()),La=new cn("@firebase/auth");function za(e){if(La.logLevel<=nn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];La.error.apply(La,["Auth (".concat(qn,"): ").concat(e)].concat(n))}}function Ua(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Za.apply(void 0,[e].concat(n))}function ja(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Za.apply(void 0,[e].concat(n))}function Wa(e,t,n){var r=Object.assign(Object.assign({},Ia()),(0,Qe.Z)({},t,n));return new At("auth","Firebase",r).create(t,{appName:e.name})}function Za(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],u=(0,o.Z)(n.slice(1));return u[0]&&(u[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,o.Z)(u)))}return Ba.create.apply(Ba,[e].concat(n))}function Va(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Za.apply(void 0,[t].concat(r))}}function Ha(e){var t="INTERNAL ASSERTION FAILED: "+e;throw za(t),new Error(t)}function Ga(e,t){e||Ha(t)}var qa=new Map;function Ya(e){Ga(e instanceof Function,"Expected a class definition");var t=qa.get(e);return t?(Ga(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,qa.set(e,t),t)}function Xa(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function $a(){return"http:"===Ka()||"https:"===Ka()}function Ka(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ja=function(){function e(t,n){u(this,e),this.shortDelay=t,this.longDelay=n,Ga(n>t,"Short delay should be less than long delay!"),this.isMobile=_t()||wt()}return(0,s.Z)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&($a()||xt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Qa(e,t){Ga(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var eo=function(){function e(){u(this,e)}return(0,s.Z)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),to=(Fa={},(0,Qe.Z)(Fa,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Qe.Z)(Fa,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Qe.Z)(Fa,"INVALID_IDENTIFIER","invalid-email"),(0,Qe.Z)(Fa,"MISSING_CONTINUE_URI","internal-error"),(0,Qe.Z)(Fa,"INVALID_PASSWORD","wrong-password"),(0,Qe.Z)(Fa,"MISSING_PASSWORD","missing-password"),(0,Qe.Z)(Fa,"EMAIL_EXISTS","email-already-in-use"),(0,Qe.Z)(Fa,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Qe.Z)(Fa,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Qe.Z)(Fa,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Qe.Z)(Fa,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Qe.Z)(Fa,"MISSING_REQ_TYPE","internal-error"),(0,Qe.Z)(Fa,"EMAIL_NOT_FOUND","user-not-found"),(0,Qe.Z)(Fa,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Qe.Z)(Fa,"EXPIRED_OOB_CODE","expired-action-code"),(0,Qe.Z)(Fa,"INVALID_OOB_CODE","invalid-action-code"),(0,Qe.Z)(Fa,"MISSING_OOB_CODE","internal-error"),(0,Qe.Z)(Fa,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Qe.Z)(Fa,"INVALID_ID_TOKEN","invalid-user-token"),(0,Qe.Z)(Fa,"TOKEN_EXPIRED","user-token-expired"),(0,Qe.Z)(Fa,"USER_NOT_FOUND","user-token-expired"),(0,Qe.Z)(Fa,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Qe.Z)(Fa,"INVALID_CODE","invalid-verification-code"),(0,Qe.Z)(Fa,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Qe.Z)(Fa,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Qe.Z)(Fa,"MISSING_SESSION_INFO","missing-verification-id"),(0,Qe.Z)(Fa,"SESSION_EXPIRED","code-expired"),(0,Qe.Z)(Fa,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Qe.Z)(Fa,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Qe.Z)(Fa,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Qe.Z)(Fa,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Qe.Z)(Fa,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Qe.Z)(Fa,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Qe.Z)(Fa,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Qe.Z)(Fa,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Qe.Z)(Fa,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Qe.Z)(Fa,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Qe.Z)(Fa,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Fa),no=new Ja(3e4,6e4);function ro(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function io(e,t,n,r){return ao.apply(this,arguments)}function ao(){return ao=Je($e().mark((function e(t,n,r,i){var a,o=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",oo(t,a,Je($e().mark((function e(){var a,o,u,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Lt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",eo.fetch()(co(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t,n){return uo.apply(this,arguments)}function uo(){return uo=Je($e().mark((function e(t,n,r){var i,o,u,s,l,c,f,d,h,p;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},to),n),e.prev=2,o=new fo(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ho(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(l=u.ok?s.errorMessage:s.error.message,c=l.split(" : "),f=(0,a.Z)(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw ho(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw ho(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw ho(t,"user-disabled",s);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Wa(t,p,h);case 34:Ua(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof St)){e.next=41;break}throw e.t0;case 41:Ua(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),uo.apply(this,arguments)}function so(e,t,n,r){return lo.apply(this,arguments)}function lo(){return lo=Je($e().mark((function e(t,n,r,i){var a,o,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,io(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ua(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function co(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qa(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var fo=function(){function e(t){var n=this;u(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ja(n.auth,"network-request-failed"))}),no.get())}))}return(0,s.Z)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ho(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ja(e,t,r);return i.customData._tokenResponse=n,i}function po(e,t){return vo.apply(this,arguments)}function vo(){return vo=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),vo.apply(this,arguments)}function mo(e,t){return go.apply(this,arguments)}function go(){return go=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),go.apply(this,arguments)}function yo(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(pW){}}function bo(){return bo=Je($e().mark((function e(t){var n,r,i,a,o,u,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Kt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Va((a=xo(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:yo(_o(a.auth_time)),issuedAtTime:yo(_o(a.iat)),expirationTime:yo(_o(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function _o(e){return 1e3*Number(e)}function xo(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return za("JWT malformed, contained fewer than 3 sections"),null;try{var u=ct(i);return u?JSON.parse(u):(za("Failed to decode base64 JWT payload"),null)}catch(pW){return za("Caught error parsing JWT payload as JSON",null===pW||void 0===pW?void 0:pW.toString()),null}}function wo(e,t){return Eo.apply(this,arguments)}function Eo(){return Eo=Je($e().mark((function e(t,n){var r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof St&&Co(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Eo.apply(this,arguments)}function Co(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ko=function(){function e(t){u(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return(0,s.Z)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Je($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),So=function(){function e(t,n){u(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return(0,s.Z)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=yo(this.lastLoginAt),this.creationTime=yo(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ao(e){return Do.apply(this,arguments)}function Do(){return Do=Je($e().mark((function e(t){var n,r,i,a,o,u,s,l,c,f,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,wo(t,mo(r,{idToken:i}));case 6:Va(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Ra(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=To(t.providerData,u),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new So(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Mo(){return(Mo=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kt(t),e.next=3,Ao(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function To(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,o.Z)(n),(0,o.Z)(t))}function Po(e,t){return Oo.apply(this,arguments)}function Oo(){return Oo=Je($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(t,{},Je($e().mark((function e(){var r,i,a,o,u,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=co(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",eo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}var Ro=function(){function e(){u(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return(0,s.Z)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Va(e.idToken,"internal-error"),Va("undefined"!==typeof e.idToken,"internal-error"),Va("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=xo(e);return Va(t,"internal-error"),Va("undefined"!==typeof t.exp,"internal-error"),Va("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Je($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Va(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Je($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Po(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ha("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Va("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Va("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Va("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fo(e,t){Va("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var No=function(){function e(t){u(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Ra(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,o.Z)(a.providerData):[],this.metadata=new So(a.createdAt||void 0,a.lastLoginAt||void 0)}return(0,s.Z)(e,[{key:"getIdToken",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Va(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Mo.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Va(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Va(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Je($e().mark((function e(t){var n,r,i=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ao(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,wo(this,po(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,b=n.uid,_=n.emailVerified,x=n.isAnonymous,w=n.providerData,E=n.stsTokenManager;Va(b&&E,t,"internal-error");var C=Ro.fromJSON(this.name,E);Va("string"===typeof b,t,"internal-error"),Fo(f,t.name),Fo(d,t.name),Va("boolean"===typeof _,t,"internal-error"),Va("boolean"===typeof x,t,"internal-error"),Fo(h,t.name),Fo(p,t.name),Fo(v,t.name),Fo(m,t.name),Fo(g,t.name),Fo(y,t.name);var k=new e({uid:b,auth:t,email:d,emailVerified:_,displayName:f,isAnonymous:x,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(k.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(k._redirectEventId=m),k}},{key:"_fromIdTokenResponse",value:function(){var t=Je($e().mark((function t(n,r){var i,a,o,u=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ro).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ao(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Io=function(){function e(){u(this,e),this.type="NONE",this.storage={}}return(0,s.Z)(e,[{key:"_isAvailable",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Io.type="NONE";var Bo=Io;function Lo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var zo=function(){function e(t,n,r){u(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Lo(this.userKey,a.apiKey,o),this.fullPersistenceKey=Lo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return(0,s.Z)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?No._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Je($e().mark((function t(n,r){var i,a,o,u,s,l,c,f,d,h,p,v=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ya(Bo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ya(Bo),u=Lo(i,n.config.apiKey,n.name),s=null,l=E(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=No._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Uo(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Go(t))return"Blackberry";if(qo(t))return"Webos";if(Wo(t))return"Safari";if((t.includes("chrome/")||Zo(t))&&!t.includes("edge/"))return"Chrome";if(Ho(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/firefox\//i.test(e)}function Wo(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/crios\//i.test(e)}function Vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/iemobile/i.test(e)}function Ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/android/i.test(e)}function Go(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/blackberry/i.test(e)}function qo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/webos/i.test(e)}function Yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xo(){return function(){var e=bt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt();return Yo(e)||Ho(e)||qo(e)||Go(e)||/windows phone/i.test(e)||Vo(e)}function Ko(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Uo(bt());break;case"Worker":t="".concat(Uo(bt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(qn,"/").concat(r)}var Jo=function(){function e(t){u(this,e),this.auth=t,this.queue=[]}return(0,s.Z)(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(pW){r(pW)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Je($e().mark((function e(t){var n,r,i,a,o,u,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=E(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=E(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(km){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Qo=function(){function e(t,n,r){u(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tu(this),this.idTokenSubscription=new tu(this),this.beforeStateQueue=new Jo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ba,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return(0,s.Z)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ya(t)),this._initializationPromise=this.queue(Je($e().mark((function r(){var i,a;return $e().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,zo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Je($e().mark((function e(t){var n,r,i,a,o,u,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Va(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ao(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Kt(t):null)&&Va(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Je($e().mark((function e(t){var n,r=this,i=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Va(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Je($e().mark((function n(){return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ya(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new At("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Je($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Va(n=t&&Ya(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,zo.create(this,[Ya(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Je($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Va(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Va(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ko(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Je($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Qe.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function eu(e){return Kt(e)}var tu=function(){function e(t){var n=this;u(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Wt(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return(0,s.Z)(e,[{key:"next",get:function(){return Va(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function nu(e,t,n){var r=eu(e);Va(r._canInitEmulator,r,"emulator-config-failed"),Va(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ru(t),u=function(e){var t=ru(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:iu(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:iu(s[1])}}(t),s=u.host,l=u.port,c=null===l?"":":".concat(l);r.config.emulator={url:"".concat(o,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ru(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function iu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var au=function(){function e(t,n){u(this,e),this.providerId=t,this.signInMethod=n}return(0,s.Z)(e,[{key:"toJSON",value:function(){return Ha("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ha("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ha("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ha("not implemented")}}]),e}();function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e,t){return lu.apply(this,arguments)}function lu(){return lu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(t,"POST","/v1/accounts:signInWithPassword",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function cu(e,t){return fu.apply(this,arguments)}function fu(){return fu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,"POST","/v1/accounts:sendOobCode",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),fu.apply(this,arguments)}function du(e,t){return hu.apply(this,arguments)}function hu(){return hu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cu(t,n));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return vu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(e,t){return gu.apply(this,arguments)}function gu(){return gu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(t,"POST","/v1/accounts:signInWithEmailLink",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}var yu=function(e){c(n,e);var t=v(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return u(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return(0,s.Z)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",su(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",pu(t,{email:this._email,oobCode:this._password}));case 5:Ua(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ou(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",mu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ua(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(au);function bu(e,t){return _u.apply(this,arguments)}function _u(){return _u=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(t,"POST","/v1/accounts:signInWithIdp",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}var xu=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return(0,s.Z)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Lt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ua("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Ra(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(au);function wu(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",io(t,"POST","/v1/accounts:sendVerificationCode",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Cu(){return Cu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(t,"POST","/v1/accounts:signInWithPhoneNumber",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}function ku(){return ku=Je($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(t,"POST","/v1/accounts:signInWithPhoneNumber",ro(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ho(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ku.apply(this,arguments)}var Su=(0,Qe.Z)({},"USER_NOT_FOUND","user-not-found");function Au(){return Au=Je($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",so(t,"POST","/v1/accounts:signInWithPhoneNumber",ro(t,r),Su));case 2:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}var Du=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone","phone")).params=e,r}return(0,s.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Cu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ku.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Au.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(au);var Mu=function(){function e(t){var n,r,i,a,o,s;u(this,e);var l=zt(Ut(t)),c=null!==(n=l.apiKey)&&void 0!==n?n:null,f=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);Va(c&&f&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=f,this.continueUrl=null!==(a=l.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=l.tenantId)&&void 0!==s?s:null}return(0,s.Z)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=zt(Ut(e)).link,n=t?zt(Ut(t)).deep_link_id:null,r=zt(Ut(e)).deep_link_id;return(r?zt(Ut(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Tu=function(){function e(){u(this,e),this.providerId=e.PROVIDER_ID}return(0,s.Z)(e,null,[{key:"credential",value:function(e,t){return yu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Mu.parseLink(t);return Va(n,"argument-error"),yu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Tu.PROVIDER_ID="password",Tu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Tu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Pu=function(){function e(t){u(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return(0,s.Z)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ou=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).scopes=[],e}return(0,s.Z)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,o.Z)(this.scopes)}}]),n}(Pu),Ru=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.call(this,"facebook.com")}return(0,s.Z)(n,null,[{key:"credential",value:function(e){return xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ou);Ru.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ru.PROVIDER_ID="facebook.com";var Fu=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return(0,s.Z)(n,null,[{key:"credential",value:function(e,t){return xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ou);Fu.GOOGLE_SIGN_IN_METHOD="google.com",Fu.PROVIDER_ID="google.com";var Nu=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.call(this,"github.com")}return(0,s.Z)(n,null,[{key:"credential",value:function(e){return xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Ou);Nu.GITHUB_SIGN_IN_METHOD="github.com",Nu.PROVIDER_ID="github.com";var Iu=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.call(this,"twitter.com")}return(0,s.Z)(n,null,[{key:"credential",value:function(e,t){return xu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Ou);function Bu(e,t){return Lu.apply(this,arguments)}function Lu(){return Lu=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",so(t,"POST","/v1/accounts:signUp",ro(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lu.apply(this,arguments)}Iu.TWITTER_SIGN_IN_METHOD="twitter.com",Iu.PROVIDER_ID="twitter.com";var zu=function(){function e(t){u(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return(0,s.Z)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Je($e().mark((function t(n,r,i){var a,o,u,s,l=arguments;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,No._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Uu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Je($e().mark((function t(n,r,i){var a;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Uu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Uu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var ju=function(e){c(n,e);var t=v(n);function n(e,r,i,a){var o,s;return u(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf((0,p.Z)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return(0,s.Z)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(St);function Wu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ju._fromErrorAndOperation(e,n,t,r);throw n}))}function Zu(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=Je($e().mark((function e(t,n){var r,i,a=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=wo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Vu.apply(this,arguments)}function Hu(e,t){return Gu.apply(this,arguments)}function Gu(){return Gu=Je($e().mark((function e(t,n){var r,i,a,o,u,s,l=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,wo(t,Wu(i,a,n,t),r);case 6:return Va((o=e.sent).idToken,i,"internal-error"),Va(u=xo(o.idToken),i,"internal-error"),s=u.sub,Va(t.uid===s,i,"user-mismatch"),e.abrupt("return",zu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ua(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Gu.apply(this,arguments)}function qu(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=Je($e().mark((function e(t,n){var r,i,a,o,u=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Wu(t,i,n);case 4:return a=e.sent,e.next=7,zu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Xu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qu(eu(t),n));case 1:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Ku(e,t,n){var r;Va((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Va("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Va(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Va(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ju(){return Ju=Je($e().mark((function e(t,n,r){var i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=eu(t),e.next=3,Bu(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,zu._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Qu(e,t){return es.apply(this,arguments)}function es(){return(es=Je($e().mark((function e(t,n){var r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ku(r.auth,a,n),e.next=8,du(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ts(e,t){return io(e,"POST","/v2/accounts/mfaEnrollment:start",ro(e,t))}function ns(e,t){return io(e,"POST","/v2/accounts/mfaEnrollment:start",ro(e,t))}function rs(e,t){return io(e,"POST","/v2/accounts/mfaEnrollment:finalize",ro(e,t))}new WeakMap;var is="__sak",as=function(){function e(t,n){u(this,e),this.storageRetriever=t,this.type=n}return(0,s.Z)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(is,"1"),this.storage.removeItem(is),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var os=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=bt();return Wo(e)||Yo(e)}()&&function(){try{return!(!window||window===window.top)}catch(pW){return!1}}(),e.fallbackToPolling=$o(),e._shouldAllowMigration=!0,e}return(0,s.Z)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Xo()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Je($e().mark((function e(t,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(f(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Je($e().mark((function e(t){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(f(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(f(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(as);os.type="LOCAL";var us=os,ss=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return(0,s.Z)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(as);ss.type="SESSION";var ls=ss;function cs(e){return Promise.all(e.map(function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var fs=function(){function e(t){u(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return(0,s.Z)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Je($e().mark((function e(t){var n,r,i,a,o,u,s,l;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,cs(s);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ds(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}fs.receivers=[];var hs=function(){function e(t){u(this,e),this.target=t,this.handlers=new Set}return(0,s.Z)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Je($e().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var l=ds("",20);i.port1.start();var c=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ps(){return window}function vs(){return"undefined"!==typeof ps().WorkerGlobalScope&&"function"===typeof ps().importScripts}function ms(){return gs.apply(this,arguments)}function gs(){return(gs=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ys(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var bs="firebaseLocalStorageDb",_s="firebaseLocalStorage",xs="fbase_key",ws=function(){function e(t){u(this,e),this.request=t}return(0,s.Z)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Es(e,t){return e.transaction([_s],t?"readwrite":"readonly").objectStore(_s)}function Cs(){var e=indexedDB.deleteDatabase(bs);return new ws(e).toPromise()}function ks(){var e=indexedDB.open(bs,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_s,{keyPath:xs})}catch(pW){n(pW)}})),e.addEventListener("success",Je($e().mark((function n(){var r;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_s)){n.next=12;break}return r.close(),n.next=5,Cs();case 5:return n.t0=t,n.next=8,ks();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ss(e,t,n){return As.apply(this,arguments)}function As(){return(As=Je($e().mark((function e(t,n,r){var i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Es(t,!0).put((i={},(0,Qe.Z)(i,xs,n),(0,Qe.Z)(i,"value",r),i)),e.abrupt("return",new ws(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=Je($e().mark((function e(t,n){var r,i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Es(t,!1).get(n),e.next=3,new ws(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Ts(e,t){var n=Es(e,!0).delete(t);return new ws(n).toPromise()}var Ps=function(){function e(){u(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return(0,s.Z)(e,[{key:"_openDb",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ks();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Je($e().mark((function e(){var t=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=fs._getInstance(vs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Je($e().mark((function e(n,r){var i;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Je($e().mark((function e(t,n){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Je($e().mark((function e(){var t,n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new hs(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ys()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ks();case 5:return t=e.sent,e.next=8,Ss(t,is,"1");case 8:return e.next=10,Ts(t,is);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Je($e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Je($e().mark((function e(t,n){var r=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ss(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ds(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Je($e().mark((function e(t){var n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ts(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Je($e().mark((function e(){var t,n,r,i,a,o,u,s,l,c,f;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Es(e,!1).getAll();return new ws(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=E(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Je($e().mark((function t(){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ps.type="LOCAL";var Os=Ps;function Rs(e,t){return io(e,"POST","/v2/accounts/mfaSignIn:start",ro(e,t))}function Fs(e,t){return io(e,"POST","/v2/accounts/mfaSignIn:finalize",ro(e,t))}function Ns(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ja("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Is(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}Is("rcb"),new Ja(3e4,6e4);var Bs="recaptcha";function Ls(e,t,n){return zs.apply(this,arguments)}function zs(){return zs=Je($e().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Va("string"===typeof a,t,"argument-error"),Va(r.type===Bs,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Va("enroll"===u.type,t,"internal-error"),e.next=13,ts(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Va("signin"===u.type,t,"internal-error"),Va(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Rs(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,wu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),zs.apply(this,arguments)}var Us=function(){function e(t){u(this,e),this.providerId=e.PROVIDER_ID,this.auth=eu(t)}return(0,s.Z)(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ls(this.auth,e,Kt(t))}}],[{key:"credential",value:function(e,t){return Du._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Du._fromTokenResponse(n,r):null}}]),e}();function js(e,t){return t?Ya(t):(Va(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Us.PROVIDER_ID="phone",Us.PHONE_SIGN_IN_METHOD="phone";var Ws=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this,"custom","custom")).params=e,r}return(0,s.Z)(n,[{key:"_getIdTokenResponse",value:function(e){return bu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(au);function Zs(e){return qu(e.auth,new Ws(e),e.bypassAuthState)}function Vs(e){var t=e.auth,n=e.user;return Va(n,t,"internal-error"),Hu(n,new Ws(e),e.bypassAuthState)}function Hs(e){return Gs.apply(this,arguments)}function Gs(){return Gs=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Va(r=t.user,n,"internal-error"),e.abrupt("return",Zu(r,new Ws(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}var qs=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];u(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return(0,s.Z)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Je($e().mark((function t(n,r){return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Je($e().mark((function e(t){var n,r,i,a,o,u,s;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return Hs;case"reauthViaPopup":case"reauthViaRedirect":return Vs;default:Ua(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ga(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ys=new Ja(2e3,1e4);var Xs=function(e){c(n,e);var t=v(n);function n(e,r,i,a,o){var s;return u(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=(0,p.Z)(s),s}return(0,s.Z)(n,[{key:"executeNotNull",value:function(){var e=Je($e().mark((function e(){var t;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Va(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Je($e().mark((function e(){var t,n=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ga(1===this.filter.length,"Popup operations only handle one event"),t=ds(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ja(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ja(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ja(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ys.get())}()}}]),n}(qs);Xs.currentPopupAction=null;var $s="pendingRedirect",Ks=new Map,Js=function(e){c(n,e);var t=v(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return(0,s.Z)(n,[{key:"execute",value:function(){var e=Je($e().mark((function e(){var t,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ks.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Qs(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Oa(f(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ks.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ks.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Je($e().mark((function e(t){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Oa(f(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Oa(f(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(qs);function Qs(e,t){return el.apply(this,arguments)}function el(){return el=Je($e().mark((function e(t,n){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rl(n),i=nl(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),el.apply(this,arguments)}function tl(e,t){Ks.set(e._key(),t)}function nl(e){return Ya(e._redirectPersistence)}function rl(e){return Lo($s,e.config.apiKey,e.name)}function il(e,t){return al.apply(this,arguments)}function al(){return al=Je($e().mark((function e(t,n){var r,i,a,o,u,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=eu(t),a=js(i,n),o=new Js(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}var ol=function(){function e(t){u(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return(0,s.Z)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ja(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ul(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ul(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ul(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function sl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ll(e){return cl.apply(this,arguments)}function cl(){return cl=Je($e().mark((function e(t){var n,r=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",io(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}var fl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dl=/^https?/;function hl(){return hl=Je($e().mark((function e(t){var n,r,i,a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ll(t);case 4:n=e.sent,r=n.authorizedDomains,i=E(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!pl(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ua(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),hl.apply(this,arguments)}function pl(e){var t=Xa(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!dl.test(r))return!1;if(fl.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var vl=new Ja(3e4,6e4);function ml(){var e=ps().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,o.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var gl=null;function yl(e){return gl=gl||function(e){return new Promise((function(t,n){var r,i,a;function o(){ml(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ml(),n(ja(e,"network-request-failed"))},timeout:vl.get()})}if(null===(i=null===(r=ps().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ps().gapi)||void 0===a?void 0:a.load)){var u=Is("iframefcb");return ps()[u]=function(){gapi.load?o():n(ja(e,"network-request-failed"))},Ns("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw gl=null,e}))}(e),gl}var bl=new Ja(5e3,15e3),_l="__/auth/iframe",xl="emulator/auth/iframe",wl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},El=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cl(e){var t=e.config;Va(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Qa(t,xl):"https://".concat(e.config.authDomain,"/").concat(_l),r={apiKey:t.apiKey,appName:e.name,v:qn},i=El.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Lt(r).slice(1))}function kl(e){return Sl.apply(this,arguments)}function Sl(){return Sl=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yl(t);case 2:return n=e.sent,Va(r=ps().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Cl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wl,dontclear:!0},(function(e){return new Promise(function(){var n=Je($e().mark((function n(r,i){var a,o,u;return $e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ps().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ja(t,"network-request-failed"),o=ps().setTimeout((function(){i(a)}),bl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Sl.apply(this,arguments)}var Al={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dl=function(){function e(t){u(this,e),this.window=t,this.associatedEvent=null}return(0,s.Z)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(pW){}}}]),e}();function Ml(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",l=Object.assign(Object.assign({},Al),{width:r.toString(),height:i.toString(),top:o,left:u}),c=bt().toLowerCase();n&&(s=Zo(c)?"_blank":n),jo(c)&&(t=t||"http://localhost",l.scrollbars="yes");var f=Object.entries(l).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Yo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Dl(null);var d=window.open(t||"",s,f);Va(d,e,"popup-blocked");try{d.focus()}catch(pW){}return new Dl(d)}var Tl="__/auth/handler",Pl="emulator/auth/handler";function Ol(e,t,n,r,i,o){Va(e.config.authDomain,e,"auth-domain-config-required"),Va(e.config.apiKey,e,"invalid-api-key");var u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:qn,eventId:i};if(t instanceof Pu){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",Ft(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,l=Object.entries(o||{});s<l.length;s++){var c=(0,a.Z)(l[s],2),f=c[0],d=c[1];u[f]=d}}if(t instanceof Ou){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(u.scopes=h.join(","))}e.tenantId&&(u.tid=e.tenantId);for(var p=u,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Tl);return Qa(t,Pl)}(e),"?").concat(Lt(p).slice(1))}var Rl="webStorageSupport",Fl=function(){function e(){u(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ls,this._completeRedirectFn=il,this._overrideRedirectResult=tl}return(0,s.Z)(e,[{key:"_openPopup",value:function(){var e=Je($e().mark((function e(t,n,r,i){var a,o;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ga(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ol(t,n,r,Xa(),i),e.abrupt("return",Ml(t,o,ds()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Je($e().mark((function e(t,n,r,i){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ol(t,n,r,Xa(),i),ps().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ga(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(t);case 2:return n=e.sent,r=new ol(t),n.register("authEvent",(function(e){return Va(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Rl,{type:Rl},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Rl];void 0!==i&&t(!!i),Ua(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $o()||Wo()||Yo()}}]),e}(),Nl=Fl,Il=function(){function e(t){u(this,e),this.factorId=t}return(0,s.Z)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ha("unexpected MultiFactorSessionType")}}}]),e}(),Bl=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this,"phone")).credential=e,r}return(0,s.Z)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return io(e,"POST","/v2/accounts/mfaEnrollment:finalize",ro(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return io(e,"POST","/v2/accounts/mfaSignIn:finalize",ro(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Il);(function(){function e(){u(this,e)}return(0,s.Z)(e,null,[{key:"assertion",value:function(e){return Bl._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var Ll=function(){function e(){u(this,e)}return(0,s.Z)(e,null,[{key:"assertionForEnrollment",value:function(e,t){return zl._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return zl._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Je($e().mark((function e(t){var n,r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,ns(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Ul._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ll.FACTOR_ID="totp";var zl=function(e){c(n,e);var t=v(n);function n(e,r,i){var a;return u(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return(0,s.Z)(n,[{key:"_finalizeEnroll",value:function(){var e=Je($e().mark((function e(t,n,r){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",rs(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Je($e().mark((function e(t,n){var r;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Va(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Fs(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Il),Ul=function(){function e(t,n,r,i,a,o,s){u(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return(0,s.Z)(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(jl(e)||jl(t))&&(r=!0),r&&(jl(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),jl(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function jl(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Wl="@firebase/auth",Zl="0.22.0",Vl=function(){function e(t){u(this,e),this.auth=t,this.internalListeners=new Map}return(0,s.Z)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Je($e().mark((function e(t){var n;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Va(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Hl,Gl=gt("authIdTokenMaxAge")||300,ql=null;Hl="Browser",Wn(new Jt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Va(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Va(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Hl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ko(Hl)},i=new Qo(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ya);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Wn(new Jt("auth-internal",(function(e){return function(e){return new Vl(e)}(eu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$n(Wl,Zl,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Hl)),$n(Wl,Zl,"esm2017");var Yl="@firebase/database",Xl="0.14.4",$l="";var Kl=function(){function e(t){u(this,e),this.domStorage_=t,this.prefix_="firebase:"}return(0,s.Z)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Mt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Jl=function(){function e(){u(this,e),this.cache_={},this.isInMemoryStorage=!0}return(0,s.Z)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ot(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Ql=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Kl(t)}}catch(pW){}return new Jl},ec=Ql("localStorage"),tc=Ql("sessionStorage"),nc=new cn("@firebase/database"),rc=function(){var e=1;return function(){return e++}}(),ic=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,rt(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new jt;n.update(t);var r=n.digest();return ot.encodeByteArray(r)},ac=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Tt(r):r,t+=" "}return t},oc=null,uc=!0,sc=function(e,t){rt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(nc.logLevel=nn.VERBOSE,oc=nc.log.bind(nc),t&&tc.set("logging_enabled",!0)):"function"===typeof e?oc=e:(oc=null,tc.remove("logging_enabled"))},lc=function(){if(!0===uc&&(uc=!1,null===oc&&!0===tc.get("logging_enabled")&&sc(!0)),oc){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=ac.apply(null,t);oc(r)}},cc=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];lc.apply(void 0,[e].concat(n))}},fc=function(){var e="FIREBASE INTERNAL ERROR: "+ac.apply(void 0,arguments);nc.error(e)},dc=function(){var e="FIREBASE FATAL ERROR: ".concat(ac.apply(void 0,arguments));throw nc.error(e),new Error(e)},hc=function(){var e="FIREBASE WARNING: "+ac.apply(void 0,arguments);nc.warn(e)},pc=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},vc="[MIN_NAME]",mc="[MAX_NAME]",gc=function(e,t){if(e===t)return 0;if(e===vc||t===mc)return-1;if(t===vc||e===mc)return 1;var n=kc(e),r=kc(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},yc=function(e,t){return e===t?0:e<t?-1:1},bc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Tt(t))},_c=function e(t){if("object"!==typeof t||null===t)return Tt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Tt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},xc=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function wc(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Ec=function(e){rt(!pc(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var s=u.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Cc=new RegExp("^-?(0*)\\d{1,10}$"),kc=function(e){if(Cc.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Sc=function(e){try{e()}catch(pW){setTimeout((function(){var t=pW.stack||"";throw hc("Exception was thrown by user callback.",t),pW}),Math.floor(0))}},Ac=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Dc=function(){function e(t,n){var r=this;u(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return(0,s.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){hc('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Mc=function(){function e(t,n,r){var i=this;u(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return(0,s.Z)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(lc("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hc(e)}}]),e}(),Tc=function(){function e(t){u(this,e),this.accessToken=t}return(0,s.Z)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Tc.OWNER="owner";var Pc="5",Oc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rc="ac",Fc="websocket",Nc="long_polling",Ic=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];u(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ec.get("host:"+t)||this._host}return(0,s.Z)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ec.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function Bc(e,t,n){var r;if(rt("string"===typeof t,"typeof type must == string"),rt("object"===typeof n,"typeof params must == object"),t===Fc)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Nc)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return wc(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Lc=function(){function e(){u(this,e),this.counters_={}}return(0,s.Z)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ot(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return ft(this.counters_)}}]),e}(),zc={},Uc={};function jc(e){var t=e.toString();return zc[t]||(zc[t]=new Lc),zc[t]}var Wc=function(){function e(t){u(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return(0,s.Z)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Sc((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Zc="start",Vc=function(){function e(t,n,r,i,a,o,s){var l=this;u(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cc(t),this.stats_=jc(n),this.urlFn=function(e){return l.appCheckToken&&(e[Rc]=l.appCheckToken),Bc(n,Nc,e)}}return(0,s.Z)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Wc(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Et()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Hc((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Zc)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Zc]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Pc,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[Rc]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Oc.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Tt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=st(t),r=xc(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Et()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Tt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Et()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Hc=function(){function e(t,n,r,i){if(u(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Et())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=rc(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(pW){lc("frame writing exception"),pW.stack&&lc(pW.stack),lc(pW)}}}return(0,s.Z)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Et()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){lc("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(pW){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lc("No IE domain setting required")}catch(pW){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Gc=null;"undefined"!==typeof MozWebSocket?Gc=MozWebSocket:"undefined"!==typeof WebSocket&&(Gc=WebSocket);var qc=function(){function e(t,n,r,i,a,o,s){u(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cc(this.connId),this.stats_=jc(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return(0,s.Z)(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ec.set("previous_websocket_failure",!0);try{var r;if(Et()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Pc,"/").concat($l,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Gc(this.connURL,[],r)}catch(pW){this.log_("Error instantiating WebSocket.");var u=pW.message||pW.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){ec.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Mt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(rt(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Tt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=xc(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(pW){this.log_("Exception thrown from WebSocket.send():",pW.message||pW.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Pc,!Et()&&"undefined"!==typeof location&&location.hostname&&Oc.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[Rc]=r),i&&(a.p=i),Bc(e,Fc,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Gc&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return ec.isInMemoryStorage||!0===ec.get("previous_websocket_failure")}}]),e}();qc.responsesRequiredToBeHealthy=2,qc.healthyTimeout=3e4;var Yc=function(){function e(t){u(this,e),this.initTransports_(t)}return(0,s.Z)(e,[{key:"initTransports_",value:function(t){var n=qc&&qc.isAvailable(),r=n&&!qc.previouslyFailed();if(t.webSocketOnly&&(n||hc("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[qc];else{var i,a=this.transports_=[],o=E(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[Vc,qc]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Yc.globalTransportInitialized_=!1;var Xc=function(){function e(t,n,r,i,a,o,s,l,c,f){u(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cc("c:"+this.id+":"),this.transportManager_=new Yc(n),this.log_("Connection created"),this.start_()}return(0,s.Z)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ac((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=bc("t",e),n=bc("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=bc("t",e),n=bc("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=bc("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?fc("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fc("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Pc!==n&&hc("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ac((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ac((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ec.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),$c=function(){function e(){u(this,e)}return(0,s.Z)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Kc=function(){function e(t){u(this,e),this.allowedEvents_=t,this.listeners_={},rt(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return(0,s.Z)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=(0,o.Z)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){rt(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Jc=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||_t()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,s.Z)(n,[{key:"getInitialEvent",value:function(e){return rt("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Kc),Qc=32,ef=768,tf=function(){function e(t,n){if(u(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return(0,s.Z)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function nf(){return new tf("")}function rf(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function af(e){return e.pieces_.length-e.pieceNum_}function of(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new tf(e.pieces_,t)}function uf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function sf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function lf(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new tf(t,0)}function cf(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof tf)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new tf(n,0)}function ff(e){return e.pieceNum_>=e.pieces_.length}function df(e,t){var n=rf(e),r=rf(t);if(null===n)return t;if(n===r)return df(of(e),of(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function hf(e,t){for(var n=sf(e,0),r=sf(t,0),i=0;i<n.length&&i<r.length;i++){var a=gc(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function pf(e,t){if(af(e)!==af(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vf(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(af(e)>af(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var mf=(0,s.Z)((function e(t,n){u(this,e),this.errorPrefix_=n,this.parts_=sf(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ht(this.parts_[r]);gf(this)}));function gf(e){if(e.byteLength_>ef)throw new Error(e.errorPrefix_+"has a key path longer than "+ef+" bytes ("+e.byteLength_+").");if(e.parts_.length>Qc)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Qc+") or object contains a cycle "+yf(e))}function yf(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var bf=function(e){c(n,e);var t=v(n);function n(){var e,r,i;return u(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return(0,s.Z)(n,[{key:"getInitialEvent",value:function(e){return rt("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Kc),_f=1e3,xf=function(e){c(n,e);var t=v(n);function n(e,r,i,a,o,s,l,c){var f;if(u(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=l,f.authOverride_=c,f.id=n.nextPersistentConnectionId_++,f.log_=cc("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=_f,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,c&&!Et())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return bf.getInstance().on("visible",f.onVisible_,(0,p.Z)(f)),-1===e.host.indexOf("fblocal")&&Jc.getInstance().on("online",f.onOnline_,(0,p.Z)(f)),f}return(0,s.Z)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Tt(i)),rt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new yt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),rt(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var u=o.d,s=o.s;n.warnOnListenWarnings_(u,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Pt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Pt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),rt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Tt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):fc("Unrecognized action received from server: "+Tt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;rt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_f),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Je($e().mark((function e(){var t,r,i,o,u,s,l,c,f,d,h,p,v,m,g=this;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,u=this.lastSessionId,s=!1,l=null,c=function(){l?l.close():(s=!0,i())},f=function(e){rt(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:h=e.sent,p=(0,a.Z)(h,2),v=p[0],m=p[1],s?lc("getToken() completed but was canceled"):(lc("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,l=new Xc(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){hc(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),u)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&hc(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){lc("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){lc("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ft(this.interruptReasons_)&&(this.reconnectDelay_=_f,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return _c(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new tf(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){lc("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){lc("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=E(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=E(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Et()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+$l.replace(/\./g,"-")]=1,_t()?e["framework.cordova"]=1:wt()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Jc.getInstance().currentlyOnline();return Ft(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ot(e,"w")){var n=Rt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();hc("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}($c);xf.nextPersistentConnectionId_=0,xf.nextConnectionId_=0;var wf,Ef=function(){function e(t,n){u(this,e),this.name=t,this.node=n}return(0,s.Z)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Cf=function(){function e(){u(this,e)}return(0,s.Z)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ef(vc,e),r=new Ef(vc,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ef.MIN}}]),e}(),kf=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"compare",value:function(e,t){return gc(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw it("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ef.MIN}},{key:"maxPost",value:function(){return new Ef(mc,wf)}},{key:"makePost",value:function(e,t){return rt("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ef(e,wf)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return wf},set:function(e){wf=e}}]),n}(Cf),Sf=new kf,Af=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;u(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return(0,s.Z)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Df=function(){function e(t,n,r,i,a){u(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Pf.EMPTY_NODE,this.right=null!=a?a:Pf.EMPTY_NODE}return(0,s.Z)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Pf.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Pf.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Df.RED=!0,Df.BLACK=!1;var Mf,Tf=function(){function e(){u(this,e)}return(0,s.Z)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Df(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Pf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;u(this,e),this.comparator_=t,this.root_=n}return(0,s.Z)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Df.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Df.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Af(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Af(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Af(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Af(this.root_,null,this.comparator_,!0,e)}}]),e}();function Of(e,t){return gc(e.name,t.name)}function Rf(e,t){return gc(e,t)}Pf.EMPTY_NODE=new Tf;var Ff,Nf,If,Bf=function(e){return"number"===typeof e?"number:"+Ec(e):"string:"+e},Lf=function(e){if(e.isLeafNode()){var t=e.val();rt("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ot(t,".sv"),"Priority must be a string or number.")}else rt(e===Mf||e.isEmpty(),"priority of unexpected type.");rt(e===Mf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;u(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,rt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Lf(this.priorityNode_)}return(0,s.Z)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return ff(t)?this:".priority"===rf(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=rf(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(rt(".priority"!==r||1===af(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(of(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bf(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Ec(this.value_):this.value_,this.lazyHash_=ic(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(rt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return rt(i>=0,"Unknown leaf type: "+n),rt(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Ff},set:function(e){Ff=e}}]),e}();zf.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Uf,jf,Wf=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?gc(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ef.MIN}},{key:"maxPost",value:function(){return new Ef(mc,new zf("[PRIORITY-POST]",If))}},{key:"makePost",value:function(e,t){var n=Nf(e);return new Ef(t,new zf("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Cf),Zf=new Wf,Vf=Math.log(2),Hf=function(){function e(t){u(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Vf,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return(0,s.Z)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),Gf=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new Df(o,a.node,Df.BLACK,null,null);var s=parseInt(u/2,10)+r,l=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new Df(o,a.node,Df.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,u=function(t,r){var a=o-t,u=o;o-=t;var l=i(a+1,u),c=e[a],f=n?n(c):c;s(new Df(f,c.node,r,null,l))},s=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?u(f,Df.BLACK):(u(f,Df.BLACK),u(f,Df.RED))}return a}(new Hf(e.length));return new Pf(r||t,a)},qf={},Yf=function(){function e(t,n){u(this,e),this.indexes_=t,this.indexSet_=n}return(0,s.Z)(e,[{key:"get",value:function(e){var t=Rt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pf?t:null}},{key:"hasIndex",value:function(e){return Ot(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){rt(t!==Sf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ef.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?Gf(i,t.getCompare()):qf;var s=t.toString(),l=Object.assign({},this.indexSet_);l[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this,i=Nt(this.indexes_,(function(e,i){var a=Rt(r.indexSet_,i);if(rt(a,"Missing index implementation for "+i),e===qf){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Ef.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),Gf(o,a.getCompare())}return qf}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Ef(t.name,l))),c.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Nt(this.indexes_,(function(e){if(e===qf)return e;var r=n.get(t.name);return r?e.remove(new Ef(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return rt(qf&&Zf,"ChildrenNode.ts has not been loaded"),Uf=Uf||new e({".priority":qf},{".priority":Zf})}}]),e}(),Xf=function(){function e(t,n,r){u(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Lf(this.priorityNode_),this.children_.isEmpty()&&rt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return(0,s.Z)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||jf}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?jf:t}},{key:"getChild",value:function(e){var t=rf(e);return null===t?this:this.getImmediateChild(t).getChild(of(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(rt(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ef(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?jf:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=rf(e);if(null===n)return t;rt(".priority"!==rf(e)||1===af(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(of(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Zf,(function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Bf(this.getPriority().val())+":"),this.forEachChild(Zf,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ic(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ef(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ef(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ef(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ef.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ef.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$f?-1:0}},{key:"withIndex",value:function(t){if(t===Sf||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Sf||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Zf),r=t.getIterator(Zf),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Sf?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return jf||(jf=new e(new Pf(Rf),null,Yf.Default))}}]),e}();Xf.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var $f=new(function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.call(this,new Pf(Rf),Xf.EMPTY_NODE,Yf.Default)}return(0,s.Z)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Xf.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Xf));Object.defineProperties(Ef,{MIN:{value:new Ef(vc,Xf.EMPTY_NODE)},MAX:{value:new Ef(mc,$f)}}),kf.__EMPTY_NODE=Xf.EMPTY_NODE,zf.__childrenNodeConstructor=Xf,Mf=$f,function(e){If=e}($f);var Kf=!0;function Jf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Xf.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),rt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new zf(e,Jf(t));if(e instanceof Array||!Kf){var n=Xf.EMPTY_NODE;return wc(e,(function(t,r){if(Ot(e,t)&&"."!==t.substring(0,1)){var i=Jf(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Jf(t))}var r=[],i=!1;if(wc(e,(function(e,t){if("."!==e.substring(0,1)){var n=Jf(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ef(e,n)))}})),0===r.length)return Xf.EMPTY_NODE;var a=Gf(r,Of,(function(e){return e.name}),Rf);if(i){var o=Gf(r,Zf.getCompare());return new Xf(a,Jf(t),new Yf({".priority":o},{".priority":Zf}))}return new Xf(a,Jf(t),Yf.Default)}!function(e){Nf=e}(Jf);var Qf=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this)).indexPath_=e,rt(!ff(e)&&".priority"!==rf(e),"Can't create PathIndex with empty path or .priority key"),r}return(0,s.Z)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?gc(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Jf(e),r=Xf.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ef(t,r)}},{key:"maxPost",value:function(){var e=Xf.EMPTY_NODE.updateChild(this.indexPath_,$f);return new Ef(mc,e)}},{key:"toString",value:function(){return sf(this.indexPath_,0).join("/")}}]),n}(Cf),ed=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?gc(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ef.MIN}},{key:"maxPost",value:function(){return Ef.MAX}},{key:"makePost",value:function(e,t){var n=Jf(e);return new Ef(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Cf),td=new ed;function nd(e){return{type:"value",snapshotNode:e}}function rd(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function id(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ad(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var od=function(){function e(t){u(this,e),this.index_=t}return(0,s.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){rt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(id(t,o)):rt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(rd(t,n)):a.trackChildChange(ad(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Zf,(function(e,r){t.hasChild(e)||n.trackChildChange(id(e,r))})),t.isLeafNode()||t.forEachChild(Zf,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ad(t,r,i))}else n.trackChildChange(rd(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Xf.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),ud=function(){function e(t){u(this,e),this.indexedFilter_=new od(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return(0,s.Z)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ef(t,n))||(n=Xf.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Xf.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Xf.EMPTY_NODE);var i=this;return t.forEachChild(Zf,(function(e,t){i.matches(new Ef(e,t))||(r=r.updateImmediateChild(e,Xf.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),sd=function(){function e(t){var n=this;u(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ud(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return(0,s.Z)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ef(t,n))||(n=Xf.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Xf.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Xf.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var u;r=(r=t.withIndex(this.index_)).updatePriority(Xf.EMPTY_NODE),u=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var s=0;u.hasNext();){var l=u.getNext();s<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?s++:r=r.updateImmediateChild(l.name,Xf.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var u=e;rt(u.numChildren()===this.limit_,"");var s=new Ef(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var h=null==d?1:a(d,s);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(ad(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(id(t,f));var p=u.updateImmediateChild(t,Xf.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(rd(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?e:c&&a(l,s)>=0?(null!=i&&(i.trackChildChange(id(l.name,l.node)),i.trackChildChange(rd(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Xf.EMPTY_NODE)):e}}]),e}(),ld=function(){function e(){u(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zf}return(0,s.Z)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return rt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return rt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vc}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return rt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return rt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mc}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return rt(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Zf}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function cd(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function fd(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function dd(e,t){var n=e.copy();return n.index_=t,n}function hd(e){var t,n={};if(e.isDefault())return n;if(e.index_===Zf?t="$priority":e.index_===td?t="$value":e.index_===Sf?t="$key":(rt(e.index_ instanceof Qf,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Tt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Tt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Tt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Tt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Tt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function pd(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Zf&&(t.i=e.index_.toString()),t}var vd=function(e){c(n,e);var t=v(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=cc("p:rest:"),o.listens_={},o}return(0,s.Z)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=n.getListenId_(e,r),s={};this.listens_[u]=s;var l=hd(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Rt(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=hd(e._queryParams),r=e._path.toString(),i=new yt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Lt(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Mt(c.responseText)}catch(pW){hc("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&hc("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(rt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}($c),md=function(){function e(){u(this,e),this.rootNode_=Xf.EMPTY_NODE}return(0,s.Z)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function gd(){return{value:null,children:new Map}}function yd(e,t,n){if(ff(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=rf(t);e.children.has(r)||e.children.set(r,gd()),yd(e.children.get(r),t=of(t),n)}}function bd(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){bd(r,new tf(t.toString()+"/"+e),n)}))}var _d,xd=function(){function e(t){u(this,e),this.collection_=t,this.last_=null}return(0,s.Z)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&wc(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),wd=function(){function e(t,n){u(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new xd(t);var r=1e4+2e4*Math.random();Ac(this.reportStats_.bind(this),Math.floor(r))}return(0,s.Z)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;wc(t,(function(t,i){i>0&&Ot(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Ac(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ed(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_d||(_d={}));var Cd,kd=function(){function e(t,n,r){u(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=_d.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return(0,s.Z)(e,[{key:"operationForChild",value:function(t){if(ff(this.path)){if(null!=this.affectedTree.value)return rt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new tf(t));return new e(nf(),n,this.revert)}return rt(rf(this.path)===t,"operationForChild called for unrelated child."),new e(of(this.path),this.affectedTree,this.revert)}}]),e}(),Sd=function(){function e(t,n){u(this,e),this.source=t,this.path=n,this.type=_d.LISTEN_COMPLETE}return(0,s.Z)(e,[{key:"operationForChild",value:function(t){return ff(this.path)?new e(this.source,nf()):new e(this.source,of(this.path))}}]),e}(),Ad=function(){function e(t,n,r){u(this,e),this.source=t,this.path=n,this.snap=r,this.type=_d.OVERWRITE}return(0,s.Z)(e,[{key:"operationForChild",value:function(t){return ff(this.path)?new e(this.source,nf(),this.snap.getImmediateChild(t)):new e(this.source,of(this.path),this.snap)}}]),e}(),Dd=function(){function e(t,n,r){u(this,e),this.source=t,this.path=n,this.children=r,this.type=_d.MERGE}return(0,s.Z)(e,[{key:"operationForChild",value:function(t){if(ff(this.path)){var n=this.children.subtree(new tf(t));return n.isEmpty()?null:n.value?new Ad(this.source,nf(),n.value):new e(this.source,nf(),n)}return rt(rf(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,of(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Md=function(){function e(t,n,r){u(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return(0,s.Z)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(ff(e))return this.isFullyInitialized()&&!this.filtered_;var t=rf(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Td=(0,s.Z)((function e(t){u(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Pd(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw it("Should only compare child_ events.");var r=new Ef(t.childName,t.snapshotNode),i=new Ef(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Od(e,t){return{eventCache:e,serverCache:t}}function Rd(e,t,n,r){return Od(new Md(t,n,r),e.serverCache)}function Fd(e,t,n,r){return Od(e.eventCache,new Md(t,n,r))}function Nd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Id(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Bd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Cd||(Cd=new Pf(yc)),Cd);u(this,e),this.value=t,this.children=n}return(0,s.Z)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:nf(),value:this.value};if(ff(e))return null;var n=rf(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(of(e),t);return null!=i?{path:cf(new tf(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(ff(t))return this;var n=rf(t),r=this.children.get(n);return null!==r?r.subtree(of(t)):new e(null)}},{key:"set",value:function(t,n){if(ff(t))return new e(n,this.children);var r=rf(t),i=(this.children.get(r)||new e(null)).set(of(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(ff(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=rf(t),r=this.children.get(n);if(r){var i,a=r.remove(of(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(ff(e))return this.value;var t=rf(e),n=this.children.get(t);return n?n.get(of(e)):null}},{key:"setTree",value:function(t,n){if(ff(t))return n;var r,i=rf(t),a=(this.children.get(i)||new e(null)).setTree(of(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(nf(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(cf(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,nf(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(ff(e))return null;var i=rf(e),a=this.children.get(i);return a?a.findOnPath_(of(e),cf(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,nf(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(ff(t))return this;this.value&&r(n,this.value);var i=rf(t),a=this.children.get(i);return a?a.foreachOnPath_(of(t),cf(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(nf(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(cf(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return wc(t,(function(e,t){n=n.set(new tf(e),t)})),n}}]),e}(),Ld=function(){function e(t){u(this,e),this.writeTree_=t}return(0,s.Z)(e,null,[{key:"empty",value:function(){return new e(new Bd(null))}}]),e}();function zd(e,t,n){if(ff(t))return new Ld(new Bd(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=df(i,t);return a=a.updateChild(o,n),new Ld(e.writeTree_.set(i,a))}var u=new Bd(n),s=e.writeTree_.setTree(t,u);return new Ld(s)}function Ud(e,t,n){var r=e;return wc(n,(function(e,n){r=zd(r,cf(t,e),n)})),r}function jd(e,t){if(ff(t))return Ld.empty();var n=e.writeTree_.setTree(t,new Bd(null));return new Ld(n)}function Wd(e,t){return null!=Zd(e,t)}function Zd(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(df(n.path,t)):null}function Vd(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Zf,(function(e,n){t.push(new Ef(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ef(e,n.value))})),t}function Hd(e,t){if(ff(t))return e;var n=Zd(e,t);return new Ld(null!=n?new Bd(n):e.writeTree_.subtree(t))}function Gd(e){return e.writeTree_.isEmpty()}function qd(e,t){return Yd(nf(),e.writeTree_,t)}function Yd(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(rt(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Yd(cf(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(cf(e,".priority"),r)),n}function Xd(e,t){return sh(t,e)}function $d(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));rt(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&Kd(u,r.path)?i=!1:vf(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Qd(e.allWrites,Jd,nf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=jd(e.visibleWrites,r.path):wc(r.children,(function(t){e.visibleWrites=jd(e.visibleWrites,cf(r.path,t))}));return!0}return!1}function Kd(e,t){if(e.snap)return vf(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&vf(cf(e.path,n),t))return!0;return!1}function Jd(e){return e.visible}function Qd(e,t,n){for(var r=Ld.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)vf(n,o)?r=zd(r,u=df(n,o),a.snap):vf(o,n)&&(u=df(o,n),r=zd(r,nf(),a.snap.getChild(u)));else{if(!a.children)throw it("WriteRecord should have .snap or .children");if(vf(n,o))r=Ud(r,u=df(n,o),a.children);else if(vf(o,n))if(ff(u=df(o,n)))r=Ud(r,nf(),a.children);else{var s=Rt(a.children,rf(u));if(s){var l=s.getChild(of(u));r=zd(r,nf(),l)}}}}}return r}function eh(e,t,n,r,i){if(r||i){var a=Hd(e.visibleWrites,t);if(!i&&Gd(a))return n;if(i||null!=n||Wd(a,nf())){var o=Qd(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(vf(e.path,t)||vf(t,e.path))}),t);return qd(o,n||Xf.EMPTY_NODE)}return null}var u=Zd(e.visibleWrites,t);if(null!=u)return u;var s=Hd(e.visibleWrites,t);return Gd(s)?n:null!=n||Wd(s,nf())?qd(s,n||Xf.EMPTY_NODE):null}function th(e,t,n,r){return eh(e.writeTree,e.treePath,t,n,r)}function nh(e,t){return function(e,t,n){var r=Xf.EMPTY_NODE,i=Zd(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Zf,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Hd(e.visibleWrites,t);return n.forEachChild(Zf,(function(e,t){var n=qd(Hd(a,new tf(e)),t);r=r.updateImmediateChild(e,n)})),Vd(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Vd(Hd(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function rh(e,t,n,r){return function(e,t,n,r,i){rt(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=cf(t,n);if(Wd(e.visibleWrites,a))return null;var o=Hd(e.visibleWrites,a);return Gd(o)?i.getChild(n):qd(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ih(e,t){return function(e,t){return Zd(e.visibleWrites,t)}(e.writeTree,cf(e.treePath,t))}function ah(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=Hd(e.visibleWrites,t),l=Zd(s,nf());if(null!=l)u=l;else{if(null==n)return[];u=qd(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var c=[],f=o.getCompare(),d=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),h=d.getNext();h&&c.length<i;)0!==f(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function oh(e,t,n){return function(e,t,n,r){var i=cf(t,n),a=Zd(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?qd(Hd(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function uh(e,t){return sh(cf(e.treePath,t),e.writeTree)}function sh(e,t){return{treePath:e,writeTree:t}}var lh=function(){function e(){u(this,e),this.changeMap=new Map}return(0,s.Z)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;rt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),rt(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ad(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,id(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,rd(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw it("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ad(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ch=new(function(){function e(){u(this,e)}return(0,s.Z)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),fh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return(0,s.Z)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Md(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return oh(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Id(this.viewCache_),i=ah(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function dh(e,t,n,r,i){var a,o,u=new lh;if(n.type===_d.OVERWRITE){var s=n;s.source.fromUser?a=vh(e,t,s.path,s.snap,r,i,u):(rt(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!ff(s.path),a=ph(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===_d.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach((function(r,s){var l=cf(n,r);mh(t,rf(l))&&(u=vh(e,u,l,s,i,a,o))})),r.foreach((function(r,s){var l=cf(n,r);mh(t,rf(l))||(u=vh(e,u,l,s,i,a,o))})),u}(e,t,l.path,l.children,r,i,u):(rt(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=yh(e,t,l.path,l.children,r,i,o,u))}else if(n.type===_d.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=ih(r,n))return t;var u,s=new fh(r,t,i),l=t.eventCache.getNode();if(ff(n)||".priority"===rf(n)){var c;if(t.serverCache.isFullyInitialized())c=th(r,Id(t));else{var f=t.serverCache.getNode();rt(f instanceof Xf,"serverChildren would be complete if leaf node"),c=nh(r,f)}u=e.filter.updateFullNode(l,c,a)}else{var d=rf(n),h=oh(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),(u=null!=h?e.filter.updateChild(l,d,h,of(n),s,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,Xf.EMPTY_NODE,of(n),s,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=th(r,Id(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=ih(r,nf()),Rd(t,u,o,e.filter.filtersNodes())}(e,t,c.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=ih(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(ff(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return ph(e,t,n,s.getNode().getChild(n),i,a,u,o);if(ff(n)){var l=new Bd(null);return s.getNode().forEachChild(Sf,(function(e,t){l=l.set(new tf(e),t)})),yh(e,t,n,l,i,a,u,o)}return t}var c=new Bd(null);return r.foreach((function(e,t){var r=cf(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))})),yh(e,t,n,c,i,a,u,o)}(e,t,c.path,c.affectedTree,r,i,u)}else{if(n.type!==_d.LISTEN_COMPLETE)throw it("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Fd(t,a.getNode(),a.isFullyInitialized()||ff(n),a.isFiltered());return hh(e,o,n,r,ch,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Nd(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(nd(Nd(t)))}}(t,a,f),{viewCache:a,changes:f}}function hh(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=ih(r,n))return t;if(ff(n))if(rt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Id(t),c=nh(r,l instanceof Xf?l:Xf.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=th(r,Id(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=rf(n);if(".priority"===d){rt(1===af(n),"Can't have a priority with additional path components");var h=s.getNode(),p=rh(r,n,h,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):s.getNode()}else{var v,m=of(n);if(s.isCompleteForChild(d)){u=t.serverCache.getNode();var g=rh(r,n,s.getNode(),u);v=null!=g?s.getNode().getImmediateChild(d).updateChild(m,g):s.getNode().getImmediateChild(d)}else v=oh(r,d,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),d,v,m,i,a):s.getNode()}}return Rd(t,o,s.isFullyInitialized()||ff(n),e.filter.filtersNodes())}function ph(e,t,n,r,i,a,o,u){var s,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(ff(n))s=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);s=c.updateFullNode(l.getNode(),f,null)}else{var d=rf(n);if(!l.isCompleteForPath(n)&&af(n)>1)return t;var h=of(n),p=l.getNode().getImmediateChild(d).updateChild(h,r);s=".priority"===d?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),d,p,h,ch,null)}var v=Fd(t,s,l.isFullyInitialized()||ff(n),c.filtersNodes());return hh(e,v,n,i,new fh(i,v,a),u)}function vh(e,t,n,r,i,a,o){var u,s,l=t.eventCache,c=new fh(i,t,a);if(ff(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Rd(t,s,!0,e.filter.filtersNodes());else{var f=rf(n);if(".priority"===f)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=Rd(t,s,l.isFullyInitialized(),l.isFiltered());else{var d,h=of(n),p=l.getNode().getImmediateChild(f);if(ff(h))d=r;else{var v=c.getCompleteChild(f);d=null!=v?".priority"===uf(h)&&v.getChild(lf(h)).isEmpty()?v:v.updateChild(h,r):Xf.EMPTY_NODE}if(p.equals(d))u=t;else u=Rd(t,e.filter.updateChild(l.getNode(),f,d,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function mh(e,t){return e.eventCache.isCompleteForChild(t)}function gh(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function yh(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,l=t;s=ff(n)?r:new Bd(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var s=gh(0,t.serverCache.getNode().getImmediateChild(n),r);l=ph(e,l,new tf(n),s,i,a,o,u)}})),s.children.inorderTraversal((function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!s){var f=gh(0,t.serverCache.getNode().getImmediateChild(n),r);l=ph(e,l,new tf(n),f,i,a,o,u)}})),l}var bh,_h=function(){function e(t,n){u(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new od(i.getIndex()),o=(r=i).loadsAllData()?new od(r.getIndex()):r.hasLimit()?new sd(r):new ud(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,l=n.eventCache,c=a.updateFullNode(Xf.EMPTY_NODE,s.getNode(),null),f=o.updateFullNode(Xf.EMPTY_NODE,l.getNode(),null),d=new Md(c,s.isFullyInitialized(),a.filtersNodes()),h=new Md(f,l.isFullyInitialized(),o.filtersNodes());this.viewCache_=Od(h,d),this.eventGenerator_=new Td(this.query_)}return(0,s.Z)(e,[{key:"query",get:function(){return this.query_}}]),e}();function xh(e,t){var n=Id(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ff(t)&&!n.getImmediateChild(rf(t)).isEmpty())?n.getChild(t):null}function wh(e){return 0===e.eventRegistrations_.length}function Eh(e,t,n){var r=[];if(n){rt(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var u=e.eventRegistrations_[o];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ch(e,t,n,r){t.type===_d.MERGE&&null!==t.source.queryId&&(rt(Id(e.viewCache_),"We should always have a full cache before handling merges"),rt(Nd(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=dh(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,rt(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),rt(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),rt(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,kh(e,u.changes,u.viewCache.eventCache.getNode(),null)}function kh(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Pd(e,i,"child_removed",t,r,n),Pd(e,i,"child_added",t,r,n),Pd(e,i,"child_moved",a,r,n),Pd(e,i,"child_changed",t,r,n),Pd(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Sh,Ah=(0,s.Z)((function e(){u(this,e),this.views=new Map}));function Dh(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return rt(null!=a,"SyncTree gave us an op for an invalid query."),Ch(a,t,n,r)}var o,u=[],s=E(e.views.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u=u.concat(Ch(l,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return u}function Mh(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var u=th(n,i?r:null),s=!1;u?s=!0:r instanceof Xf?(u=nh(n,r),s=!1):(u=Xf.EMPTY_NODE,s=!1);var l=Od(new Md(u,s,!1),new Md(r,i,!1));return new _h(t,l)}return o}function Th(e,t,n,r,i,a){var o=Mh(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Zf,(function(e,t){r.push(rd(e,t))})),n.isFullyInitialized()&&r.push(nd(n.getNode())),kh(e,r,n.getNode(),t)}(o,n)}function Ph(e,t,n,r){var i=t._queryIdentifier,o=[],u=[],s=Ih(e);if("default"===i){var l,c=E(e.views.entries());try{for(c.s();!(l=c.n()).done;){var f=(0,a.Z)(l.value,2),d=f[0],h=f[1];u=u.concat(Eh(h,n,r)),wh(h)&&(e.views.delete(d),h.query._queryParams.loadsAllData()||o.push(h.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(i);p&&(u=u.concat(Eh(p,n,r)),wh(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||o.push(p.query)))}return s&&!Ih(e)&&o.push(new(rt(bh,"Reference.ts has not been loaded"),bh)(t._repo,t._path)),{removed:o,events:u}}function Oh(e){var t,n=[],r=E(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Rh(e,t){var n,r=null,i=E(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||xh(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Fh(e,t){if(t._queryParams.loadsAllData())return Bh(e);var n=t._queryIdentifier;return e.views.get(n)}function Nh(e,t){return null!=Fh(e,t)}function Ih(e){return null!=Bh(e)}function Bh(e){var t,n=E(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Lh=1,zh=(0,s.Z)((function e(t){u(this,e),this.listenProvider_=t,this.syncPointTree_=new Bd(null),this.pendingWriteTree_={visibleWrites:Ld.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Uh(e,t,n,r,i){return function(e,t,n,r,i){rt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=zd(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Xh(e,new Ad({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function jh(e,t,n,r){!function(e,t,n,r){rt(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Ud(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Bd.fromObject(n);return Xh(e,new Dd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Wh(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if($d(e.pendingWriteTree_,t)){var i=new Bd(null);return null!=r.snap?i=i.set(nf(),!0):wc(r.children,(function(e){i=i.set(new tf(e),!0)})),Xh(e,new kd(r.path,i,n))}return[]}function Zh(e,t,n){return Xh(e,new Ad({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Vh(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),u=[];if(o&&("default"===t._queryIdentifier||Nh(o,t))){var s=Ph(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=s.removed;if(u=s.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Ih(t)}));if(c&&!f){var d=e.syncPointTree_.subtree(a);if(!d.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&Ih(t))return[Bh(t)];var r=[];return t&&(r=Oh(t)),wc(n,(function(e,t){r=r.concat(t)})),r}))}(d),p=0;p<h.length;++p){var v=h[p],m=v.query,g=Jh(e,v);e.listenProvider_.startListening(ip(m),Qh(e,m),g.hashFn,g.onComplete)}}if(!f&&l.length>0&&!r)if(c){e.listenProvider_.stopListening(ip(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(ep(t));e.listenProvider_.stopListening(ip(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ep(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return u}function Hh(e,t,n,r){var i=tp(e,r);if(null!=i){var a=np(i),o=a.path,u=a.queryId,s=df(o,t);return rp(e,o,new Ad(Ed(u),s,n))}return[]}function Gh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=df(e,i);a=a||Rh(t,n),o=o||Ih(t)}));var u,s=e.syncPointTree_.get(i);(s?(o=o||Ih(s),a=a||Rh(s,nf())):(s=new Ah,e.syncPointTree_=e.syncPointTree_.set(i,s)),null!=a)?u=!0:(u=!1,a=Xf.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Rh(t,nf());n&&(a=a.updateImmediateChild(e,n))})));var l=Nh(s,t);if(!l&&!t._queryParams.loadsAllData()){var c=ep(t);rt(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=Lh++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var d=Th(s,t,n,Xd(e.pendingWriteTree_,i),a,u);if(!l&&!o&&!r){var h=Fh(s,t);d=d.concat(function(e,t,n){var r=t._path,i=Qh(e,t),a=Jh(e,n),o=e.listenProvider_.startListening(ip(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)rt(!Ih(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var s=u.fold((function(e,t,n){if(!ff(e)&&t&&Ih(t))return[Bh(t).query];var r=[];return t&&(r=r.concat(Oh(t).map((function(e){return e.query})))),wc(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<s.length;++l){var c=s[l];e.listenProvider_.stopListening(ip(c),Qh(e,c))}return o}(e,t,h))}return d}function qh(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Rh(n,df(e,t));if(r)return r}));return eh(r,t,i,n,!0)}function Yh(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=df(e,n);r=r||Rh(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Rh(i,nf()):(i=new Ah,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new Md(r,!0,!1):null;return function(e){return Nd(e.viewCache_)}(Mh(i,t,Xd(e.pendingWriteTree_,t._path),a?o.getNode():Xf.EMPTY_NODE,a))}function Xh(e,t){return $h(t,e.syncPointTree_,null,Xd(e.pendingWriteTree_,nf()))}function $h(e,t,n,r){if(ff(e.path))return Kh(e,t,n,r);var i=t.get(nf());null==n&&null!=i&&(n=Rh(i,nf()));var a=[],o=rf(e.path),u=e.operationForChild(o),s=t.children.get(o);if(s&&u){var l=n?n.getImmediateChild(o):null,c=uh(r,o);a=a.concat($h(u,s,l,c))}return i&&(a=a.concat(Dh(i,e,r,n))),a}function Kh(e,t,n,r){var i=t.get(nf());null==n&&null!=i&&(n=Rh(i,nf()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,u=uh(r,t),s=e.operationForChild(t);s&&(a=a.concat(Kh(s,i,o,u)))})),i&&(a=a.concat(Dh(i,e,r,n))),a}function Jh(e,t){var n=t.query,r=Qh(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Xf.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=tp(e,n);if(r){var i=np(r),a=i.path,o=i.queryId,u=df(a,t);return rp(e,a,new Sd(Ed(o),u))}return[]}(e,n._path,r):function(e,t){return Xh(e,new Sd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Vh(e,n,null,i)}}}function Qh(e,t){var n=ep(t);return e.queryToTagMap.get(n)}function ep(e){return e._path.toString()+"$"+e._queryIdentifier}function tp(e,t){return e.tagToQueryMap.get(t)}function np(e){var t=e.indexOf("$");return rt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new tf(e.substr(0,t))}}function rp(e,t,n){var r=e.syncPointTree_.get(t);return rt(r,"Missing sync point for query tag that we're tracking"),Dh(r,n,Xd(e.pendingWriteTree_,t),null)}function ip(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(rt(Sh,"Reference.ts has not been loaded"),Sh)(e._repo,e._path):e}var ap=function(){function e(t){u(this,e),this.node_=t}return(0,s.Z)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),op=function(){function e(t,n){u(this,e),this.syncTree_=t,this.path_=n}return(0,s.Z)(e,[{key:"getImmediateChild",value:function(t){var n=cf(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return qh(this.syncTree_,this.path_)}}]),e}(),up=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},sp=function(e,t,n){return e&&"object"===typeof e?(rt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?lp(e[".sv"],t,n):"object"===typeof e[".sv"]?cp(e[".sv"],t):void rt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},lp=function(e,t,n){if("timestamp"===e)return n.timestamp;rt(!1,"Unexpected server value: "+e)},cp=function(e,t,n){e.hasOwnProperty("increment")||rt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&rt(!1,"Unexpected increment value: "+r);var i=t.node();if(rt(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},fp=function(e,t,n,r){return hp(t,new op(n,e),r)},dp=function(e,t,n){return hp(e,new ap(t),n)};function hp(e,t,n){var r,i=e.getPriority().val(),a=sp(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=sp(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new zf(u,Jf(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new zf(a))),s.forEachChild(Zf,(function(e,i){var a=hp(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var pp=(0,s.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};u(this,e),this.name=t,this.parent=n,this.node=r}));function vp(e,t){for(var n=t instanceof tf?t:new tf(t),r=e,i=rf(n);null!==i;){var a=Rt(r.node.children,i)||{children:{},childCount:0};r=new pp(i,r,a),i=rf(n=of(n))}return r}function mp(e){return e.node.value}function gp(e,t){e.node.value=t,wp(e)}function yp(e){return e.node.childCount>0}function bp(e,t){wc(e.node.children,(function(n,r){t(new pp(n,e,r))}))}function _p(e,t,n,r){n&&!r&&t(e),bp(e,(function(e){_p(e,t,!0,r)})),n&&r&&t(e)}function xp(e){return new tf(null===e.parent?e.name:xp(e.parent)+"/"+e.name)}function wp(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===mp(e)&&!yp(e)}(n),i=Ot(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,wp(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,wp(e))}(e.parent,e.name,e)}var Ep=/[\[\].#$\/\u0000-\u001F\u007F]/,Cp=/[\[\].#$\u0000-\u001F\u007F]/,kp=10485760,Sp=function(e){return"string"===typeof e&&0!==e.length&&!Ep.test(e)},Ap=function(e){return"string"===typeof e&&0!==e.length&&!Cp.test(e)},Dp=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!pc(e)||e&&"object"===typeof e&&Ot(e,".sv")},Mp=function(e,t,n,r){r&&void 0===t||Tp(Vt(e,"value"),t,n)},Tp=function e(t,n,r){var i=r instanceof tf?new mf(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+yf(i));if("function"===typeof n)throw new Error(t+"contains a function "+yf(i)+" with contents = "+n.toString());if(pc(n))throw new Error(t+"contains "+n.toString()+" "+yf(i));if("string"===typeof n&&n.length>kp/3&&Ht(n)>kp)throw new Error(t+"contains a string greater than "+kp+" utf8 bytes "+yf(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(wc(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Sp(n)))throw new Error(t+" contains an invalid key ("+n+") "+yf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Ht(s),gf(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ht(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+yf(i)+" in addition to actual children.")}},Pp=function(e,t,n,r){if(!r||void 0!==t){var i=Vt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];wc(t,(function(e,t){var r=new tf(e);if(Tp(i,t,cf(n,r)),".priority"===uf(r)&&!Dp(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=sf(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Sp(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(hf);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&vf(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Op=function(e,t,n,r){if((!r||void 0!==n)&&!Sp(n))throw new Error(Vt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Rp=function(e,t,n,r){if((!r||void 0!==n)&&!Ap(n))throw new Error(Vt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Fp=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rp(e,t,n,r)},Np=function(e,t){if(".info"===rf(t))throw new Error(e+" failed = Can't modify data under /.info/")},Ip=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Sp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ap(e)}(n))throw new Error(Vt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Bp=(0,s.Z)((function e(){u(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Lp(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||pf(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function zp(e,t,n){Lp(e,n),jp(e,(function(e){return pf(e,t)}))}function Up(e,t,n){Lp(e,n),jp(e,(function(e){return vf(e,t)||vf(t,e)}))}function jp(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Wp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Wp(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();oc&&lc("event: "+n.toString()),Sc(r)}}}var Zp="repo_interrupt",Vp=25,Hp=function(){function e(t,n,r,i){u(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gd(),this.transactionQueueTree_=new pp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return(0,s.Z)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Gp(e,t,n){if(e.stats_=jc(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new vd(e.repoInfo_,(function(t,n,r,i){Xp(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return $p(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(n)}catch(pW){throw new Error("Invalid authOverride provided: "+pW)}}e.persistentConnection_=new xf(e.repoInfo_,t,(function(t,n,r,i){Xp(e,t,n,r,i)}),(function(t){$p(e,t)}),(function(t){!function(e,t){wc(t,(function(t,n){Kp(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Uc[n]||(Uc[n]=t()),Uc[n]}(e.repoInfo_,(function(){return new wd(e.stats_,e.server_)})),e.infoData_=new md,e.infoSyncTree_=new zh({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Zh(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Kp(e,"connected",!1),e.serverSyncTree_=new zh({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Up(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function qp(e){var t=e.infoData_.getNode(new tf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Yp(e){return up({timestamp:qp(e)})}function Xp(e,t,n,r,i){e.dataUpdateCount++;var a=new tf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Nt(n,(function(e){return Jf(e)}));o=function(e,t,n,r){var i=tp(e,r);if(i){var a=np(i),o=a.path,u=a.queryId,s=df(o,t),l=Bd.fromObject(n);return rp(e,o,new Dd(Ed(u),s,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=Jf(n);o=Hh(e.serverSyncTree_,a,s,i)}else if(r){var l=Nt(n,(function(e){return Jf(e)}));o=function(e,t,n){var r=Bd.fromObject(n);return Xh(e,new Dd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Jf(n);o=Zh(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=ov(e,a)),Up(e.eventQueue_,f,o)}function $p(e,t){Kp(e,"connected",t),!1===t&&function(e){nv(e,"onDisconnectEvents");var t=Yp(e),n=gd();bd(e.onDisconnect_,nf(),(function(r,i){var a=fp(r,i,e.serverSyncTree_,t);yd(n,r,a)}));var r=[];bd(n,nf(),(function(t,n){r=r.concat(Zh(e.serverSyncTree_,t,n));var i=fv(e,t);ov(e,i)})),e.onDisconnect_=gd(),Up(e.eventQueue_,nf(),r)}(e)}function Kp(e,t,n){var r=new tf("/.info/"+t),i=Jf(n);e.infoData_.updateSnapshot(r,i);var a=Zh(e.infoSyncTree_,r,i);Up(e.eventQueue_,r,a)}function Jp(e){return e.nextWriteId_++}function Qp(e,t,n,r,i){nv(e,"set",{path:t.toString(),value:n,priority:r});var a=Yp(e),o=Jf(n,r),u=qh(e.serverSyncTree_,t),s=dp(o,u,a),l=Jp(e),c=Uh(e.serverSyncTree_,t,s,l,!0);Lp(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||hc("set at "+t+" failed: "+n);var o=Wh(e.serverSyncTree_,l,!a);Up(e.eventQueue_,t,o),rv(e,i,n,r)}));var f=fv(e,t);ov(e,f),Up(e.eventQueue_,f,[])}function ev(e,t,n){var r;r=".info"===rf(t._path)?Vh(e.infoSyncTree_,t,n):Vh(e.serverSyncTree_,t,n),zp(e.eventQueue_,t._path,r)}function tv(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Zp)}function nv(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];lc.apply(void 0,[t].concat(r))}function rv(e,t,n,r){t&&Sc((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function iv(e,t,n){return qh(e.serverSyncTree_,t,n)||Xf.EMPTY_NODE}function av(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||cv(e,t),mp(t)){var n=sv(e,t);rt(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=iv(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];rt(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var l=df(t,s.path);a=a.updateChild(l,s.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){nv(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Wh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},u=0;u<n.length;u++)o(u);cv(e,vp(e.transactionQueueTree_,t)),av(e,e.transactionQueueTree_),Up(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)Sc(a[s])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{hc("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}ov(e,t)}}),o)}(e,xp(t),n)}else yp(t)&&bp(t,(function(t){av(e,t)}))}function ov(e,t){var n=uv(e,t),r=xp(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),u=function(a){var u,s,l=t[a],c=df(n,l.path),f=!1;if(rt(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(Wh(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Vp)f=!0,u="maxretry",i=i.concat(Wh(e.serverSyncTree_,l.currentWriteId,!0));else{var d=iv(e,l.path,o);l.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){Tp("transaction failed: Data returned ",h,l.path);var p=Jf(h);"object"===typeof h&&null!=h&&Ot(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=l.currentWriteId,m=Yp(e),g=dp(p,d,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=Jp(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Uh(e.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally))).concat(Wh(e.serverSyncTree_,v,!0))}else f=!0,u="nodata",i=i.concat(Wh(e.serverSyncTree_,l.currentWriteId,!0))}Up(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===u?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(u),!1,null)}))))},s=0;s<t.length;s++)u(s);cv(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Sc(r[l]);av(e,e.transactionQueueTree_)}(e,sv(e,n),r),r}function uv(e,t){var n,r=e.transactionQueueTree_;for(n=rf(t);null!==n&&void 0===mp(r);)r=vp(r,n),n=rf(t=of(t));return r}function sv(e,t){var n=[];return lv(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function lv(e,t,n){var r=mp(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);bp(t,(function(t){lv(e,t,n)}))}function cv(e,t){var n=mp(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,gp(t,n.length>0?n:void 0)}bp(t,(function(t){cv(e,t)}))}function fv(e,t){var n=xp(uv(e,t)),r=vp(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){dv(e,t)})),dv(e,r),_p(r,(function(t){dv(e,t)})),n}function dv(e,t){var n=mp(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(rt(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(rt(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Wh(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?gp(t,void 0):n.length=a+1,Up(e.eventQueue_,xp(t),i);for(var u=0;u<r.length;u++)Sc(r[u])}}var hv=function(e,t){var n=pv(e),r=n.namespace;"firebase.com"===n.domain&&dc(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||dc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hc("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ic(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new tf(n.pathString)}},pv=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(pW){}t+="/"+i}return t}(e.substring(c,f)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=E(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):hc("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},vv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",mv=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=vv.charAt(n%64),n=Math.floor(n/64);rt(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=vv.charAt(t[r]);return rt(20===o.length,"nextPushId: Length should be 20."),o}}(),gv=function(){function e(t,n,r,i){u(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return(0,s.Z)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}]),e}(),yv=function(){function e(t,n,r){u(this,e),this.eventRegistration=t,this.error=n,this.path=r}return(0,s.Z)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),bv=function(){function e(t,n){u(this,e),this.snapshotCallback=t,this.cancelCallback=n}return(0,s.Z)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return rt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),_v=function(){function e(t,n,r,i){u(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return(0,s.Z)(e,[{key:"key",get:function(){return ff(this._path)?null:uf(this._path)}},{key:"ref",get:function(){return new Cv(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=pd(this._queryParams),t=_c(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return pd(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Kt(t))instanceof e))return!1;var n=this._repo===t._repo,r=pf(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function xv(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function wv(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Sf){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==vc)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==mc)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===Zf){if(null!=t&&!Dp(t)||null!=n&&!Dp(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(rt(e.getIndex()instanceof Qf||e.getIndex()===td,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ev(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Cv=function(e){c(n,e);var t=v(n);function n(e,r){return u(this,n),t.call(this,e,r,new ld,!1)}return(0,s.Z)(n,[{key:"parent",get:function(){var e=lf(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(_v),kv=function(){function e(t,n,r){u(this,e),this._node=t,this.ref=n,this._index=r}return(0,s.Z)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new tf(t),r=Av(this.ref,t);return new e(this._node.getChild(n),r,Zf)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Av(n.ref,r),Zf))}))}},{key:"hasChild",value:function(e){var t=new tf(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Sv(e,t){return(e=Kt(e))._checkNotDeleted("ref"),void 0!==t?Av(e._root,t):e._root}function Av(e,t){return null===rf((e=Kt(e))._path)?Fp("child","path",t,!1):Rp("child","path",t,!1),new Cv(e._repo,cf(e._path,t))}function Dv(e){return Np("remove",e._path),Mv(e,null)}function Mv(e,t){e=Kt(e),Np("set",e._path),Mp("set",t,e._path,!1);var n=new yt;return Qp(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Tv(e,t){Pp("update",t,e._path,!1);var n=new yt;return function(e,t,n,r){nv(e,"update",{path:t.toString(),value:n});var i=!0,a=Yp(e),o={};if(wc(n,(function(n,r){i=!1,o[n]=fp(cf(t,n),Jf(r),e.serverSyncTree_,a)})),i)lc("update() called with empty data.  Don't do anything."),rv(0,r,"ok",void 0);else{var u=Jp(e),s=jh(e.serverSyncTree_,t,o,u);Lp(e.eventQueue_,s),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||hc("update at "+t+" failed: "+n);var o=Wh(e.serverSyncTree_,u,!a),s=o.length>0?ov(e,t):t;Up(e.eventQueue_,s,o),rv(0,r,n,i)})),wc(n,(function(n){var r=fv(e,cf(t,n));ov(e,r)})),Up(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Pv(e){e=Kt(e);var t=new bv((function(){})),n=new Ov(t);return function(e,t,n){var r=Yh(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=Jf(r).withIndex(t._queryParams.getIndex());if(Gh(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Zh(e.serverSyncTree_,t._path,a);else{var o=Qh(e.serverSyncTree_,t);i=Hh(e.serverSyncTree_,t._path,a,o)}return Up(e.eventQueue_,t._path,i),Vh(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return nv(e,"get for query "+Tt(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new kv(t,new Cv(e._repo,e._path),e._queryParams.getIndex())}))}var Ov=function(){function e(t){u(this,e),this.callbackContext=t}return(0,s.Z)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new gv("value",this,new kv(e.snapshotNode,new Cv(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new yv(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Rv=function(){function e(t,n){u(this,e),this.eventType=t,this.callbackContext=n}return(0,s.Z)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new yv(this,e,t):null}},{key:"createEvent",value:function(e,t){rt(null!=e.childName,"Child events should have a childName.");var n=Av(new Cv(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new gv(e.type,this,new kv(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Fv(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,u=function(t,n){ev(e._repo,e,l),o(t,n)};u.userCallback=n.userCallback,u.context=n.context,n=u}var s=new bv(n,a||void 0),l="value"===t?new Ov(s):new Rv(t,s);return function(e,t,n){var r;r=".info"===rf(t._path)?Gh(e.infoSyncTree_,t,n):Gh(e.serverSyncTree_,t,n),zp(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return ev(e._repo,e,l)}}function Nv(e,t,n,r){return Fv(e,"value",t,n,r)}var Iv=(0,s.Z)((function e(){u(this,e)})),Bv=function(e){c(n,e);var t=v(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,s.Z)(n,[{key:"_apply",value:function(e){Mp("endAt",this._value,e._path,!0);var t=fd(e._queryParams,this._value,this._key);if(Ev(t),wv(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new _v(e._repo,e._path,t,e._orderByCalled)}}]),n}(Iv);var Lv=function(e){c(n,e);var t=v(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,s.Z)(n,[{key:"_apply",value:function(e){Mp("startAt",this._value,e._path,!0);var t=cd(e._queryParams,this._value,this._key);if(Ev(t),wv(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new _v(e._repo,e._path,t,e._orderByCalled)}}]),n}(Iv);var zv=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this))._path=e,r}return(0,s.Z)(n,[{key:"_apply",value:function(e){xv(e,"orderByChild");var t=new tf(this._path);if(ff(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Qf(t),r=dd(e._queryParams,n);return wv(r),new _v(e._repo,e._path,r,!0)}}]),n}(Iv);var Uv=function(e){c(n,e);var t=v(n);function n(e,r){var i;return u(this,n),(i=t.call(this))._value=e,i._key=r,i}return(0,s.Z)(n,[{key:"_apply",value:function(e){if(Mp("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bv(this._value,this._key)._apply(new Lv(this._value,this._key)._apply(e))}}]),n}(Iv);function jv(e){for(var t=Kt(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){t=o[a]._apply(t)}return t}!function(e){rt(!bh,"__referenceConstructor has already been defined"),bh=e}(Cv),function(e){rt(!Sh,"__referenceConstructor has already been defined"),Sh=e}(Cv);var Wv="FIREBASE_DATABASE_EMULATOR_HOST",Zv={},Vv=!1;function Hv(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||dc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lc("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,u=hv(a,i),s=u.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[Wv]),l?(o=!0,a="http://".concat(l,"?ns=").concat(s.namespace),s=(u=hv(a,i)).repoInfo):o=!u.repoInfo.secure;var c=i&&o?new Tc(Tc.OWNER):new Mc(e.name,e.options,t);Ip("Invalid Firebase Database URL",u),ff(u.path)||dc("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Zv[t.name];i||(i={},Zv[t.name]=i);var a=i[e.toURLString()];a&&dc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Hp(e,Vv,n,r),i[e.toURLString()]=a,a}(s,e,c,new Dc(e.name,n));return new Gv(f,e)}var Gv=function(){function e(t,n){u(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return(0,s.Z)(e,[{key:"_repo",get:function(){return this._instanceStarted||(Gp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Cv(this._repo,nf())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Zv[t];n&&n[e.key]===e||dc("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),tv(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&dc("Cannot call "+e+" on a deleted database.")}}]),e}();function qv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Kt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&dc("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&dc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Tc(Tc.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[lt(JSON.stringify({alg:"none",type:"JWT"})),lt(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId);a=new Tc(o)}!function(e,t,n,r){e.repoInfo_=new Ic("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}xf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},xf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){$l=e}(qn),Wn(new Jt("database",(function(e,t){var n=t.instanceIdentifier;return Hv(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),$n(Yl,Xl,e),$n(Yl,Xl,"esm2017")}();var Yv=Yn({apiKey:"AIzaSyCxL7MYPjZW6yrAJU6vND2pYkV4U5BCghA",authDomain:"structuredcreativeplanning.firebaseapp.com",projectId:"structuredcreativeplanning",storageBucket:"structuredcreativeplanning.appspot.com",messagingSenderId:"626832906767",appId:"1:626832906767:web:caf2aa99f077227a26e17a",measurementId:"G-PPL8YEET14",databaseURL:"https://structuredcreativeplanning-default-rtdb.firebaseio.com/"}),Xv=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=Zn(e=Kt(e),Ri);t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Zn(e,Ri);if(n.isInitialized()){var r=n.getImmediate();if(It(t,n.getOptions()))return r;throw ji.create("already-initialized")}var i=n.initialize({options:t})}(e)}(Yv),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=Zn(e,"auth");if(t.isInitialized())return t.getImmediate();var n,r=function(e,t){var n=Zn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(It(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;Ua(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Nl,persistence:[Os,us,ls]}),i=gt("authTokenSyncURL");if(i){var a=(n=i,function(){var e=Je($e().mark((function e(t){var r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,!e.t0){e.next=5;break}return e.next=4,t.getIdTokenResult();case 4:e.t0=e.sent;case 5:if(r=e.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Gl)){e.next=9;break}return e.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,ql!==a){e.next=12;break}return e.abrupt("return");case 12:return ql=a,e.next=15,fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());!function(e,t,n){Kt(e).beforeAuthStateChanged(t,n)}(r,a,(function(){return a(r.currentUser)})),function(e,t,n,r){Kt(e).onIdTokenChanged(t,n,r)}(r,(function(e){return a(e)}))}var o=vt("auth");return o&&nu(r,"http://".concat(o)),r}(Yv)),$v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn(),t=arguments.length>1?arguments[1]:void 0,n=Zn(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=function(e){var t=vt(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}}("database");r&&qv.apply(void 0,[n].concat((0,o.Z)(r)))}return n}(Yv),Kv=r(184),Jv=e.createContext();function Qv(e){var t=e.children,n=e.value;return(0,Kv.jsx)(Jv.Provider,{value:n,children:t})}function em(){return(0,e.useContext)(Jv)}function tm(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rm=e.createContext&&e.createContext(nm),im=function(){return im=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},im.apply(this,arguments)},am=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function om(t){return t&&t.map((function(t,n){return e.createElement(t.tag,im({key:n},t.attr),om(t.child))}))}function um(t){return function(n){return e.createElement(sm,im({attr:im({},t.attr)},n),om(t.child))}}function sm(t){var n=function(n){var r,i=t.attr,a=t.size,o=t.title,u=am(t,["attr","size","title"]),s=a||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",im({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:r,style:im(im({color:t.color||n.color},n.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==rm?e.createElement(rm.Consumer,null,(function(e){return n(e)})):n(nm)}var lm=r(7441),cm=r(9613),fm=r.n(cm);var dm=function(e){function t(e,r,s,l,d){for(var h,p,v,m,_,w=0,E=0,C=0,k=0,S=0,O=0,F=v=h=0,I=0,B=0,L=0,z=0,U=s.length,j=U-1,W="",Z="",V="",H="";I<U;){if(p=s.charCodeAt(I),I===j&&0!==E+k+C+w&&(0!==E&&(p=47===E?10:47),k=C=w=0,U++,j++),0===E+k+C+w){if(I===j&&(0<B&&(W=W.replace(f,"")),0<W.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:W+=s.charAt(I)}p=59}switch(p){case 123:for(h=(W=W.trim()).charCodeAt(0),v=1,z=++I;I<U;){switch(p=s.charCodeAt(I)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(I+1)){case 42:case 47:e:{for(F=I+1;F<j;++F)switch(s.charCodeAt(F)){case 47:if(42===p&&42===s.charCodeAt(F-1)&&I+2!==F){I=F+1;break e}break;case 10:if(47===p){I=F+1;break e}}I=F}}break;case 91:p++;case 40:p++;case 34:case 39:for(;I++<j&&s.charCodeAt(I)!==p;);}if(0===v)break;I++}if(v=s.substring(z,I),0===h&&(h=(W=W.replace(c,"").trim()).charCodeAt(0)),64===h){switch(0<B&&(W=W.replace(f,"")),p=W.charCodeAt(1)){case 100:case 109:case 115:case 45:B=r;break;default:B=P}if(z=(v=t(r,B,v,p,d+1)).length,0<R&&(_=u(3,v,B=n(P,W,L),r,D,A,z,p,d,l),W=B.join(""),void 0!==_&&0===(z=(v=_.trim()).length)&&(p=0,v="")),0<z)switch(p){case 115:W=W.replace(x,o);case 100:case 109:case 45:v=W+"{"+v+"}";break;case 107:v=(W=W.replace(g,"$1 $2"))+"{"+v+"}",v=1===T||2===T&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=W+v,112===l&&(Z+=v,v="")}else v=""}else v=t(r,n(r,W,L),v,l,d+1);V+=v,v=L=B=F=h=0,W="",p=s.charCodeAt(++I);break;case 125:case 59:if(1<(z=(W=(0<B?W.replace(f,""):W).trim()).length))switch(0===F&&(h=W.charCodeAt(0),45===h||96<h&&123>h)&&(z=(W=W.replace(" ",":")).length),0<R&&void 0!==(_=u(1,W,r,e,D,A,Z.length,l,d,l))&&0===(z=(W=_.trim()).length)&&(W="\0\0"),h=W.charCodeAt(0),p=W.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){H+=W+s.charAt(I);break}default:58!==W.charCodeAt(z-1)&&(Z+=i(W,h,p,W.charCodeAt(2)))}L=B=F=h=0,W="",p=s.charCodeAt(++I)}}switch(p){case 13:case 10:47===E?E=0:0===1+h&&107!==l&&0<W.length&&(B=1,W+="\0"),0<R*N&&u(0,W,r,e,D,A,Z.length,l,d,l),A=1,D++;break;case 59:case 125:if(0===E+k+C+w){A++;break}default:switch(A++,m=s.charAt(I),p){case 9:case 32:if(0===k+w+E)switch(S){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===k+E+w&&(B=L=1,m="\f"+m);break;case 108:if(0===k+E+w+M&&0<F)switch(I-F){case 2:112===S&&58===s.charCodeAt(I-3)&&(M=S);case 8:111===O&&(M=O)}break;case 58:0===k+E+w&&(F=I);break;case 44:0===E+C+k+w&&(B=1,m+="\r");break;case 34:case 39:0===E&&(k=k===p?0:0===k?p:k);break;case 91:0===k+E+C&&w++;break;case 93:0===k+E+C&&w--;break;case 41:0===k+E+w&&C--;break;case 40:if(0===k+E+w){if(0===h)if(2*S+3*O===533);else h=1;C++}break;case 64:0===E+C+k+w+F+v&&(v=1);break;case 42:case 47:if(!(0<k+w+C))switch(E){case 0:switch(2*p+3*s.charCodeAt(I+1)){case 235:E=47;break;case 220:z=I,E=42}break;case 42:47===p&&42===S&&z+2!==I&&(33===s.charCodeAt(z+2)&&(Z+=s.substring(z,I+1)),m="",E=0)}}0===E&&(W+=m)}O=S,S=p,I++}if(0<(z=Z.length)){if(B=r,0<R&&(void 0!==(_=u(2,Z,B,e,D,A,z,l,d,l))&&0===(Z=_).length))return H+Z+V;if(Z=B.join(",")+"{"+Z+"}",0!==T*M){switch(2!==T||a(Z,2)||(M=0),M){case 111:Z=Z.replace(b,":-moz-$1")+Z;break;case 112:Z=Z.replace(y,"::-webkit-input-$1")+Z.replace(y,"::-moz-$1")+Z.replace(y,":-ms-input-$1")+Z}M=0}}return H+Z+V}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var l=0;l<o;++l)t[s++]=r(e[l]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===T||2===T&&a(s,1)?"-webkit-"+s+s:s}if(0===T||2===T&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return h.test(o)?o.replace(d,":-webkit-")+o.replace(d,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(_,"tb");break;case 232:s=o.replace(_,"tb-rl");break;case 220:s=o.replace(_,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(E,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(E,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===k.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),F(2!==t?r:r.replace(C,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,c){for(var f,d=0,h=t;d<R;++d)switch(f=O[d].call(l,e,h,n,r,i,a,o,u,s,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(F=null,e?"function"!==typeof e?T=1:(T=2,F=e):T=0),s}function l(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,D,A,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,D,A,a.length,0,0,0))&&(a=i)),"",M=0,A=D=1,a}var c=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,k=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,A=1,D=1,M=0,T=1,P=[],O=[],R=0,F=null,N=0;return l.use=function e(t){switch(t){case void 0:case null:R=O.length=0;break;default:if("function"===typeof t)O[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else N=0|!!t}return e},l.set=s,void 0!==e&&s(e),l},hm={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var pm=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},vm=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mm=pm((function(e){return vm.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),gm=r(2110),ym=r.n(gm);function bm(){return(bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _m=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},xm=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,lm.typeOf)(e)},wm=Object.freeze([]),Em=Object.freeze({});function Cm(e){return"function"==typeof e}function km(e){return e.displayName||e.name||"Component"}function Sm(e){return e&&"string"==typeof e.styledComponentId}var Am="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",Dm="undefined"!=typeof window&&"HTMLElement"in window,Mm=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/GuidedCreativePlanning",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function Tm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Pm=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&Tm(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Om=new Map,Rm=new Map,Fm=1,Nm=function(e){if(Om.has(e))return Om.get(e);for(;Rm.has(Fm);)Fm++;var t=Fm++;return Om.set(e,t),Rm.set(t,e),t},Im=function(e){return Rm.get(e)},Bm=function(e,t){t>=Fm&&(Fm=t+1),Om.set(e,t),Rm.set(t,e)},Lm="style["+Am+'][data-styled-version="5.3.9"]',zm=new RegExp("^"+Am+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Um=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},jm=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(zm);if(u){var s=0|parseInt(u[1],10),l=u[2];0!==s&&(Bm(l,s),Um(e,l,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},Wm=function(){return r.nc},Zm=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Am))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(Am,"active"),r.setAttribute("data-styled-version","5.3.9");var o=Wm();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},Vm=function(){function e(e){var t=this.element=Zm(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}Tm(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),Hm=function(){function e(e){var t=this.element=Zm(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Gm=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),qm=Dm,Ym={isServer:!Dm,useCSSOMInjection:!Mm},Xm=function(){function e(e,t,n){void 0===e&&(e=Em),void 0===t&&(t={}),this.options=bm({},Ym,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&Dm&&qm&&(qm=!1,function(e){for(var t=document.querySelectorAll(Lm),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Am)&&(jm(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Nm(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(bm({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new Gm(i):r?new Vm(i):new Hm(i),new Pm(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Nm(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Nm(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Nm(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=Im(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=Am+".g"+i+'[id="'+a+'"]',l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+=e+",")})),r+=""+u+s+'{content:"'+l+'"}/*!sc*/\n'}}}return r}(this)},e}(),$m=/(a)(d)/gi,Km=function(e){return String.fromCharCode(e+(e>25?39:97))};function Jm(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Km(t%52)+n;return(Km(t%52)+n).replace($m,"$1-$2")}var Qm=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},eg=function(e){return Qm(5381,e)};function tg(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Cm(n)&&!Sm(n))return!1}return!0}var ng=eg("5.3.9"),rg=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&tg(e),this.componentId=t,this.baseHash=Qm(ng,t),this.baseStyle=n,Xm.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=xg(this.rules,e,t,n).join(""),o=Jm(Qm(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,l=Qm(this.baseHash,n.hash),c="",f=0;f<s;f++){var d=this.rules[f];if("string"==typeof d)c+=d;else if(d){var h=xg(d,e,t,n),p=Array.isArray(h)?h.join(""):h;l=Qm(l,p+f),c+=p}}if(c){var v=Jm(l>>>0);if(!t.hasNameForId(r,v)){var m=n(c,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),ig=/^\s*\/\/.*$/gm,ag=[":","[",".","#"];function og(e){var t,n,r,i,a=void 0===e?Em:e,o=a.options,u=void 0===o?Em:o,s=a.plugins,l=void 0===s?wm:s,c=new dm(u),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,l,c,f){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===l)return r+"/*|*/";break;case 3:switch(l){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),h=function(e,r,a){return 0===r&&-1!==ag.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(ig,""),l=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(o||!a?"":a,l)}return c.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=l.length?l.reduce((function(e,t){return t.name||Tm(15),Qm(e,t.name)}),5381).toString():"",p}var ug=e.createContext(),sg=(ug.Consumer,e.createContext()),lg=(sg.Consumer,new Xm),cg=og();function fg(){return(0,e.useContext)(ug)||lg}function dg(){return(0,e.useContext)(sg)||cg}function hg(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],a=fg(),o=(0,e.useMemo)((function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),u=(0,e.useMemo)((function(){return og({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){fm()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(ug.Provider,{value:o},e.createElement(sg.Provider,{value:u},t.children))}var pg=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=cg);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return Tm(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=cg),this.name+e.hash},e}(),vg=/([A-Z])/,mg=/([A-Z])/g,gg=/^ms-/,yg=function(e){return"-"+e.toLowerCase()};function bg(e){return vg.test(e)?e.replace(mg,yg).replace(gg,"-ms-"):e}var _g=function(e){return null==e||!1===e||""===e};function xg(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=xg(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return _g(e)?"":Sm(e)?"."+e.styledComponentId:Cm(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:xg(e(t),t,n,r):e instanceof pg?n?(e.inject(n,r),e.getName(r)):e:xm(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!_g(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Cm(t[o])?a.push(bg(o)+":",t[o],";"):xm(t[o])?a.push.apply(a,e(t[o],o)):a.push(bg(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in hm?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var wg=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Eg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cm(e)||xm(e)?wg(xg(_m(wm,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:wg(xg(_m(e,n)))}new Set;var Cg=function(e,t,n){return void 0===n&&(n=Em),e.theme!==n.theme&&e.theme||t||n.theme},kg=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Sg=/(^-|-$)/g;function Ag(e){return e.replace(kg,"-").replace(Sg,"")}var Dg=function(e){return Jm(eg(e)>>>0)};function Mg(e){return"string"==typeof e&&!0}var Tg=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Pg=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Og(e,t,n){var r=e[n];Tg(t)&&Tg(r)?Rg(r,t):e[n]=t}function Rg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(Tg(o))for(var u in o)Pg(u)&&Og(e,o[u],u)}return e}var Fg=e.createContext();Fg.Consumer;var Ng={};function Ig(t,n,r){var i=Sm(t),a=!Mg(t),o=n.attrs,u=void 0===o?wm:o,s=n.componentId,l=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Ag(e);Ng[n]=(Ng[n]||0)+1;var r=n+"-"+Dg("5.3.9"+n+Ng[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,c=n.displayName,f=void 0===c?function(e){return Mg(e)?"styled."+e:"Styled("+km(e)+")"}(t):c,d=n.displayName&&n.componentId?Ag(n.displayName)+"-"+n.componentId:n.componentId||l,h=i&&t.attrs?Array.prototype.concat(t.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&t.shouldForwardProp&&(p=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var v,m=new rg(r,d,i?t.componentStyle:void 0),g=m.isStatic&&0===u.length,y=function(t,n){return function(t,n,r,i){var a=t.attrs,o=t.componentStyle,u=t.defaultProps,s=t.foldedComponentIds,l=t.shouldForwardProp,c=t.styledComponentId,f=t.target,d=function(e,t,n){void 0===e&&(e=Em);var r=bm({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Cm(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Cg(n,(0,e.useContext)(Fg),u)||Em,n,a),h=d[0],p=d[1],v=function(e,t,n,r){var i=fg(),a=dg();return t?e.generateAndInjectStyles(Em,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,h),m=r,g=p.$as||n.$as||p.as||n.as||f,y=Mg(g),b=p!==n?bm({},n,{},p):n,_={};for(var x in b)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?_.as=b[x]:(l?l(x,mm,g):!y||mm(x))&&(_[x]=b[x]));return n.style&&p.style!==n.style&&(_.style=bm({},n.style,{},p.style)),_.className=Array.prototype.concat(s,c,v!==c?v:null,n.className,p.className).filter(Boolean).join(" "),_.ref=m,(0,e.createElement)(g,_)}(v,t,n,g)};return y.displayName=f,(v=e.forwardRef(y)).attrs=h,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):wm,v.styledComponentId=d,v.target=i?t.target:t,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Mg(e)?e:Ag(km(e)));return Ig(e,bm({},i,{attrs:h,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Rg({},t.defaultProps,e):e}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&ym()(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Bg=function(e){return function e(t,n,r){if(void 0===r&&(r=Em),!(0,lm.isValidElementType)(n))return Tm(1,String(n));var i=function(){return t(n,r,Eg.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,bm({},r,{},i))},i.attrs=function(i){return e(t,n,bm({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Ig,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Bg[e]=Bg(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=tg(e),Xm.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(xg(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&Xm.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=Wm();return"<style "+[n&&'nonce="'+n+'"',Am+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?Tm(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return Tm(2);var r=((n={})[Am]="",n["data-styled-version"]="5.3.9",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=Wm();return i&&(r.nonce=i),[e.createElement("style",bm({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Xm({isServer:!0}),this.sealed=!1}var n=t.prototype;n.collectStyles=function(t){return this.sealed?Tm(2):e.createElement(hg,{sheet:this.instance},t)},n.interleaveWithNodeStream=function(e){return Tm(3)}}();var Lg,zg,Ug,jg,Wg=Bg,Zg=Wg.nav(Lg||(Lg=tm(["\n  background: #111111;\n  height: 85px;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.2rem calc((100vw - 1000px) / 2);\n  z-index: 12;\n"]))),Vg=Wg(qe)(zg||(zg=tm(["\n  color: #EEEEEE;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #4d4dff;\n  }\n"]))),Hg=(Wg((function(e){return um({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}))(Ug||(Ug=tm(["\n  display: none;\n  color: #808080;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"]))),Wg.div(jg||(jg=tm(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n  /* Second Nav */\n  /* margin-right: 24px; */\n  /* Third Nav */\n  /* width: 100vw;\nwhite-space: nowrap; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"])))),Gg=function(){return(0,Kv.jsx)(Kv.Fragment,{children:(0,Kv.jsx)(Zg,{children:(0,Kv.jsxs)(Hg,{children:[(0,Kv.jsx)(Vg,{to:"/sign-up",children:"Sign Up"}),(0,Kv.jsx)(Vg,{to:"/login",children:"Sign In"}),(0,Kv.jsx)(Vg,{to:"/profile",children:"Profile"}),(0,Kv.jsx)(Vg,{to:"/map-generator",children:"Map Generator"}),(0,Kv.jsx)(Vg,{to:"/story-map",children:"Story Map"}),(0,Kv.jsx)(Vg,{to:"/story-timeline",children:"Timeline"}),(0,Kv.jsx)(Vg,{to:"/story-editor",children:"Story Editor"})]})})})};function qg(e){var t=e.children,n=em().currentUser;return null!==n&&void 0!==n&&n.emailVerified?t:(0,Kv.jsx)(Re,{to:"/login",replace:!0})}var Yg=function(){var t=(0,e.useState)(""),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,e.useState)(""),u=(0,a.Z)(o,2),s=u[0],l=u[1],c=(0,e.useState)(""),f=(0,a.Z)(c,2),d=f[0],h=f[1],p=(0,e.useState)(""),v=(0,a.Z)(p,2),m=v[0],g=v[1],y=we(),b=em().setTimeActive;return(0,Kv.jsx)("div",{className:"center",children:(0,Kv.jsxs)("div",{className:"auth",children:[(0,Kv.jsx)("h1",{children:"Register"}),m&&(0,Kv.jsx)("div",{className:"auth__error",children:m}),(0,Kv.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(""),function(){var e=!0;return""!==s&&""!==d&&s!==d&&(e=!1,g("Passwords does not match")),e}()&&function(e,t,n){return Ju.apply(this,arguments)}(Xv,r,s).then((function(){Qu(Xv.currentUser).then((function(){b(!0),y("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return g(e.message)})),i(""),l(""),h("")},name:"registration_form",children:[(0,Kv.jsx)("input",{type:"email",value:r,placeholder:"Enter your email",required:!0,onChange:function(e){return i(e.target.value)}}),(0,Kv.jsx)("input",{type:"password",value:s,required:!0,placeholder:"Enter your password",onChange:function(e){return l(e.target.value)}}),(0,Kv.jsx)("input",{type:"password",value:d,required:!0,placeholder:"Confirm password",onChange:function(e){return h(e.target.value)}}),(0,Kv.jsx)("button",{type:"submit",children:"Sign Up"})]}),(0,Kv.jsxs)("span",{children:["Already have an account?",(0,Kv.jsx)(Ge,{to:"/login",children:"Sign In."})]})]})})};var Xg=function(){var t=em().currentUser,n=(0,e.useState)(60),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=em(),s=u.timeActive,l=u.setTimeActive,c=we();return(0,e.useEffect)((function(){var e=setInterval((function(){null===t||void 0===t||t.reload().then((function(){null!==t&&void 0!==t&&t.emailVerified&&(clearInterval(e),c("/"),Mv(Sv($v,"users/"+t.uid),{email:t.email,uid:t.uid}))})).catch((function(e){alert(e.message)}))}),1e3)}),[c,t]),(0,e.useEffect)((function(){var e=null;return s&&0!==i?e=setInterval((function(){o((function(e){return e-1}))}),1e3):0===i&&(l(!1),o(60),clearInterval(e)),function(){return clearInterval(e)}}),[s,i,l]),(0,Kv.jsx)("div",{className:"center",children:(0,Kv.jsxs)("div",{className:"verifyEmail",children:[(0,Kv.jsx)("h1",{children:"Verify your Email Address"}),(0,Kv.jsxs)("p",{children:[(0,Kv.jsx)("strong",{children:"A Verification email has been sent to:"}),(0,Kv.jsx)("br",{}),(0,Kv.jsx)("span",{children:null===t||void 0===t?void 0:t.email})]}),(0,Kv.jsx)("span",{children:"Follow the instruction in the email to verify your account"}),(0,Kv.jsxs)("button",{onClick:function(){Qu(Xv.currentUser).then((function(){l(!0)})).catch((function(e){alert(e.message)}))},disabled:s,children:["Resend Email ",s&&i]})]})})},$g=r(7462),Kg=r(5987),Jg=r(8182),Qg=r(8317),ey=r(1122),ty=r(4164),ny=r(5522),ry=r(794),iy=r(4667),ay=r(1565),oy=r(9806);var uy="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,sy=e.forwardRef((function(t,n){var r=t.children,i=t.container,a=t.disablePortal,o=void 0!==a&&a,u=t.onRendered,s=e.useState(null),l=s[0],c=s[1],f=(0,oy.Z)(e.isValidElement(r)?r.ref:null,n);return uy((function(){o||c(function(e){return e="function"===typeof e?e():e,ty.findDOMNode(e)}(i)||document.body)}),[i,o]),uy((function(){if(l&&!o)return(0,ay.Z)(n,l),function(){(0,ay.Z)(n,null)}}),[n,l,o]),uy((function(){u&&(l||o)&&u()}),[u,l,o]),o?e.isValidElement(r)?e.cloneElement(r,{ref:f}):r:l?ty.createPortal(r,l):l}));var ly=sy,cy=r(7545),fy=r(2216),dy=r(9535);function hy(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}var py=r(7636);function vy(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function my(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function gy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,o.Z)(r)),u=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===u.indexOf(e.tagName)&&vy(e,i)}))}function yy(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function by(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,iy.Z)(e);return t.body===e?(0,py.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=hy();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(my(a)+o,"px"),n=(0,iy.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(my(e)+o,"px")}))}var u=a.parentElement,s="HTML"===u.nodeName&&"scroll"===window.getComputedStyle(u)["overflow-y"]?u:a;r.push({value:s.style.overflow,key:"overflow",el:s}),s.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var _y=function(){function e(){u(this,e),this.modals=[],this.containers=[]}return(0,s.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&vy(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);gy(t,e.mountNode,e.modalRef,r,!0);var i=yy(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=yy(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=by(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=yy(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&vy(e.modalRef,!0),gy(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&vy(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var xy=function(t){var n=t.children,r=t.disableAutoFocus,i=void 0!==r&&r,a=t.disableEnforceFocus,o=void 0!==a&&a,u=t.disableRestoreFocus,s=void 0!==u&&u,l=t.getDoc,c=t.isEnabled,f=t.open,d=e.useRef(),h=e.useRef(null),p=e.useRef(null),v=e.useRef(),m=e.useRef(null),g=e.useCallback((function(e){m.current=ty.findDOMNode(e)}),[]),y=(0,oy.Z)(n.ref,g),b=e.useRef();return e.useEffect((function(){b.current=f}),[f]),!b.current&&f&&"undefined"!==typeof window&&(v.current=l().activeElement),e.useEffect((function(){if(f){var e=(0,iy.Z)(m.current);i||!m.current||m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var t=function(){null!==m.current&&(e.hasFocus()&&!o&&c()&&!d.current?m.current&&!m.current.contains(e.activeElement)&&m.current.focus():d.current=!1)},n=function(t){!o&&c()&&9===t.keyCode&&e.activeElement===m.current&&(d.current=!0,t.shiftKey?p.current.focus():h.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),s||(v.current&&v.current.focus&&v.current.focus(),v.current=null)}}}),[i,o,s,c,f]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:h,"data-test":"sentinelStart"}),e.cloneElement(n,{ref:y}),e.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelEnd"}))},wy={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Ey=e.forwardRef((function(t,n){var r=t.invisible,i=void 0!==r&&r,a=t.open,o=(0,Kg.Z)(t,["invisible","open"]);return a?e.createElement("div",(0,$g.Z)({"aria-hidden":!0,ref:n},o,{style:(0,$g.Z)({},wy.root,i?wy.invisible:{},o.style)})):null})),Cy=Ey;var ky=new _y,Sy=e.forwardRef((function(t,n){var r=(0,ny.Z)(),i=(0,ry.Z)({name:"MuiModal",props:(0,$g.Z)({},t),theme:r}),a=i.BackdropComponent,o=void 0===a?Cy:a,u=i.BackdropProps,s=i.children,l=i.closeAfterTransition,c=void 0!==l&&l,f=i.container,d=i.disableAutoFocus,h=void 0!==d&&d,p=i.disableBackdropClick,v=void 0!==p&&p,m=i.disableEnforceFocus,g=void 0!==m&&m,y=i.disableEscapeKeyDown,b=void 0!==y&&y,_=i.disablePortal,x=void 0!==_&&_,w=i.disableRestoreFocus,E=void 0!==w&&w,C=i.disableScrollLock,k=void 0!==C&&C,S=i.hideBackdrop,A=void 0!==S&&S,D=i.keepMounted,M=void 0!==D&&D,T=i.manager,P=void 0===T?ky:T,O=i.onBackdropClick,R=i.onClose,F=i.onEscapeKeyDown,N=i.onRendered,I=i.open,B=(0,Kg.Z)(i,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),L=e.useState(!0),z=L[0],U=L[1],j=e.useRef({}),W=e.useRef(null),Z=e.useRef(null),V=(0,oy.Z)(Z,n),H=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(i),G=function(){return(0,iy.Z)(W.current)},q=function(){return j.current.modalRef=Z.current,j.current.mountNode=W.current,j.current},Y=function(){P.mount(q(),{disableScrollLock:k}),Z.current.scrollTop=0},X=(0,fy.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,ty.findDOMNode(e)}(f)||G().body;P.add(q(),e),Z.current&&Y()})),$=e.useCallback((function(){return P.isTopModal(q())}),[P]),K=(0,fy.Z)((function(e){W.current=e,e&&(N&&N(),I&&$()?Y():vy(Z.current,!0))})),J=e.useCallback((function(){P.remove(q())}),[P]);if(e.useEffect((function(){return function(){J()}}),[J]),e.useEffect((function(){I?X():H&&c||J()}),[I,J,H,c,X]),!M&&!I&&(!H||z))return null;var Q=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(r||{zIndex:dy.Z}),ee={};return void 0===s.props.tabIndex&&(ee.tabIndex=s.props.tabIndex||"-1"),H&&(ee.onEnter=(0,cy.Z)((function(){U(!1)}),s.props.onEnter),ee.onExited=(0,cy.Z)((function(){U(!0),c&&J()}),s.props.onExited)),e.createElement(ly,{ref:K,container:f,disablePortal:x},e.createElement("div",(0,$g.Z)({ref:V,onKeyDown:function(e){"Escape"===e.key&&$()&&(F&&F(e),b||(e.stopPropagation(),R&&R(e,"escapeKeyDown")))},role:"presentation"},B,{style:(0,$g.Z)({},Q.root,!I&&z?Q.hidden:{},B.style)}),A?null:e.createElement(o,(0,$g.Z)({open:I,onClick:function(e){e.target===e.currentTarget&&(O&&O(e),!v&&R&&R(e,"backdropClick"))}},u)),e.createElement(xy,{disableEnforceFocus:g,disableAutoFocus:h,disableRestoreFocus:E,getDoc:G,isEnabled:$,open:I},e.cloneElement(s,ee))))})),Ay=Sy,Dy=r(3366),My=r(4578),Ty=!1,Py=e.createContext(null),Oy="unmounted",Ry="exited",Fy="entering",Ny="entered",Iy="exiting",By=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,a=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Ry,r.appearStatus=Fy):i=Ny:i=e.unmountOnExit||e.mountOnEnter?Oy:Ry,r.state={status:i},r.nextCallback=null,r}(0,My.Z)(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Oy?{status:Ry}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Fy&&n!==Ny&&(t=Fy):n!==Fy&&n!==Ny||(t=Iy)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Fy){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ty.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ry&&this.setState({status:Oy})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ty.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||Ty?this.safeSetState({status:Ny},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Fy},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:Ny},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ty.findDOMNode(this);t&&!Ty?(this.props.onExit(r),this.safeSetState({status:Iy},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ry},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ry},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ty.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===Oy)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,Dy.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Py.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function Ly(){}By.contextType=Py,By.propTypes={},By.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ly,onEntering:Ly,onEntered:Ly,onExit:Ly,onExiting:Ly,onExited:Ly},By.UNMOUNTED=Oy,By.EXITED=Ry,By.ENTERING=Fy,By.ENTERED=Ny,By.EXITING=Iy;var zy=By,Uy=r(812),jy=r(6865);function Wy(){return(0,ny.Z)()||jy.Z}var Zy=function(e){return e.scrollTop};function Vy(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}var Hy={entering:{opacity:1},entered:{opacity:1}},Gy={enter:Uy.x9.enteringScreen,exit:Uy.x9.leavingScreen},qy=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,o=void 0!==i&&i,u=t.in,s=t.onEnter,l=t.onEntered,c=t.onEntering,f=t.onExit,d=t.onExited,h=t.onExiting,p=t.style,v=t.TransitionComponent,m=void 0===v?zy:v,g=t.timeout,y=void 0===g?Gy:g,b=(0,Kg.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),_=Wy(),x=_.unstable_strictMode&&!o,w=e.useRef(null),E=(0,oy.Z)(r.ref,n),C=(0,oy.Z)(x?w:void 0,E),k=function(e){return function(t,n){if(e){var r=x?[w.current,t]:[t,n],i=(0,a.Z)(r,2),o=i[0],u=i[1];void 0===u?e(o):e(o,u)}}},S=k(c),A=k((function(e,t){Zy(e);var n=Vy({style:p,timeout:y},{mode:"enter"});e.style.webkitTransition=_.transitions.create("opacity",n),e.style.transition=_.transitions.create("opacity",n),s&&s(e,t)})),D=k(l),M=k(h),T=k((function(e){var t=Vy({style:p,timeout:y},{mode:"exit"});e.style.webkitTransition=_.transitions.create("opacity",t),e.style.transition=_.transitions.create("opacity",t),f&&f(e)})),P=k(d);return e.createElement(m,(0,$g.Z)({appear:!0,in:u,nodeRef:x?w:void 0,onEnter:A,onEntered:D,onEntering:S,onExit:T,onExited:P,onExiting:M,timeout:y},b),(function(t,n){return e.cloneElement(r,(0,$g.Z)({style:(0,$g.Z)({opacity:0,visibility:"exited"!==t||u?void 0:"hidden"},Hy[t],p,r.props.style),ref:C},n))}))})),Yy=qy,Xy=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.invisible,u=void 0!==o&&o,s=t.open,l=t.transitionDuration,c=t.TransitionComponent,f=void 0===c?Yy:c,d=(0,Kg.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(f,(0,$g.Z)({in:s,timeout:l},d),e.createElement("div",{className:(0,Jg.default)(i.root,a,u&&i.invisible),"aria-hidden":!0,ref:n},r))})),$y=(0,Qg.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Xy),Ky=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,o=void 0===a?"div":a,u=t.square,s=void 0!==u&&u,l=t.elevation,c=void 0===l?1:l,f=t.variant,d=void 0===f?"elevation":f,h=(0,Kg.Z)(t,["classes","className","component","square","elevation","variant"]);return e.createElement(o,(0,$g.Z)({className:(0,Jg.default)(r.root,i,"outlined"===d?r.outlined:r["elevation".concat(c)],!s&&r.rounded),ref:n},h))})),Jy=(0,Qg.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,$g.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Ky),Qy={enter:Uy.x9.enteringScreen,exit:Uy.x9.leavingScreen},eb=e.forwardRef((function(t,n){var r=t.BackdropProps,i=t.children,a=t.classes,o=t.className,u=t.disableBackdropClick,s=void 0!==u&&u,l=t.disableEscapeKeyDown,c=void 0!==l&&l,f=t.fullScreen,d=void 0!==f&&f,h=t.fullWidth,p=void 0!==h&&h,v=t.maxWidth,m=void 0===v?"sm":v,g=t.onBackdropClick,y=t.onClose,b=t.onEnter,_=t.onEntered,x=t.onEntering,w=t.onEscapeKeyDown,E=t.onExit,C=t.onExited,k=t.onExiting,S=t.open,A=t.PaperComponent,D=void 0===A?Jy:A,M=t.PaperProps,T=void 0===M?{}:M,P=t.scroll,O=void 0===P?"paper":P,R=t.TransitionComponent,F=void 0===R?Yy:R,N=t.transitionDuration,I=void 0===N?Qy:N,B=t.TransitionProps,L=t["aria-describedby"],z=t["aria-labelledby"],U=(0,Kg.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),j=e.useRef();return e.createElement(Ay,(0,$g.Z)({className:(0,Jg.default)(a.root,o),BackdropComponent:$y,BackdropProps:(0,$g.Z)({transitionDuration:I},r),closeAfterTransition:!0},s?{disableBackdropClick:s}:{},{disableEscapeKeyDown:c,onEscapeKeyDown:w,onClose:y,open:S,ref:n},U),e.createElement(F,(0,$g.Z)({appear:!0,in:S,timeout:I,onEnter:b,onEntering:x,onEntered:_,onExit:E,onExiting:k,onExited:C,role:"none presentation"},B),e.createElement("div",{className:(0,Jg.default)(a.container,a["scroll".concat((0,ey.Z)(O))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===j.current&&(j.current=null,g&&g(e),!s&&y&&y(e,"backdropClick"))},onMouseDown:function(e){j.current=e.target}},e.createElement(D,(0,$g.Z)({elevation:24,role:"dialog","aria-describedby":L,"aria-labelledby":z},T,{className:(0,Jg.default)(a.paper,a["paperScroll".concat((0,ey.Z)(O))],a["paperWidth".concat((0,ey.Z)(String(m)))],T.className,d&&a.paperFullScreen,p&&a.paperFullWidth)}),i))))})),tb=(0,Qg.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,Qe.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,Qe.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,Qe.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,Qe.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,Qe.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(eb),nb=e.forwardRef((function(t,n){var r=t.disableSpacing,i=void 0!==r&&r,a=t.classes,o=t.className,u=(0,Kg.Z)(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,$g.Z)({className:(0,Jg.default)(a.root,o,!i&&a.spacing),ref:n},u))})),rb=(0,Qg.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(nb),ib=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.dividers,o=void 0!==a&&a,u=(0,Kg.Z)(t,["classes","className","dividers"]);return e.createElement("div",(0,$g.Z)({className:(0,Jg.default)(r.root,i,o&&r.dividers),ref:n},u))})),ab=(0,Qg.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(ib),ob={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},ub=e.forwardRef((function(t,n){var r=t.align,i=void 0===r?"inherit":r,a=t.classes,o=t.className,u=t.color,s=void 0===u?"initial":u,l=t.component,c=t.display,f=void 0===c?"initial":c,d=t.gutterBottom,h=void 0!==d&&d,p=t.noWrap,v=void 0!==p&&p,m=t.paragraph,g=void 0!==m&&m,y=t.variant,b=void 0===y?"body1":y,_=t.variantMapping,x=void 0===_?ob:_,w=(0,Kg.Z)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),E=l||(g?"p":x[b]||ob[b])||"span";return e.createElement(E,(0,$g.Z)({className:(0,Jg.default)(a.root,o,"inherit"!==b&&a[b],"initial"!==s&&a["color".concat((0,ey.Z)(s))],v&&a.noWrap,h&&a.gutterBottom,g&&a.paragraph,"inherit"!==i&&a["align".concat((0,ey.Z)(i))],"initial"!==f&&a["display".concat((0,ey.Z)(f))]),ref:n},w))})),sb=(0,Qg.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(ub),lb=e.forwardRef((function(t,n){return e.createElement(sb,(0,$g.Z)({component:"p",variant:"body1",color:"textSecondary",ref:n},t))})),cb=(0,Qg.Z)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(lb),fb=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.disableTypography,u=void 0!==o&&o,s=(0,Kg.Z)(t,["children","classes","className","disableTypography"]);return e.createElement("div",(0,$g.Z)({className:(0,Jg.default)(i.root,a),ref:n},s),u?r:e.createElement(sb,{component:"h2",variant:"h6"},r))})),db=(0,Qg.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(fb),hb=r(7483);function pb(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var vb=e.createContext();var mb=vb,gb=r(503);function yb(e,t){return parseInt(e[t],10)||0}var bb="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,_b={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},xb=e.forwardRef((function(t,n){var r=t.onChange,i=t.rows,a=t.rowsMax,o=t.rowsMin,u=t.maxRows,s=t.minRows,l=void 0===s?1:s,c=t.style,f=t.value,d=(0,Kg.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),h=u||a,p=i||o||l,v=e.useRef(null!=f).current,m=e.useRef(null),g=(0,oy.Z)(n,m),y=e.useRef(null),b=e.useRef(0),_=e.useState({}),x=_[0],w=_[1],E=e.useCallback((function(){var e=m.current,n=window.getComputedStyle(e),r=y.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=yb(n,"padding-bottom")+yb(n,"padding-top"),o=yb(n,"border-bottom-width")+yb(n,"border-top-width"),u=r.scrollHeight-a;r.value="x";var s=r.scrollHeight-a,l=u;p&&(l=Math.max(Number(p)*s,l)),h&&(l=Math.min(Number(h)*s,l));var c=(l=Math.max(l,s))+("border-box"===i?a+o:0),f=Math.abs(l-u)<=1;w((function(e){return b.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==f)?(b.current+=1,{overflow:f,outerHeightStyle:c}):e}))}),[h,p,t.placeholder]);e.useEffect((function(){var e=(0,gb.Z)((function(){b.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),bb((function(){E()})),e.useEffect((function(){b.current=0}),[f]);return e.createElement(e.Fragment,null,e.createElement("textarea",(0,$g.Z)({value:f,onChange:function(e){b.current=0,v||E(),r&&r(e)},ref:g,rows:p,style:(0,$g.Z)({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},c)},d)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:y,tabIndex:-1,style:(0,$g.Z)({},_b,c)}))})),wb=xb;function Eb(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Cb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Eb(e.value)&&""!==e.value||t&&Eb(e.defaultValue)&&""!==e.defaultValue)}var kb="undefined"===typeof window?e.useEffect:e.useLayoutEffect,Sb=e.forwardRef((function(t,n){var r=t["aria-describedby"],i=t.autoComplete,a=t.autoFocus,o=t.classes,u=t.className,s=(t.color,t.defaultValue),l=t.disabled,c=t.endAdornment,f=(t.error,t.fullWidth),d=void 0!==f&&f,h=t.id,p=t.inputComponent,v=void 0===p?"input":p,m=t.inputProps,g=void 0===m?{}:m,y=t.inputRef,b=(t.margin,t.multiline),_=void 0!==b&&b,x=t.name,w=t.onBlur,E=t.onChange,C=t.onClick,k=t.onFocus,S=t.onKeyDown,A=t.onKeyUp,D=t.placeholder,M=t.readOnly,T=t.renderSuffix,P=t.rows,O=t.rowsMax,R=t.rowsMin,F=t.maxRows,N=t.minRows,I=t.startAdornment,B=t.type,L=void 0===B?"text":B,z=t.value,U=(0,Kg.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),j=null!=g.value?g.value:z,W=e.useRef(null!=j).current,Z=e.useRef(),V=e.useCallback((function(e){0}),[]),H=(0,oy.Z)(g.ref,V),G=(0,oy.Z)(y,H),q=(0,oy.Z)(Z,G),Y=e.useState(!1),X=Y[0],$=Y[1],K=e.useContext(vb);var J=pb({props:t,muiFormControl:K,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});J.focused=K?K.focused:X,e.useEffect((function(){!K&&l&&X&&($(!1),w&&w())}),[K,l,X,w]);var Q=K&&K.onFilled,ee=K&&K.onEmpty,te=e.useCallback((function(e){Cb(e)?Q&&Q():ee&&ee()}),[Q,ee]);kb((function(){W&&te({value:j})}),[j,te,W]);e.useEffect((function(){te(Z.current)}),[]);var ne=v,re=(0,$g.Z)({},g,{ref:q});"string"!==typeof ne?re=(0,$g.Z)({inputRef:q,type:L},re,{ref:null}):_?!P||F||N||O||R?(re=(0,$g.Z)({minRows:P||N,rowsMax:O,maxRows:F},re),ne=wb):ne="textarea":re=(0,$g.Z)({type:L},re);return e.useEffect((function(){K&&K.setAdornedStart(Boolean(I))}),[K,I]),e.createElement("div",(0,$g.Z)({className:(0,Jg.default)(o.root,o["color".concat((0,ey.Z)(J.color||"primary"))],u,J.disabled&&o.disabled,J.error&&o.error,d&&o.fullWidth,J.focused&&o.focused,K&&o.formControl,_&&o.multiline,I&&o.adornedStart,c&&o.adornedEnd,"dense"===J.margin&&o.marginDense),onClick:function(e){Z.current&&e.currentTarget===e.target&&Z.current.focus(),C&&C(e)},ref:n},U),I,e.createElement(mb.Provider,{value:null},e.createElement(ne,(0,$g.Z)({"aria-invalid":J.error,"aria-describedby":r,autoComplete:i,autoFocus:a,defaultValue:s,disabled:J.disabled,id:h,onAnimationStart:function(e){te("mui-auto-fill-cancel"===e.animationName?Z.current:{value:"x"})},name:x,placeholder:D,readOnly:M,required:J.required,rows:P,value:j,onKeyDown:S,onKeyUp:A},re,{className:(0,Jg.default)(o.input,g.className,J.disabled&&o.disabled,_&&o.inputMultiline,J.hiddenLabel&&o.inputHiddenLabel,I&&o.inputAdornedStart,c&&o.inputAdornedEnd,"search"===L&&o.inputTypeSearch,"dense"===J.margin&&o.inputMarginDense),onBlur:function(e){w&&w(e),g.onBlur&&g.onBlur(e),K&&K.onBlur?K.onBlur(e):$(!1)},onChange:function(e){if(!W){var t=e.target||Z.current;if(null==t)throw new Error((0,hb.Z)(1));te({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){J.disabled?e.stopPropagation():(k&&k(e),g.onFocus&&g.onFocus(e),K&&K.onFocus?K.onFocus(e):$(!0))}}))),c,T?T((0,$g.Z)({},J,{startAdornment:I})):null)})),Ab=(0,Qg.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,$g.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(Sb),Db=e.forwardRef((function(t,n){var r=t.disableUnderline,i=t.classes,a=t.fullWidth,o=void 0!==a&&a,u=t.inputComponent,s=void 0===u?"input":u,l=t.multiline,c=void 0!==l&&l,f=t.type,d=void 0===f?"text":f,h=(0,Kg.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(Ab,(0,$g.Z)({classes:(0,$g.Z)({},i,{root:(0,Jg.default)(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:c,ref:n,type:d},h))}));Db.muiName="Input";var Mb=(0,Qg.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Db),Tb=e.forwardRef((function(t,n){var r=t.disableUnderline,i=t.classes,a=t.fullWidth,o=void 0!==a&&a,u=t.inputComponent,s=void 0===u?"input":u,l=t.multiline,c=void 0!==l&&l,f=t.type,d=void 0===f?"text":f,h=(0,Kg.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(Ab,(0,$g.Z)({classes:(0,$g.Z)({},i,{root:(0,Jg.default)(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:s,multiline:c,ref:n,type:d},h))}));Tb.muiName="Input";var Pb=(0,Qg.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Tb),Ob=e.forwardRef((function(t,n){t.children;var r=t.classes,i=t.className,a=t.label,o=t.labelWidth,u=t.notched,s=t.style,l=(0,Kg.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),c="rtl"===Wy().direction?"right":"left";if(void 0!==a)return e.createElement("fieldset",(0,$g.Z)({"aria-hidden":!0,className:(0,Jg.default)(r.root,i),ref:n,style:s},l),e.createElement("legend",{className:(0,Jg.default)(r.legendLabelled,u&&r.legendNotched)},a?e.createElement("span",null,a):e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var f=o>0?.75*o+8:.01;return e.createElement("fieldset",(0,$g.Z)({"aria-hidden":!0,style:(0,$g.Z)((0,Qe.Z)({},"padding".concat((0,ey.Z)(c)),8),s),className:(0,Jg.default)(r.root,i),ref:n},l),e.createElement("legend",{className:r.legend,style:{width:u?f:.01}},e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),Rb=(0,Qg.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Ob),Fb=e.forwardRef((function(t,n){var r=t.classes,i=t.fullWidth,a=void 0!==i&&i,o=t.inputComponent,u=void 0===o?"input":o,s=t.label,l=t.labelWidth,c=void 0===l?0:l,f=t.multiline,d=void 0!==f&&f,h=t.notched,p=t.type,v=void 0===p?"text":p,m=(0,Kg.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return e.createElement(Ab,(0,$g.Z)({renderSuffix:function(t){return e.createElement(Rb,{className:r.notchedOutline,label:s,labelWidth:c,notched:"undefined"!==typeof h?h:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,$g.Z)({},r,{root:(0,Jg.default)(r.root,r.underline),notchedOutline:null}),fullWidth:a,inputComponent:u,multiline:d,ref:n,type:v},m))}));Fb.muiName="Input";var Nb=(0,Qg.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Fb);function Ib(){return e.useContext(mb)}var Bb=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=(t.color,t.component),u=void 0===o?"label":o,s=(t.disabled,t.error,t.filled,t.focused,t.required,(0,Kg.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),l=pb({props:t,muiFormControl:Ib(),states:["color","required","focused","disabled","error","filled"]});return e.createElement(u,(0,$g.Z)({className:(0,Jg.default)(i.root,i["color".concat((0,ey.Z)(l.color||"primary"))],a,l.disabled&&i.disabled,l.error&&i.error,l.filled&&i.filled,l.focused&&i.focused,l.required&&i.required),ref:n},s),r,l.required&&e.createElement("span",{"aria-hidden":!0,className:(0,Jg.default)(i.asterisk,l.error&&i.error)},"\u2009","*"))})),Lb=(0,Qg.Z)((function(e){return{root:(0,$g.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(Bb),zb=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.disableAnimation,o=void 0!==a&&a,u=(t.margin,t.shrink),s=(t.variant,(0,Kg.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),l=Ib(),c=u;"undefined"===typeof c&&l&&(c=l.filled||l.focused||l.adornedStart);var f=pb({props:t,muiFormControl:l,states:["margin","variant"]});return e.createElement(Lb,(0,$g.Z)({"data-shrink":c,className:(0,Jg.default)(r.root,i,l&&r.formControl,!o&&r.animated,c&&r.shrink,"dense"===f.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[f.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},s))})),Ub=(0,Qg.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(zb),jb=r(3375),Wb=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.color,u=void 0===o?"primary":o,s=t.component,l=void 0===s?"div":s,c=t.disabled,f=void 0!==c&&c,d=t.error,h=void 0!==d&&d,p=t.fullWidth,v=void 0!==p&&p,m=t.focused,g=t.hiddenLabel,y=void 0!==g&&g,b=t.margin,_=void 0===b?"none":b,x=t.required,w=void 0!==x&&x,E=t.size,C=t.variant,k=void 0===C?"standard":C,S=(0,Kg.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),A=e.useState((function(){var t=!1;return r&&e.Children.forEach(r,(function(e){if((0,jb.Z)(e,["Input","Select"])){var n=(0,jb.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),D=A[0],M=A[1],T=e.useState((function(){var t=!1;return r&&e.Children.forEach(r,(function(e){(0,jb.Z)(e,["Input","Select"])&&Cb(e.props,!0)&&(t=!0)})),t})),P=T[0],O=T[1],R=e.useState(!1),F=R[0],N=R[1],I=void 0!==m?m:F;f&&I&&N(!1);var B=e.useCallback((function(){O(!0)}),[]),L={adornedStart:D,setAdornedStart:M,color:u,disabled:f,error:h,filled:P,focused:I,fullWidth:v,hiddenLabel:y,margin:("small"===E?"dense":void 0)||_,onBlur:function(){N(!1)},onEmpty:e.useCallback((function(){O(!1)}),[]),onFilled:B,onFocus:function(){N(!0)},registerEffect:undefined,required:w,variant:k};return e.createElement(mb.Provider,{value:L},e.createElement(l,(0,$g.Z)({className:(0,Jg.default)(i.root,a,"none"!==_&&i["margin".concat((0,ey.Z)(_))],v&&i.fullWidth),ref:n},S),r))})),Zb=(0,Qg.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(Wb),Vb=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.component,u=void 0===o?"p":o,s=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,Kg.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),l=pb({props:t,muiFormControl:Ib(),states:["variant","margin","disabled","error","filled","focused","required"]});return e.createElement(u,(0,$g.Z)({className:(0,Jg.default)(i.root,("filled"===l.variant||"outlined"===l.variant)&&i.contained,a,l.disabled&&i.disabled,l.error&&i.error,l.filled&&i.filled,l.focused&&i.focused,l.required&&i.required,"dense"===l.margin&&i.marginDense),ref:n},s)," "===r?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)})),Hb=(0,Qg.Z)((function(e){return{root:(0,$g.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(Vb),Gb=r(5352);r(3413);function qb(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Yb={entering:{opacity:1,transform:qb(1)},entered:{opacity:1,transform:"none"}},Xb=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,o=void 0!==i&&i,u=t.in,s=t.onEnter,l=t.onEntered,c=t.onEntering,f=t.onExit,d=t.onExited,h=t.onExiting,p=t.style,v=t.timeout,m=void 0===v?"auto":v,g=t.TransitionComponent,y=void 0===g?zy:g,b=(0,Kg.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=e.useRef(),x=e.useRef(),w=Wy(),E=w.unstable_strictMode&&!o,C=e.useRef(null),k=(0,oy.Z)(r.ref,n),S=(0,oy.Z)(E?C:void 0,k),A=function(e){return function(t,n){if(e){var r=E?[C.current,t]:[t,n],i=(0,a.Z)(r,2),o=i[0],u=i[1];void 0===u?e(o):e(o,u)}}},D=A(c),M=A((function(e,t){Zy(e);var n,r=Vy({style:p,timeout:m},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===m?(n=w.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[w.transitions.create("opacity",{duration:n,delay:a}),w.transitions.create("transform",{duration:.666*n,delay:a})].join(","),s&&s(e,t)})),T=A(l),P=A(h),O=A((function(e){var t,n=Vy({style:p,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(t=w.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[w.transitions.create("opacity",{duration:t,delay:i}),w.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=qb(.75),f&&f(e)})),R=A(d);return e.useEffect((function(){return function(){clearTimeout(_.current)}}),[]),e.createElement(y,(0,$g.Z)({appear:!0,in:u,nodeRef:E?C:void 0,onEnter:M,onEntered:T,onEntering:D,onExit:O,onExited:R,onExiting:P,addEndListener:function(e,t){var n=E?e:t;"auto"===m&&(_.current=setTimeout(n,x.current||0))},timeout:"auto"===m?null:m},b),(function(t,n){return e.cloneElement(r,(0,$g.Z)({style:(0,$g.Z)({opacity:0,transform:qb(.75),visibility:"exited"!==t||u?void 0:"hidden"},Yb[t],p,r.props.style),ref:S},n))}))}));Xb.muiSupportAuto=!0;var $b=Xb;function Kb(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Jb(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Qb(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function e_(e){return"function"===typeof e?e():e}var t_=e.forwardRef((function(t,n){var r=t.action,i=t.anchorEl,a=t.anchorOrigin,o=void 0===a?{vertical:"top",horizontal:"left"}:a,u=t.anchorPosition,s=t.anchorReference,l=void 0===s?"anchorEl":s,c=t.children,f=t.classes,d=t.className,h=t.container,p=t.elevation,v=void 0===p?8:p,m=t.getContentAnchorEl,g=t.marginThreshold,y=void 0===g?16:g,b=t.onEnter,_=t.onEntered,x=t.onEntering,w=t.onExit,E=t.onExited,C=t.onExiting,k=t.open,S=t.PaperProps,A=void 0===S?{}:S,D=t.transformOrigin,M=void 0===D?{vertical:"top",horizontal:"left"}:D,T=t.TransitionComponent,P=void 0===T?$b:T,O=t.transitionDuration,R=void 0===O?"auto":O,F=t.TransitionProps,N=void 0===F?{}:F,I=(0,Kg.Z)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),B=e.useRef(),L=e.useCallback((function(e){if("anchorPosition"===l)return u;var t=e_(i),n=(t&&1===t.nodeType?t:(0,iy.Z)(B.current).body).getBoundingClientRect(),r=0===e?o.vertical:"center";return{top:n.top+Kb(n,r),left:n.left+Jb(n,o.horizontal)}}),[i,o.horizontal,o.vertical,u,l]),z=e.useCallback((function(e){var t=0;if(m&&"anchorEl"===l){var n=m(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[o.vertical,l,m]),U=e.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:Kb(e,M.vertical)+t,horizontal:Jb(e,M.horizontal)}}),[M.horizontal,M.vertical]),j=e.useCallback((function(e){var t=z(e),n={width:e.offsetWidth,height:e.offsetHeight},r=U(n,t);if("none"===l)return{top:null,left:null,transformOrigin:Qb(r)};var a=L(t),o=a.top-r.vertical,u=a.left-r.horizontal,s=o+n.height,c=u+n.width,f=(0,py.Z)(e_(i)),d=f.innerHeight-y,h=f.innerWidth-y;if(o<y){var p=o-y;o-=p,r.vertical+=p}else if(s>d){var v=s-d;o-=v,r.vertical+=v}if(u<y){var m=u-y;u-=m,r.horizontal+=m}else if(c>h){var g=c-h;u-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(u),"px"),transformOrigin:Qb(r)}}),[i,l,L,z,U,y]),W=e.useCallback((function(){var e=B.current;if(e){var t=j(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[j]),Z=e.useCallback((function(e){B.current=ty.findDOMNode(e)}),[]);e.useEffect((function(){k&&W()})),e.useImperativeHandle(r,(function(){return k?{updatePosition:function(){W()}}:null}),[k,W]),e.useEffect((function(){if(k){var e=(0,gb.Z)((function(){W()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[k,W]);var V=R;"auto"!==R||P.muiSupportAuto||(V=void 0);var H=h||(i?(0,iy.Z)(e_(i)).body:void 0);return e.createElement(Ay,(0,$g.Z)({container:H,open:k,ref:n,BackdropProps:{invisible:!0},className:(0,Jg.default)(f.root,d)},I),e.createElement(P,(0,$g.Z)({appear:!0,in:k,onEnter:b,onEntered:_,onExit:w,onExited:E,onExiting:C,timeout:V},N,{onEntering:(0,cy.Z)((function(e,t){x&&x(e,t),W()}),N.onEntering)}),e.createElement(Jy,(0,$g.Z)({elevation:v,ref:Z},A,{className:(0,Jg.default)(f.paper,A.className)}),c)))})),n_=(0,Qg.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(t_);var r_=e.createContext({}),i_=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.component,u=void 0===o?"ul":o,s=t.dense,l=void 0!==s&&s,c=t.disablePadding,f=void 0!==c&&c,d=t.subheader,h=(0,Kg.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),p=e.useMemo((function(){return{dense:l}}),[l]);return e.createElement(r_.Provider,{value:p},e.createElement(u,(0,$g.Z)({className:(0,Jg.default)(i.root,a,l&&i.dense,!f&&i.padding,d&&i.subheader),ref:n},h),d,r))})),a_=(0,Qg.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(i_);function o_(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function u_(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function s_(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function l_(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&s_(u,a)&&!s)return void u.focus();u=i(e,u,n)}}var c_="undefined"===typeof window?e.useEffect:e.useLayoutEffect,f_=e.forwardRef((function(t,n){var r=t.actions,i=t.autoFocus,a=void 0!==i&&i,o=t.autoFocusItem,u=void 0!==o&&o,s=t.children,l=t.className,c=t.disabledItemsFocusable,f=void 0!==c&&c,d=t.disableListWrap,h=void 0!==d&&d,p=t.onKeyDown,v=t.variant,m=void 0===v?"selectedMenu":v,g=(0,Kg.Z)(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),y=e.useRef(null),b=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});c_((function(){a&&y.current.focus()}),[a]),e.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(hy(),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var _=e.useCallback((function(e){y.current=ty.findDOMNode(e)}),[]),x=(0,oy.Z)(_,n),w=-1;e.Children.forEach(s,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===m&&t.props.selected||-1===w)&&(w=n))}));var E=e.Children.map(s,(function(t,n){if(n===w){var r={};return u&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===m&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return e.createElement(a_,(0,$g.Z)({role:"menu",ref:x,className:l,onKeyDown:function(e){var t=y.current,n=e.key,r=(0,iy.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),l_(t,r,h,f,o_);else if("ArrowUp"===n)e.preventDefault(),l_(t,r,h,f,u_);else if("Home"===n)e.preventDefault(),l_(t,null,h,f,o_);else if("End"===n)e.preventDefault(),l_(t,null,h,f,u_);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&s_(r,i);i.previousKeyMatched&&(u||l_(t,r,!1,f,o_,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:a?0:-1},g),E)})),d_=f_,h_={vertical:"top",horizontal:"right"},p_={vertical:"top",horizontal:"left"},v_=e.forwardRef((function(t,n){var r=t.autoFocus,i=void 0===r||r,a=t.children,o=t.classes,u=t.disableAutoFocusItem,s=void 0!==u&&u,l=t.MenuListProps,c=void 0===l?{}:l,f=t.onClose,d=t.onEntering,h=t.open,p=t.PaperProps,v=void 0===p?{}:p,m=t.PopoverClasses,g=t.transitionDuration,y=void 0===g?"auto":g,b=t.TransitionProps,_=(b=void 0===b?{}:b).onEntering,x=(0,Kg.Z)(b,["onEntering"]),w=t.variant,E=void 0===w?"selectedMenu":w,C=(0,Kg.Z)(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),k=Wy(),S=i&&!s&&h,A=e.useRef(null),D=e.useRef(null),M=-1;e.Children.map(a,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("menu"!==E&&t.props.selected||-1===M)&&(M=n))}));var T=e.Children.map(a,(function(t,n){return n===M?e.cloneElement(t,{ref:function(e){D.current=ty.findDOMNode(e),(0,ay.Z)(t.ref,e)}}):t}));return e.createElement(n_,(0,$g.Z)({getContentAnchorEl:function(){return D.current},classes:m,onClose:f,TransitionProps:(0,$g.Z)({onEntering:function(e,t){A.current&&A.current.adjustStyleForScrollbar(e,k),d&&d(e,t),_&&_(e,t)}},x),anchorOrigin:"rtl"===k.direction?h_:p_,transformOrigin:"rtl"===k.direction?h_:p_,PaperProps:(0,$g.Z)({},v,{classes:(0,$g.Z)({},v.classes,{root:o.paper})}),open:h,ref:n,transitionDuration:y},C),e.createElement(d_,(0,$g.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:A,autoFocus:i&&(-1===M||s),autoFocusItem:S,variant:E},c,{className:(0,Jg.default)(o.list,c.className)}),T))})),m_=(0,Qg.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(v_),g_=r(2497);function y_(e,t){return"object"===(0,h.Z)(t)&&null!==t?e===t:String(e)===String(t)}var b_=e.forwardRef((function(t,n){var r=t["aria-label"],i=t.autoFocus,o=t.autoWidth,u=t.children,s=t.classes,l=t.className,c=t.defaultValue,f=t.disabled,d=t.displayEmpty,h=t.IconComponent,p=t.inputRef,v=t.labelId,m=t.MenuProps,g=void 0===m?{}:m,y=t.multiple,b=t.name,_=t.onBlur,x=t.onChange,w=t.onClose,E=t.onFocus,C=t.onOpen,k=t.open,S=t.readOnly,A=t.renderValue,D=t.SelectDisplayProps,M=void 0===D?{}:D,T=t.tabIndex,P=(t.type,t.value),O=t.variant,R=void 0===O?"standard":O,F=(0,Kg.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),N=(0,g_.Z)({controlled:P,default:c,name:"Select"}),I=(0,a.Z)(N,2),B=I[0],L=I[1],z=e.useRef(null),U=e.useState(null),j=U[0],W=U[1],Z=e.useRef(null!=k).current,V=e.useState(),H=V[0],G=V[1],q=e.useState(!1),Y=q[0],X=q[1],$=(0,oy.Z)(n,p);e.useImperativeHandle($,(function(){return{focus:function(){j.focus()},node:z.current,value:B}}),[j,B]),e.useEffect((function(){i&&j&&j.focus()}),[i,j]),e.useEffect((function(){if(j){var e=(0,iy.Z)(j).getElementById(v);if(e){var t=function(){getSelection().isCollapsed&&j.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[v,j]);var K,J,Q=function(e,t){e?C&&C(t):w&&w(t),Z||(G(o?null:j.clientWidth),X(e))},ee=e.Children.toArray(u),te=function(e){return function(t){var n;if(y||Q(!1,t),y){n=Array.isArray(B)?B.slice():[];var r=B.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),B!==n&&(L(n),x&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:b}}),x(t,e)))}},ne=null!==j&&(Z?k:Y);delete F["aria-invalid"];var re=[],ie=!1;(Cb({value:B})||d)&&(A?K=A(B):ie=!0);var ae=ee.map((function(t){if(!e.isValidElement(t))return null;var n;if(y){if(!Array.isArray(B))throw new Error((0,hb.Z)(2));n=B.some((function(e){return y_(e,t.props.value)})),n&&ie&&re.push(t.props.children)}else(n=y_(B,t.props.value))&&ie&&(J=t.props.children);return n&&!0,e.cloneElement(t,{"aria-selected":n?"true":void 0,onClick:te(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));ie&&(K=y?re.join(", "):J);var oe,ue=H;!o&&Z&&j&&(ue=j.clientWidth),oe="undefined"!==typeof T?T:f?null:0;var se=M.id||(b?"mui-component-select-".concat(b):void 0);return e.createElement(e.Fragment,null,e.createElement("div",(0,$g.Z)({className:(0,Jg.default)(s.root,s.select,s.selectMenu,s[R],l,f&&s.disabled),ref:W,tabIndex:oe,role:"button","aria-disabled":f?"true":void 0,"aria-expanded":ne?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!S){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Q(!0,e))}},onMouseDown:f||S?null:function(e){0===e.button&&(e.preventDefault(),j.focus(),Q(!0,e))},onBlur:function(e){!ne&&_&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:b}}),_(e))},onFocus:E},M,{id:se}),function(e){return null==e||"string"===typeof e&&!e.trim()}(K)?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):K),e.createElement("input",(0,$g.Z)({value:Array.isArray(B)?B.join(","):B,name:b,ref:z,"aria-hidden":!0,onChange:function(e){var t=ee.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ee[t];L(n.props.value),x&&x(e,n)}},tabIndex:-1,className:s.nativeInput,autoFocus:i},F)),e.createElement(h,{className:(0,Jg.default)(s.icon,s["icon".concat((0,ey.Z)(R))],ne&&s.iconOpen,f&&s.disabled)}),e.createElement(m_,(0,$g.Z)({id:"menu-".concat(b||""),anchorEl:j,open:ne,onClose:function(e){Q(!1,e)}},g,{MenuListProps:(0,$g.Z)({"aria-labelledby":v,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:(0,$g.Z)({},g.PaperProps,{style:(0,$g.Z)({minWidth:ue},null!=g.PaperProps?g.PaperProps.style:null)})}),ae))})),__=b_,x_=r(8499),w_=(0,x_.Z)(e.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),E_=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.disabled,o=t.IconComponent,u=t.inputRef,s=t.variant,l=void 0===s?"standard":s,c=(0,Kg.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return e.createElement(e.Fragment,null,e.createElement("select",(0,$g.Z)({className:(0,Jg.default)(r.root,r.select,r[l],i,a&&r.disabled),disabled:a,ref:u||n},c)),t.multiple?null:e.createElement(o,{className:(0,Jg.default)(r.icon,r["icon".concat((0,ey.Z)(l))],a&&r.disabled)}))})),C_=E_,k_=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},S_=e.createElement(Mb,null),A_=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.IconComponent,o=void 0===a?w_:a,u=t.input,s=void 0===u?S_:u,l=t.inputProps,c=(t.variant,(0,Kg.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),f=pb({props:t,muiFormControl:Ib(),states:["variant"]});return e.cloneElement(s,(0,$g.Z)({inputComponent:C_,inputProps:(0,$g.Z)({children:r,classes:i,IconComponent:o,variant:f.variant,type:void 0},l,s?s.props.inputProps:{}),ref:n},c))}));A_.muiName="Select";(0,Qg.Z)(k_,{name:"MuiNativeSelect"})(A_);var D_=k_,M_=e.createElement(Mb,null),T_=e.createElement(Pb,null),P_=e.forwardRef((function t(n,r){var i=n.autoWidth,a=void 0!==i&&i,o=n.children,u=n.classes,s=n.displayEmpty,l=void 0!==s&&s,c=n.IconComponent,f=void 0===c?w_:c,d=n.id,h=n.input,p=n.inputProps,v=n.label,m=n.labelId,g=n.labelWidth,y=void 0===g?0:g,b=n.MenuProps,_=n.multiple,x=void 0!==_&&_,w=n.native,E=void 0!==w&&w,C=n.onClose,k=n.onOpen,S=n.open,A=n.renderValue,D=n.SelectDisplayProps,M=n.variant,T=void 0===M?"standard":M,P=(0,Kg.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),O=E?C_:__,R=pb({props:n,muiFormControl:Ib(),states:["variant"]}).variant||T,F=h||{standard:M_,outlined:e.createElement(Nb,{label:v,labelWidth:y}),filled:T_}[R];return e.cloneElement(F,(0,$g.Z)({inputComponent:O,inputProps:(0,$g.Z)({children:o,IconComponent:f,variant:R,type:void 0,multiple:x},E?{id:d}:{autoWidth:a,displayEmpty:l,labelId:m,MenuProps:b,onClose:C,onOpen:k,open:S,renderValue:A,SelectDisplayProps:(0,$g.Z)({id:d},D)},p,{classes:p?(0,Gb.Z)({baseClasses:u,newClasses:p.classes,Component:t}):u},h?h.props.inputProps:{}),ref:r},P))}));P_.muiName="Select";var O_=(0,Qg.Z)(D_,{name:"MuiSelect"})(P_),R_={standard:Mb,filled:Pb,outlined:Nb},F_=e.forwardRef((function(t,n){var r=t.autoComplete,i=t.autoFocus,a=void 0!==i&&i,o=t.children,u=t.classes,s=t.className,l=t.color,c=void 0===l?"primary":l,f=t.defaultValue,d=t.disabled,h=void 0!==d&&d,p=t.error,v=void 0!==p&&p,m=t.FormHelperTextProps,g=t.fullWidth,y=void 0!==g&&g,b=t.helperText,_=t.hiddenLabel,x=t.id,w=t.InputLabelProps,E=t.inputProps,C=t.InputProps,k=t.inputRef,S=t.label,A=t.multiline,D=void 0!==A&&A,M=t.name,T=t.onBlur,P=t.onChange,O=t.onFocus,R=t.placeholder,F=t.required,N=void 0!==F&&F,I=t.rows,B=t.rowsMax,L=t.maxRows,z=t.minRows,U=t.select,j=void 0!==U&&U,W=t.SelectProps,Z=t.type,V=t.value,H=t.variant,G=void 0===H?"standard":H,q=(0,Kg.Z)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Y={};if("outlined"===G&&(w&&"undefined"!==typeof w.shrink&&(Y.notched=w.shrink),S)){var X,$=null!==(X=null===w||void 0===w?void 0:w.required)&&void 0!==X?X:N;Y.label=e.createElement(e.Fragment,null,S,$&&"\xa0*")}j&&(W&&W.native||(Y.id=void 0),Y["aria-describedby"]=void 0);var K=b&&x?"".concat(x,"-helper-text"):void 0,J=S&&x?"".concat(x,"-label"):void 0,Q=R_[G],ee=e.createElement(Q,(0,$g.Z)({"aria-describedby":K,autoComplete:r,autoFocus:a,defaultValue:f,fullWidth:y,multiline:D,name:M,rows:I,rowsMax:B,maxRows:L,minRows:z,type:Z,value:V,id:x,inputRef:k,onBlur:T,onChange:P,onFocus:O,placeholder:R,inputProps:E},Y,C));return e.createElement(Zb,(0,$g.Z)({className:(0,Jg.default)(u.root,s),disabled:h,error:v,fullWidth:y,hiddenLabel:_,ref:n,required:N,color:c,variant:G},q),S&&e.createElement(Ub,(0,$g.Z)({htmlFor:x,id:J},w),S),j?e.createElement(O_,(0,$g.Z)({"aria-describedby":K,id:x,labelId:J,value:V,input:ee},W),o):ee,b&&e.createElement(Hb,(0,$g.Z)({id:K},m),b))})),N_=(0,Qg.Z)({root:{}},{name:"MuiTextField"})(F_),I_=r(3108),B_=r(1175);function L_(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function z_(e,t,n){return null!=n[t]?n[t]:e.props[t]}function U_(t,n,r){var i=L_(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var l=i[s][r];u[i[s][r]]=n(l)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,e.isValidElement)(u)){var s=o in n,l=o in i,c=n[o],f=(0,e.isValidElement)(c)&&!c.props.in;!l||s&&!f?l||!s||f?l&&s&&(0,e.isValidElement)(c)&&(a[o]=(0,e.cloneElement)(u,{onExited:r.bind(null,u),in:c.props.in,exit:z_(u,"exit",t),enter:z_(u,"enter",t)})):a[o]=(0,e.cloneElement)(u,{in:!1}):a[o]=(0,e.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:z_(u,"exit",t),enter:z_(u,"enter",t)})}})),a}var j_=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},W_=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,p.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,My.Z)(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,L_(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:z_(t,"appear",r),enter:z_(t,"enter",r),exit:z_(t,"exit",r)})}))):U_(t,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=L_(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,$g.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,Dy.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=j_(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Py.Provider,{value:a},o):e.createElement(Py.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);W_.propTypes={},W_.defaultProps={component:"div",childFactory:function(e){return e}};var Z_=W_,V_="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var H_=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,u=t.rippleSize,s=t.in,l=t.onExited,c=void 0===l?function(){}:l,f=t.timeout,d=e.useState(!1),h=d[0],p=d[1],v=(0,Jg.default)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+a},g=(0,Jg.default)(n.child,h&&n.childLeaving,i&&n.childPulsate),y=(0,fy.Z)(c);return V_((function(){if(!s){p(!0);var e=setTimeout(y,f);return function(){clearTimeout(e)}}}),[y,s,f]),e.createElement("span",{className:v,style:m},e.createElement("span",{className:g}))},G_=e.forwardRef((function(t,n){var r=t.center,i=void 0!==r&&r,a=t.classes,u=t.className,s=(0,Kg.Z)(t,["center","classes","className"]),l=e.useState([]),c=l[0],f=l[1],d=e.useRef(0),h=e.useRef(null);e.useEffect((function(){h.current&&(h.current(),h.current=null)}),[c]);var p=e.useRef(!1),v=e.useRef(null),m=e.useRef(null),g=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(v.current)}}),[]);var y=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,u=t.rippleSize,s=t.cb;f((function(t){return[].concat((0,o.Z)(t),[e.createElement(H_,{key:d.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:u})])})),d.current+=1,h.current=s}),[a]),b=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,u=void 0===o?i||t.pulsate:o,s=t.fakeElement,l=void 0!==s&&s;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var c,f,d,h=l?null:g.current,b=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(b.width/2),f=Math.round(b.height/2);else{var _=e.touches?e.touches[0]:e,x=_.clientX,w=_.clientY;c=Math.round(x-b.left),f=Math.round(w-b.top)}if(u)(d=Math.sqrt((2*Math.pow(b.width,2)+Math.pow(b.height,2))/3))%2===0&&(d+=1);else{var E=2*Math.max(Math.abs((h?h.clientWidth:0)-c),c)+2,C=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(E,2)+Math.pow(C,2))}e.touches?null===m.current&&(m.current=function(){y({pulsate:a,rippleX:c,rippleY:f,rippleSize:d,cb:n})},v.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):y({pulsate:a,rippleX:c,rippleY:f,rippleSize:d,cb:n})}}),[i,y]),_=e.useCallback((function(){b({},{pulsate:!0})}),[b]),x=e.useCallback((function(e,t){if(clearTimeout(v.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(v.current=setTimeout((function(){x(e,t)})));m.current=null,f((function(e){return e.length>0?e.slice(1):e})),h.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:_,start:b,stop:x}}),[_,b,x]),e.createElement("span",(0,$g.Z)({className:(0,Jg.default)(a.root,u),ref:g},s),e.createElement(Z_,{component:null,exit:!0},c))})),q_=(0,Qg.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(G_)),Y_=e.forwardRef((function(t,n){var r=t.action,i=t.buttonRef,a=t.centerRipple,o=void 0!==a&&a,u=t.children,s=t.classes,l=t.className,c=t.component,f=void 0===c?"button":c,d=t.disabled,h=void 0!==d&&d,p=t.disableRipple,v=void 0!==p&&p,m=t.disableTouchRipple,g=void 0!==m&&m,y=t.focusRipple,b=void 0!==y&&y,_=t.focusVisibleClassName,x=t.onBlur,w=t.onClick,E=t.onFocus,C=t.onFocusVisible,k=t.onKeyDown,S=t.onKeyUp,A=t.onMouseDown,D=t.onMouseLeave,M=t.onMouseUp,T=t.onTouchEnd,P=t.onTouchMove,O=t.onTouchStart,R=t.onDragLeave,F=t.tabIndex,N=void 0===F?0:F,I=t.TouchRippleProps,B=t.type,L=void 0===B?"button":B,z=(0,Kg.Z)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),U=e.useRef(null);var j=e.useRef(null),W=e.useState(!1),Z=W[0],V=W[1];h&&Z&&V(!1);var H=(0,B_.Z)(),G=H.isFocusVisible,q=H.onBlurVisible,Y=H.ref;function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return(0,fy.Z)((function(r){return t&&t(r),!n&&j.current&&j.current[e](r),!0}))}e.useImperativeHandle(r,(function(){return{focusVisible:function(){V(!0),U.current.focus()}}}),[]),e.useEffect((function(){Z&&b&&!v&&j.current.pulsate()}),[v,b,Z]);var $=X("start",A),K=X("stop",R),J=X("stop",M),Q=X("stop",(function(e){Z&&e.preventDefault(),D&&D(e)})),ee=X("start",O),te=X("stop",T),ne=X("stop",P),re=X("stop",(function(e){Z&&(q(e),V(!1)),x&&x(e)}),!1),ie=(0,fy.Z)((function(e){U.current||(U.current=e.currentTarget),G(e)&&(V(!0),C&&C(e)),E&&E(e)})),ae=function(){var e=ty.findDOMNode(U.current);return f&&"button"!==f&&!("A"===e.tagName&&e.href)},oe=e.useRef(!1),ue=(0,fy.Z)((function(e){b&&!oe.current&&Z&&j.current&&" "===e.key&&(oe.current=!0,e.persist(),j.current.stop(e,(function(){j.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),k&&k(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!h&&(e.preventDefault(),w&&w(e))})),se=(0,fy.Z)((function(e){b&&" "===e.key&&j.current&&Z&&!e.defaultPrevented&&(oe.current=!1,e.persist(),j.current.stop(e,(function(){j.current.pulsate(e)}))),S&&S(e),w&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&w(e)})),le=f;"button"===le&&z.href&&(le="a");var ce={};"button"===le?(ce.type=L,ce.disabled=h):("a"===le&&z.href||(ce.role="button"),ce["aria-disabled"]=h);var fe=(0,oy.Z)(i,n),de=(0,oy.Z)(Y,U),he=(0,oy.Z)(fe,de),pe=e.useState(!1),ve=pe[0],me=pe[1];e.useEffect((function(){me(!0)}),[]);var ge=ve&&!v&&!h;return e.createElement(le,(0,$g.Z)({className:(0,Jg.default)(s.root,l,Z&&[s.focusVisible,_],h&&s.disabled),onBlur:re,onClick:w,onFocus:ie,onKeyDown:ue,onKeyUp:se,onMouseDown:$,onMouseLeave:Q,onMouseUp:J,onDragLeave:K,onTouchEnd:te,onTouchMove:ne,onTouchStart:ee,ref:he,tabIndex:h?-1:N},ce,z),u,ge?e.createElement(q_,(0,$g.Z)({ref:j,center:o},I)):null)})),X_=(0,Qg.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(Y_),$_=e.forwardRef((function(t,n){var r=t.edge,i=void 0!==r&&r,a=t.children,o=t.classes,u=t.className,s=t.color,l=void 0===s?"default":s,c=t.disabled,f=void 0!==c&&c,d=t.disableFocusRipple,h=void 0!==d&&d,p=t.size,v=void 0===p?"medium":p,m=(0,Kg.Z)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(X_,(0,$g.Z)({className:(0,Jg.default)(o.root,u,"default"!==l&&o["color".concat((0,ey.Z)(l))],f&&o.disabled,"small"===v&&o["size".concat((0,ey.Z)(v))],{start:o.edgeStart,end:o.edgeEnd}[i]),centerRipple:!0,focusRipple:!h,disabled:f,ref:n},m),e.createElement("span",{className:o.label},a))})),K_=(0,Qg.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,I_.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,I_.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,I_.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})($_),J_=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.color,u=void 0===o?"default":o,s=t.component,l=void 0===s?"button":s,c=t.disabled,f=void 0!==c&&c,d=t.disableElevation,h=void 0!==d&&d,p=t.disableFocusRipple,v=void 0!==p&&p,m=t.endIcon,g=t.focusVisibleClassName,y=t.fullWidth,b=void 0!==y&&y,_=t.size,x=void 0===_?"medium":_,w=t.startIcon,E=t.type,C=void 0===E?"button":E,k=t.variant,S=void 0===k?"text":k,A=(0,Kg.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),D=w&&e.createElement("span",{className:(0,Jg.default)(i.startIcon,i["iconSize".concat((0,ey.Z)(x))])},w),M=m&&e.createElement("span",{className:(0,Jg.default)(i.endIcon,i["iconSize".concat((0,ey.Z)(x))])},m);return e.createElement(X_,(0,$g.Z)({className:(0,Jg.default)(i.root,i[S],a,"inherit"===u?i.colorInherit:"default"!==u&&i["".concat(S).concat((0,ey.Z)(u))],"medium"!==x&&[i["".concat(S,"Size").concat((0,ey.Z)(x))],i["size".concat((0,ey.Z)(x))]],h&&i.disableElevation,f&&i.disabled,b&&i.fullWidth),component:l,disabled:f,focusRipple:!v,focusVisibleClassName:(0,Jg.default)(i.focusVisible,g),ref:n,type:C},A),e.createElement("span",{className:i.label},D,r,M))})),Q_=(0,Qg.Z)((function(e){return{root:(0,$g.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,I_.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,I_.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,I_.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,I_.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,I_.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,I_.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,I_.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(J_),ex=r(1079),tx=r(8388);var nx=function(){var t=em().currentUser,n=Sv($v,"stories/".concat(null===t||void 0===t?void 0:t.uid,"/summary")),r=Sv($v,"stories/".concat(null===t||void 0===t?void 0:t.uid,"/title")),i=(0,e.useState)(!1),o=(0,a.Z)(i,2),u=o[0],s=o[1],l=(0,e.useState)(""),c=(0,a.Z)(l,2),f=c[0],d=c[1],h=(0,e.useState)(""),p=(0,a.Z)(h,2),v=p[0],m=p[1],g=(0,e.useState)(!1),y=(0,a.Z)(g,2),b=y[0],_=y[1],x=(0,e.useState)(!1),w=(0,a.Z)(x,2),E=w[0],C=w[1];(0,e.useEffect)((function(){var e=Nv(n,(function(e){var t=e.val();d(t||"")})),t=Nv(r,(function(e){var t=e.val();m(t||"")}));return function(){e(),t()}}),[]);var k=function(){s(!1)};return(0,Kv.jsxs)("div",{className:"center",children:[(0,Kv.jsxs)("div",{className:"profile",children:[(0,Kv.jsx)("h1",{children:"Profile"}),(0,Kv.jsxs)("p",{children:[(0,Kv.jsx)("strong",{children:"Email: "}),null===t||void 0===t?void 0:t.email]}),(0,Kv.jsxs)("p",{children:[(0,Kv.jsx)("strong",{children:"Email Verified: "}),"".concat(null===t||void 0===t?void 0:t.emailVerified)]}),t&&(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)("strong",{children:"Story Title: "}),b?(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)(N_,{value:v,onChange:function(e){return m(e.target.value)}}),(0,Kv.jsx)(K_,{onClick:function(){Mv(r,v),_(!1)},children:(0,Kv.jsx)(tx.Z,{})})]}):(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)("span",{children:v}),(0,Kv.jsx)(K_,{onClick:function(){return _(!0)},children:(0,Kv.jsx)(ex.Z,{})})]})]}),(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)("strong",{children:"Story Summary: "}),E?(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)("textarea",{rows:"40",cols:"150",value:f,onChange:function(e){return d(e.target.value)}}),(0,Kv.jsx)(K_,{onClick:function(){Mv(n,f),C(!1)},children:(0,Kv.jsx)(tx.Z,{})})]}):(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)("span",{children:f}),(0,Kv.jsx)(K_,{onClick:function(){return C(!0)},children:(0,Kv.jsx)(ex.Z,{})})]})]}),(0,Kv.jsx)(Q_,{variant:"contained",color:"secondary",onClick:function(){s(!0)},children:"Delete Account"}),(0,Kv.jsx)("span",{onClick:function(){return function(e){return Kt(e).signOut()}(Xv)},children:"Sign Out"})]})]}),(0,Kv.jsxs)(tb,{open:u,onClose:k,children:[(0,Kv.jsx)(db,{children:"Are you sure you want to delete your account?"}),(0,Kv.jsx)(ab,{children:(0,Kv.jsx)(cb,{children:"This action cannot be undone."})}),(0,Kv.jsxs)(rb,{children:[(0,Kv.jsx)(Q_,{onClick:k,color:"primary",children:"No"}),(0,Kv.jsx)(Q_,{onClick:function(){Dv(Sv($v,"users/".concat(t.uid))).then((function(){t.delete()})).catch((function(e){console.log(e)}))},color:"secondary",children:"Yes"})]})]})]})};var rx=function(){var t=(0,e.useState)(""),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,e.useState)(""),u=(0,a.Z)(o,2),s=u[0],l=u[1],c=(0,e.useState)(""),f=(0,a.Z)(c,2),d=f[0],h=f[1],p=em().setTimeActive,v=we();return(0,Kv.jsx)("div",{className:"center",children:(0,Kv.jsxs)("div",{className:"auth",children:[(0,Kv.jsx)("h1",{children:"Sign In"}),d&&(0,Kv.jsx)("div",{className:"auth__error",children:d}),(0,Kv.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e,t,n){return Xu(Kt(e),Tu.credential(t,n))}(Xv,r,s).then((function(){Xv.currentUser.emailVerified?v("/"):Qu(Xv.currentUser).then((function(){p(!0),v("/verify-email")})).catch((function(e){return alert(e.message)}))})).catch((function(e){return h(e.message)}))},name:"login_form",children:[(0,Kv.jsx)("input",{type:"email",value:r,required:!0,placeholder:"Enter your email",onChange:function(e){return i(e.target.value)}}),(0,Kv.jsx)("input",{type:"password",value:s,required:!0,placeholder:"Enter your password",onChange:function(e){return l(e.target.value)}}),(0,Kv.jsx)("button",{type:"submit",children:"Sign In"})]}),(0,Kv.jsxs)("p",{children:["Don't have and account?",(0,Kv.jsx)(Ge,{to:"/register",children:"Create one here"})]})]})})};function ix(e,t){return function(){return e.apply(t,arguments)}}var ax=Object.prototype.toString,ox=Object.getPrototypeOf,ux=function(e){return function(t){var n=ax.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),sx=function(e){return e=e.toLowerCase(),function(t){return ux(t)===e}},lx=function(e){return function(t){return typeof t===e}},cx=Array.isArray,fx=lx("undefined");var dx=sx("ArrayBuffer");var hx=lx("string"),px=lx("function"),vx=lx("number"),mx=function(e){return null!==e&&"object"===typeof e},gx=function(e){if("object"!==ux(e))return!1;var t=ox(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yx=sx("Date"),bx=sx("File"),_x=sx("Blob"),xx=sx("FileList"),wx=sx("URLSearchParams");function Ex(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),cx(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function Cx(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var kx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Sx=function(e){return!fx(e)&&e!==kx};var Ax,Dx=(Ax="undefined"!==typeof Uint8Array&&ox(Uint8Array),function(e){return Ax&&e instanceof Ax}),Mx=sx("HTMLFormElement"),Tx=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Px=sx("RegExp"),Ox=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Ex(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},Rx="abcdefghijklmnopqrstuvwxyz",Fx="0123456789",Nx={DIGIT:Fx,ALPHA:Rx,ALPHA_DIGIT:Rx+Rx.toUpperCase()+Fx};var Ix={isArray:cx,isArrayBuffer:dx,isBuffer:function(e){return null!==e&&!fx(e)&&null!==e.constructor&&!fx(e.constructor)&&px(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||ax.call(e)===t||px(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&dx(e.buffer)},isString:hx,isNumber:vx,isBoolean:function(e){return!0===e||!1===e},isObject:mx,isPlainObject:gx,isUndefined:fx,isDate:yx,isFile:bx,isBlob:_x,isRegExp:Px,isFunction:px,isStream:function(e){return mx(e)&&px(e.pipe)},isURLSearchParams:wx,isTypedArray:Dx,isFileList:xx,forEach:Ex,merge:function e(){for(var t=(Sx(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&Cx(n,i)||i;gx(n[a])&&gx(r)?n[a]=e(n[a],r):gx(r)?n[a]=e({},r):cx(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Ex(arguments[i],r);return n},extend:function(e,t,n){return Ex(t,(function(t,r){n&&px(t)?e[r]=ix(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&ox(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:ux,kindOfTest:sx,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(cx(e))return e;var t=e.length;if(!vx(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Mx,hasOwnProperty:Tx,hasOwnProp:Tx,reduceDescriptors:Ox,freezeMethods:function(e){Ox(e,(function(t,n){if(px(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];px(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return cx(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Cx,global:kx,isContextDefined:Sx,ALPHABET:Nx,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nx.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&px(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(mx(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=cx(n)?[]:{};return Ex(n,(function(t,n){var a=e(t,r+1);!fx(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)}};function Bx(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Ix.inherits(Bx,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ix.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Lx=Bx.prototype,zx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){zx[e]={value:e}})),Object.defineProperties(Bx,zx),Object.defineProperty(Lx,"isAxiosError",{value:!0}),Bx.from=function(e,t,n,r,i,a){var o=Object.create(Lx);return Ix.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Bx.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Ux=Bx,jx=null;function Wx(e){return Ix.isPlainObject(e)||Ix.isArray(e)}function Zx(e){return Ix.endsWith(e,"[]")?e.slice(0,-2):e}function Vx(e,t,n){return e?e.concat(t).map((function(e,t){return e=Zx(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Hx=Ix.toFlatObject(Ix,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Gx=function(e,t,n){if(!Ix.isObject(e))throw new TypeError("target must be an object");t=t||new(jx||FormData);var r=(n=Ix.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ix.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ix.isSpecCompliantForm(t);if(!Ix.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Ix.isDate(e))return e.toISOString();if(!u&&Ix.isBlob(e))throw new Ux("Blob is not supported. Use a Buffer instead.");return Ix.isArrayBuffer(e)||Ix.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(Ix.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ix.isArray(e)&&function(e){return Ix.isArray(e)&&!e.some(Wx)}(e)||(Ix.isFileList(e)||Ix.endsWith(n,"[]"))&&(u=Ix.toArray(e)))return n=Zx(n),u.forEach((function(e,r){!Ix.isUndefined(e)&&null!==e&&t.append(!0===o?Vx([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!Wx(e)||(t.append(Vx(i,n,a),s(e)),!1)}var c=[],f=Object.assign(Hx,{defaultVisitor:l,convertValue:s,isVisitable:Wx});if(!Ix.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ix.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Ix.forEach(n,(function(n,a){!0===(!(Ix.isUndefined(n)||null===n)&&i.call(t,n,Ix.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function qx(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Yx(e,t){this._pairs=[],e&&Gx(e,this,t)}var Xx=Yx.prototype;Xx.append=function(e,t){this._pairs.push([e,t])},Xx.toString=function(e){var t=e?function(t){return e.call(this,t,qx)}:qx;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var $x=Yx;function Kx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jx(e,t,n){if(!t)return e;var r,i=n&&n.encode||Kx,a=n&&n.serialize;if(r=a?a(t,n):Ix.isURLSearchParams(t)?t.toString():new $x(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var Qx=function(){function e(){u(this,e),this.handlers=[]}return(0,s.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Ix.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),ew=Qx,tw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nw={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:$x,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var rw=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Ix.isArray(r)?r.length:a,u?(Ix.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Ix.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Ix.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Ix.isFormData(e)&&Ix.isFunction(e.entries)){var n={};return Ix.forEachEntry(e,(function(e,r){t(function(e){return Ix.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},iw={"Content-Type":void 0};var aw={transitional:tw,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Ix.isObject(e);if(a&&Ix.isHTMLForm(e)&&(e=new FormData(e)),Ix.isFormData(e))return i&&i?JSON.stringify(rw(e)):e;if(Ix.isArrayBuffer(e)||Ix.isBuffer(e)||Ix.isStream(e)||Ix.isFile(e)||Ix.isBlob(e))return e;if(Ix.isArrayBufferView(e))return e.buffer;if(Ix.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Gx(e,new nw.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return nw.isNode&&Ix.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Ix.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Gx(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Ix.isString(e))try{return(t||JSON.parse)(e),Ix.trim(e)}catch(pW){if("SyntaxError"!==pW.name)throw pW}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||aw.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Ix.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(pW){if(i){if("SyntaxError"===pW.name)throw Ux.from(pW,Ux.ERR_BAD_RESPONSE,this,null,this.response);throw pW}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nw.classes.FormData,Blob:nw.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ix.forEach(["delete","get","head"],(function(e){aw.headers[e]={}})),Ix.forEach(["post","put","patch"],(function(e){aw.headers[e]=Ix.merge(iw)}));var ow=aw,uw=Ix.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sw=Symbol("internals");function lw(e){return e&&String(e).trim().toLowerCase()}function cw(e){return!1===e||null==e?e:Ix.isArray(e)?e.map(cw):String(e)}function fw(e,t,n,r,i){return Ix.isFunction(r)?r.call(this,t,n):(i&&(t=n),Ix.isString(t)?Ix.isString(r)?-1!==t.indexOf(r):Ix.isRegExp(r)?r.test(t):void 0:void 0)}var dw=function(e,t){function n(e){u(this,n),e&&this.set(e)}return(0,s.Z)(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=lw(t);if(!i)throw new Error("header name must be a non-empty string");var a=Ix.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=cw(e))}var a=function(e,t){return Ix.forEach(e,(function(e,n){return i(e,n,t)}))};return Ix.isPlainObject(e)||e instanceof this.constructor?a(e,t):Ix.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&uw[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=lw(e)){var n=Ix.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Ix.isFunction(t))return t.call(this,r,n);if(Ix.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=lw(e)){var n=Ix.findKey(this,e);return!(!n||void 0===this[n]||t&&!fw(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=lw(e)){var i=Ix.findKey(n,e);!i||t&&!fw(0,n[i],i,t)||(delete n[i],r=!0)}}return Ix.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!fw(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Ix.forEach(this,(function(r,i){var a=Ix.findKey(n,i);if(a)return t[a]=cw(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=cw(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Ix.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Ix.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,a.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[sw]=this[sw]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=lw(e);t[r]||(!function(e,t){var n=Ix.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Ix.isArray(e)?e.forEach(r):r(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);dw.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ix.freezeMethods(dw.prototype),Ix.freezeMethods(dw);var hw=dw;function pw(e,t){var n=this||ow,r=t||n,i=hw.from(r.headers),a=r.data;return Ix.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function vw(e){return!(!e||!e.__CANCEL__)}function mw(e,t,n){Ux.call(this,null==e?"canceled":e,Ux.ERR_CANCELED,t,n),this.name="CanceledError"}Ix.inherits(mw,Ux,{__CANCEL__:!0});var gw=mw;var yw=nw.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Ix.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ix.isString(r)&&o.push("path="+r),Ix.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function bw(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var _w=nw.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Ix.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var xw=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),l=i[o];n||(n=s),r[a]=u,i[a]=s;for(var c=o,f=0;c!==a;)f+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var d=l&&s-l;return d?Math.round(1e3*f/d):void 0}}};function ww(e,t){var n=0,r=xw(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var Ew="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=hw.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Ix.isFormData(i)&&(nw.isStandardBrowserEnv||nw.isStandardBrowserWebWorkerEnv)&&a.setContentType(!1);var s=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+c))}var f=bw(e.baseURL,e.url);function d(){if(s){var r=hw.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ux("Request failed with status code "+n.status,[Ux.ERR_BAD_REQUEST,Ux.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),Jx(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=d:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(d)},s.onabort=function(){s&&(n(new Ux("Request aborted",Ux.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Ux("Network Error",Ux.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||tw;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Ux(t,r.clarifyTimeoutError?Ux.ETIMEDOUT:Ux.ECONNABORTED,e,s)),s=null},nw.isStandardBrowserEnv){var h=(e.withCredentials||_w(f))&&e.xsrfCookieName&&yw.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Ix.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Ix.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",ww(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",ww(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new gw(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===nw.protocols.indexOf(p)?n(new Ux("Unsupported protocol "+p+":",Ux.ERR_BAD_REQUEST,e)):s.send(i||null)}))},Cw={http:jx,xhr:Ew};Ix.forEach(Cw,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(pW){}Object.defineProperty(e,"adapterName",{value:t})}}));var kw=function(e){for(var t,n,r=(e=Ix.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Ix.isString(t)?Cw[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Ux("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Ix.hasOwnProp(Cw,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Ix.isFunction(n))throw new TypeError("adapter is not a function");return n};function Sw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new gw(null,e)}function Aw(e){return Sw(e),e.headers=hw.from(e.headers),e.data=pw.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kw(e.adapter||ow.adapter)(e).then((function(t){return Sw(e),t.data=pw.call(e,e.transformResponse,t),t.headers=hw.from(t.headers),t}),(function(t){return vw(t)||(Sw(e),t&&t.response&&(t.response.data=pw.call(e,e.transformResponse,t.response),t.response.headers=hw.from(t.response.headers))),Promise.reject(t)}))}var Dw=function(e){return e instanceof hw?e.toJSON():e};function Mw(e,t){t=t||{};var n={};function r(e,t,n){return Ix.isPlainObject(e)&&Ix.isPlainObject(t)?Ix.merge.call({caseless:n},e,t):Ix.isPlainObject(t)?Ix.merge({},t):Ix.isArray(t)?t.slice():t}function i(e,t,n){return Ix.isUndefined(t)?Ix.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Ix.isUndefined(t))return r(void 0,t)}function o(e,t){return Ix.isUndefined(t)?Ix.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(Dw(e),Dw(t),!0)}};return Ix.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Ix.isUndefined(o)&&a!==u||(n[r]=o)})),n}var Tw="1.3.5",Pw={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){Pw[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Ow={};Pw.transitional=function(e,t,n){function r(e,t){return"[Axios v1.3.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Ux(r(i," has been removed"+(t?" in "+t:"")),Ux.ERR_DEPRECATED);return t&&!Ow[i]&&(Ow[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var Rw={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ux("options must be an object",Ux.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Ux("option "+a+" must be "+s,Ux.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ux("Unknown option "+a,Ux.ERR_BAD_OPTION)}},validators:Pw},Fw=Rw.validators,Nw=function(){function e(t){u(this,e),this.defaults=t,this.interceptors={request:new ew,response:new ew}}return(0,s.Z)(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=Mw(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&Rw.assertOptions(i,{silentJSONParsing:Fw.transitional(Fw.boolean),forcedJSONParsing:Fw.transitional(Fw.boolean),clarifyTimeoutError:Fw.transitional(Fw.boolean)},!1),null!=a&&(Ix.isFunction(a)?t.paramsSerializer={serialize:a}:Rw.assertOptions(a,{encode:Fw.function,serialize:Fw.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Ix.merge(o.common,o[t.method]))&&Ix.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=hw.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var f,d=0;if(!s){var h=[Aw.bind(this),void 0];for(h.unshift.apply(h,u),h.push.apply(h,c),f=h.length,l=Promise.resolve(t);d<f;)l=l.then(h[d++],h[d++]);return l}f=u.length;var p=t;for(d=0;d<f;){var v=u[d++],m=u[d++];try{p=v(p)}catch(fc){m.call(this,fc);break}}try{l=Aw.call(this,p)}catch(fc){return Promise.reject(fc)}for(d=0,f=c.length;d<f;)l=l.then(c[d++],c[d++]);return l}},{key:"getUri",value:function(e){return Jx(bw((e=Mw(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Ix.forEach(["delete","get","head","options"],(function(e){Nw.prototype[e]=function(t,n){return this.request(Mw(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ix.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Mw(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Nw.prototype[e]=t(),Nw.prototype[e+"Form"]=t(!0)}));var Iw=Nw,Bw=function(){function e(t){if(u(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new gw(e,t,i),n(r.reason))}))}return(0,s.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),Lw=Bw;var zw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zw).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];zw[r]=n}));var Uw=zw;var jw=function e(t){var n=new Iw(t),r=ix(Iw.prototype.request,n);return Ix.extend(r,Iw.prototype,n,{allOwnKeys:!0}),Ix.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Mw(t,n))},r}(ow);jw.Axios=Iw,jw.CanceledError=gw,jw.CancelToken=Lw,jw.isCancel=vw,jw.VERSION=Tw,jw.toFormData=Gx,jw.AxiosError=Ux,jw.Cancel=jw.CanceledError,jw.all=function(e){return Promise.all(e)},jw.spread=function(e){return function(t){return e.apply(null,t)}},jw.isAxiosError=function(e){return Ix.isObject(e)&&!0===e.isAxiosError},jw.mergeConfig=Mw,jw.AxiosHeaders=hw,jw.formToJSON=function(e){return rw(Ix.isHTMLForm(e)?new FormData(e):e)},jw.HttpStatusCode=Uw,jw.default=jw;var Ww=jw;var Zw=function(){var t=em().currentUser,n=(0,e.useState)(""),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=(0,e.useState)(!1),s=(0,a.Z)(u,2),l=s[0],c=s[1],f=we(),d=function(){var e=Je($e().mark((function e(){var n,r,a,u,s,l,d;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),n=Sv($v,"stories/".concat(t.uid,"/summary")),console.log(t.uid),e.next=5,Pv(n);case 5:return e.sent.exists()||Mv(n,i),o(""),e.next=10,Ww.post("https://guided-creative-planning.herokuapp.com/api/characters",{text:i});case 10:return r=e.sent,a=new Set,r.data.forEach((function(e){var t=e.head,n=e.tail;a.add(t),a.add(n)})),u=new Map,0,a.forEach((function(e){u.set(e,{id:e})})),s=r.data.map((function(e){return{source:e.head,link:e.type,target:e.tail}})),l=Sv($v,"stories/".concat(t.uid,"/graph")),e.next=20,Pv(l);case 20:(d=e.sent).exists()&&d.val().nodes.forEach((function(e){u.set(e.id,e)})),d.exists()&&d.val().links.forEach((function(e){s.push(e)})),Mv(Sv($v,"stories/".concat(t.uid,"/graph")),{nodes:Array.from(u.values()),links:s}),c(!1),f("/character-map");case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)("textarea",{rows:"40",cols:"150",type:"text",value:i,required:!0,placeholder:"Enter your plot in as much detail as possible.",onChange:function(e){return o(e.target.value)}}),(0,Kv.jsx)("button",{onClick:d,disabled:l,children:l?"Loading...":"Save"})]})};function Vw(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||qw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gw(e){return function(e){if(Array.isArray(e))return Yw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||qw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qw(e,t){if(e){if("string"===typeof e)return Yw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yw(e,t):void 0}}function Yw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xw=r(1189);function $w(e){return $w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$w(e)}function Kw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||Qw(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jw(e){return function(e){if(Array.isArray(e))return eE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qw(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qw(e,t){if(e){if("string"===typeof e)return eE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eE(e,t):void 0}}function eE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tE(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.useEffect,r=(0,e.useRef)(),i=(0,e.useRef)(!1),a=(0,e.useRef)(!1),o=Kw((0,e.useState)(0),2);o[0];var u=o[1];i.current&&(a.current=!0),n((function(){return i.current||(r.current=t(),i.current=!0),u((function(e){return e+1})),function(){a.current&&r.current&&r.current()}}),[])}function nE(){}function rE(e){return null==e?nE:function(){return this.querySelector(e)}}function iE(){return[]}function aE(e){return null==e?iE:function(){return this.querySelectorAll(e)}}function oE(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function uE(e){return function(){return this.matches(e)}}function sE(e){return function(t){return t.matches(e)}}var lE=Array.prototype.find;function cE(){return this.firstElementChild}var fE=Array.prototype.filter;function dE(){return Array.from(this.children)}function hE(e){return new Array(e.length)}function pE(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function vE(e,t,n,r,i,a){for(var o,u=0,s=t.length,l=a.length;u<l;++u)(o=t[u])?(o.__data__=a[u],r[u]=o):n[u]=new pE(e,a[u]);for(;u<s;++u)(o=t[u])&&(i[u]=o)}function mE(e,t,n,r,i,a,o){var u,s,l,c=new Map,f=t.length,d=a.length,h=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(h[u]=l=o.call(s,s.__data__,u,t)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<d;++u)l=o.call(e,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):n[u]=new pE(e,a[u]);for(u=0;u<f;++u)(s=t[u])&&c.get(h[u])===s&&(i[u]=s)}function gE(e){return e.__data__}function yE(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function bE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}pE.prototype={constructor:pE,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var _E="http://www.w3.org/1999/xhtml",xE={svg:"http://www.w3.org/2000/svg",xhtml:_E,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wE(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),xE.hasOwnProperty(t)?{space:xE[t],local:e}:e}function EE(e){return function(){this.removeAttribute(e)}}function CE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kE(e,t){return function(){this.setAttribute(e,t)}}function SE(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function AE(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function DE(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ME(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function TE(e){return function(){this.style.removeProperty(e)}}function PE(e,t,n){return function(){this.style.setProperty(e,t,n)}}function OE(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function RE(e,t){return e.style.getPropertyValue(t)||ME(e).getComputedStyle(e,null).getPropertyValue(t)}function FE(e){return function(){delete this[e]}}function NE(e,t){return function(){this[e]=t}}function IE(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function BE(e){return e.trim().split(/^|\s+/)}function LE(e){return e.classList||new zE(e)}function zE(e){this._node=e,this._names=BE(e.getAttribute("class")||"")}function UE(e,t){for(var n=LE(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function jE(e,t){for(var n=LE(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function WE(e){return function(){UE(this,e)}}function ZE(e){return function(){jE(this,e)}}function VE(e,t){return function(){(t.apply(this,arguments)?UE:jE)(this,e)}}function HE(){this.textContent=""}function GE(e){return function(){this.textContent=e}}function qE(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function YE(){this.innerHTML=""}function XE(e){return function(){this.innerHTML=e}}function $E(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function KE(){this.nextSibling&&this.parentNode.appendChild(this)}function JE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function QE(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_E&&t.documentElement.namespaceURI===_E?t.createElement(e):t.createElementNS(n,e)}}function eC(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function tC(e){var t=wE(e);return(t.local?eC:QE)(t)}function nC(){return null}function rC(){var e=this.parentNode;e&&e.removeChild(this)}function iC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oC(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function uC(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function sC(e,t,n){var r=ME(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function lC(e,t){return function(){return sC(this,e,t)}}function cC(e,t){return function(){return sC(this,e,t.apply(this,arguments))}}zE.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var fC=$e().mark(dC);function dC(){var e,t,n,r,i,a,o;return $e().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){u.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){u.next=10;break}if(!(o=r[i])){u.next=7;break}return u.next=7,o;case 7:++i,u.next=3;break;case 10:++t,u.next=1;break;case 13:case"end":return u.stop()}}),fC,this)}var hC=[null];function pC(e,t){this._groups=e,this._parents=t}function vC(){return new pC([[document.documentElement]],hC)}pC.prototype=vC.prototype=(0,Qe.Z)({constructor:pC,select:function(e){"function"!==typeof e&&(e=rE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,u=t[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=e.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new pC(r,this._parents)},selectAll:function(e){e="function"===typeof e?oE(e):aE(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,u=t[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(e.call(o,o.__data__,l,u)),i.push(o));return new pC(r,i)},selectChild:function(e){return this.select(null==e?cE:function(e){return function(){return lE.call(this.children,e)}}("function"===typeof e?e:sE(e)))},selectChildren:function(e){return this.selectAll(null==e?dE:function(e){return function(){return fE.call(this.children,e)}}("function"===typeof e?e:sE(e)))},filter:function(e){"function"!==typeof e&&(e=uE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new pC(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,gE);var n=t?mE:vE,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],d=f.length,h=yE(e.call(c,c&&c.__data__,l,r)),p=h.length,v=u[l]=new Array(p),m=o[l]=new Array(p);n(c,f,v,m,s[l]=new Array(d),h,t);for(var g,y,b=0,_=0;b<p;++b)if(g=v[b]){for(b>=_&&(_=b+1);!(y=m[_])&&++_<p;);g._next=y||null}}return(o=new pC(o,r))._enter=u,o._exit=s,o},enter:function(){return new pC(this._enter||this._groups.map(hE),this._parents)},exit:function(){return new pC(this._exit||this._groups.map(hE),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=n[s],f=r[s],d=c.length,h=u[s]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;s<i;++s)u[s]=n[s];return new pC(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=bE);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,u=n[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(t)}return new pC(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=E(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,u=a.length;o<u;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=wE(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?CE:EE:"function"===typeof t?n.local?DE:AE:n.local?SE:kE)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?TE:"function"===typeof t?OE:PE)(e,t,null==n?"":n)):RE(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?FE:"function"===typeof t?IE:NE)(e,t)):this.node()[e]},classed:function(e,t){var n=BE(e+"");if(arguments.length<2){for(var r=LE(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?VE:t?WE:ZE)(n,t))},text:function(e){return arguments.length?this.each(null==e?HE:("function"===typeof e?qE:GE)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?YE:("function"===typeof e?$E:XE)(e)):this.node().innerHTML},raise:function(){return this.each(KE)},lower:function(){return this.each(JE)},append:function(e){var t="function"===typeof e?e:tC(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:tC(e),r=null==t?nC:"function"===typeof t?t:rE(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(rC)},clone:function(e){return this.select(e?aC:iC)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(u=t?uC:oC,r=0;r<o;++r)this.each(u(a[r],t,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?cC:lC)(e,t))}},Symbol.iterator,dC);var mC=vC;function gC(e){return"string"===typeof e?new pC([[document.querySelector(e)]],[document.documentElement]):new pC([[e]],hC)}var yC={value:function(){}};function bC(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new _C(r)}function _C(e){this._=e}function xC(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function wC(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=yC,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}_C.prototype=bC.prototype={constructor:_C,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,u=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=a[o]).type)i[n]=wC(i[n],e.name,t);else if(null==t)for(n in i)i[n]=wC(i[n],e.name,null);return this}for(;++o<u;)if((n=(e=a[o]).type)&&(n=xC(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _C(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var EC=bC,CC={passive:!1},kC={capture:!0,passive:!1};function SC(e){e.stopImmediatePropagation()}function AC(e){e.preventDefault(),e.stopImmediatePropagation()}function DC(e){var t=e.document.documentElement,n=gC(e).on("dragstart.drag",AC,kC);"onselectstart"in t?n.on("selectstart.drag",AC,kC):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function MC(e,t){var n=e.document.documentElement,r=gC(e).on("dragstart.drag",null);t&&(r.on("click.drag",AC,kC),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function TC(e){return((e=Math.exp(e))+1/e)/2}var PC=function e(t,n,r){function i(e,i){var a,o,u=e[0],s=e[1],l=e[2],c=i[0],f=i[1],d=i[2],h=c-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/l)/t,a=function(e){return[u+e*h,s+e*p,l*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(d*d-l*l+r*v)/(2*l*n*m),y=(d*d-l*l-r*v)/(2*d*n*m),b=Math.log(Math.sqrt(g*g+1)-g),_=Math.log(Math.sqrt(y*y+1)-y);o=(_-b)/t,a=function(e){var r=e*o,i=TC(b),a=l/(n*m)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+a*h,s+a*p,l*i/TC(t*r+b)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function OC(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var RC,FC,NC=0,IC=0,BC=0,LC=1e3,zC=0,UC=0,jC=0,WC="object"===typeof performance&&performance.now?performance:Date,ZC="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function VC(){return UC||(ZC(HC),UC=WC.now()+jC)}function HC(){UC=0}function GC(){this._call=this._time=this._next=null}function qC(e,t,n){var r=new GC;return r.restart(e,t,n),r}function YC(){UC=(zC=WC.now())+jC,NC=IC=0;try{!function(){VC(),++NC;for(var e,t=RC;t;)(e=UC-t._time)>=0&&t._call.call(void 0,e),t=t._next;--NC}()}finally{NC=0,function(){var e,t,n=RC,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:RC=t);FC=e,$C(r)}(),UC=0}}function XC(){var e=WC.now(),t=e-zC;t>LC&&(jC-=t,zC=e)}function $C(e){NC||(IC&&(IC=clearTimeout(IC)),e-UC>24?(e<1/0&&(IC=setTimeout(YC,e-WC.now()-jC)),BC&&(BC=clearInterval(BC))):(BC||(zC=WC.now(),BC=setInterval(XC,LC)),NC=1,ZC(YC)))}function KC(e,t,n){var r=new GC;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}GC.prototype=qC.prototype={constructor:GC,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?VC():+n)+(null==t?0:+t),this._next||FC===this||(FC?FC._next=this:RC=this,FC=this),this._call=e,this._time=n,$C()},stop:function(){this._call&&(this._call=null,this._time=1/0,$C())}};var JC=EC("start","end","cancel","interrupt"),QC=[],ek=0,tk=1,nk=2,rk=3,ik=4,ak=5,ok=6;function uk(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=tk,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,f,d;if(n.state!==tk)return s();for(l in i)if((d=i[l]).name===n.name){if(d.state===rk)return KC(o);d.state===ik?(d.state=ok,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=ok,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(KC((function(){n.state===rk&&(n.state=ik,n.timer.restart(u,n.delay,n.time),u(a))})),n.state=nk,n.on.call("start",e,e.__data__,n.index,n.group),n.state===nk){for(n.state=rk,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function u(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=ak,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===ak&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=ok,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=qC(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:JC,tween:QC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ek})}function sk(e,t){var n=ck(e,t);if(n.state>ek)throw new Error("too late; already scheduled");return n}function lk(e,t){var n=ck(e,t);if(n.state>rk)throw new Error("too late; already running");return n}function ck(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fk(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>nk&&n.state<ak,n.state=ok,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function dk(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var hk,pk=180/Math.PI,vk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mk(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*pk,skewX:Math.atan(s)*pk,scaleX:o,scaleY:u}}function gk(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:dk(e,i)},{i:s-2,x:dk(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:dk(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:dk(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:dk(e,n)},{i:u-2,x:dk(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var yk=gk((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vk:mk(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),bk=gk((function(e){return null==e?vk:(hk||(hk=document.createElementNS("http://www.w3.org/2000/svg","g")),hk.setAttribute("transform",e),(e=hk.transform.baseVal.consolidate())?mk((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):vk)}),", ",")",")");function _k(e,t){var n,r;return function(){var i=lk(this,e),a=i.tween;if(a!==n)for(var o=0,u=(r=n=a).length;o<u;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function xk(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=lk(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===t){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function wk(e,t,n){var r=e._id;return e.each((function(){var e=lk(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ck(e,r).value[t]}}function Ek(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ck(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kk(){}var Sk=.7,Ak=1/Sk,Dk="\\s*([+-]?\\d+)\\s*",Mk="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tk="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pk=/^#([0-9a-f]{3,8})$/,Ok=new RegExp("^rgb\\(".concat(Dk,",").concat(Dk,",").concat(Dk,"\\)$")),Rk=new RegExp("^rgb\\(".concat(Tk,",").concat(Tk,",").concat(Tk,"\\)$")),Fk=new RegExp("^rgba\\(".concat(Dk,",").concat(Dk,",").concat(Dk,",").concat(Mk,"\\)$")),Nk=new RegExp("^rgba\\(".concat(Tk,",").concat(Tk,",").concat(Tk,",").concat(Mk,"\\)$")),Ik=new RegExp("^hsl\\(".concat(Mk,",").concat(Tk,",").concat(Tk,"\\)$")),Bk=new RegExp("^hsla\\(".concat(Mk,",").concat(Tk,",").concat(Tk,",").concat(Mk,"\\)$")),Lk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zk(){return this.rgb().formatHex()}function Uk(){return this.rgb().formatRgb()}function jk(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pk.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Wk(t):3===n?new Hk(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Zk(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Zk(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Ok.exec(e))?new Hk(t[1],t[2],t[3],1):(t=Rk.exec(e))?new Hk(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Fk.exec(e))?Zk(t[1],t[2],t[3],t[4]):(t=Nk.exec(e))?Zk(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ik.exec(e))?Kk(t[1],t[2]/100,t[3]/100,1):(t=Bk.exec(e))?Kk(t[1],t[2]/100,t[3]/100,t[4]):Lk.hasOwnProperty(e)?Wk(Lk[e]):"transparent"===e?new Hk(NaN,NaN,NaN,0):null}function Wk(e){return new Hk(e>>16&255,e>>8&255,255&e,1)}function Zk(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hk(e,t,n,r)}function Vk(e,t,n,r){return 1===arguments.length?function(e){return e instanceof kk||(e=jk(e)),e?new Hk((e=e.rgb()).r,e.g,e.b,e.opacity):new Hk}(e):new Hk(e,t,n,null==r?1:r)}function Hk(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Gk(){return"#".concat($k(this.r)).concat($k(this.g)).concat($k(this.b))}function qk(){var e=Yk(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Xk(this.r),", ").concat(Xk(this.g),", ").concat(Xk(this.b)).concat(1===e?")":", ".concat(e,")"))}function Yk(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xk(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $k(e){return((e=Xk(e))<16?"0":"")+e.toString(16)}function Kk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Qk(e,t,n,r)}function Jk(e){if(e instanceof Qk)return new Qk(e.h,e.s,e.l,e.opacity);if(e instanceof kk||(e=jk(e)),!e)return new Qk;if(e instanceof Qk)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new Qk(o,u,s,e.opacity)}function Qk(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function eS(e){return(e=(e||0)%360)<0?e+360:e}function tS(e){return Math.max(0,Math.min(1,e||0))}function nS(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function rS(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}Ek(kk,jk,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:zk,formatHex:zk,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Jk(this).formatHsl()},formatRgb:Uk,toString:Uk}),Ek(Hk,Vk,Ck(kk,{brighter:function(e){return e=null==e?Ak:Math.pow(Ak,e),new Hk(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Sk:Math.pow(Sk,e),new Hk(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new Hk(Xk(this.r),Xk(this.g),Xk(this.b),Yk(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gk,formatHex:Gk,formatHex8:function(){return"#".concat($k(this.r)).concat($k(this.g)).concat($k(this.b)).concat($k(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:qk,toString:qk})),Ek(Qk,(function(e,t,n,r){return 1===arguments.length?Jk(e):new Qk(e,t,n,null==r?1:r)}),Ck(kk,{brighter:function(e){return e=null==e?Ak:Math.pow(Ak,e),new Qk(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Sk:Math.pow(Sk,e),new Qk(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hk(nS(e>=240?e-240:e+120,i,r),nS(e,i,r),nS(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new Qk(eS(this.h),tS(this.s),tS(this.l),Yk(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=Yk(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(eS(this.h),", ").concat(100*tS(this.s),"%, ").concat(100*tS(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var iS=function(e){return function(){return e}};function aS(e,t){return function(n){return e+n*t}}function oS(e){return 1===(e=+e)?uS:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):iS(isNaN(t)?n:t)}}function uS(e,t){var n=t-e;return n?aS(e,n):iS(isNaN(e)?t:e)}var sS=function e(t){var n=oS(t);function r(e,t){var r=n((e=Vk(e)).r,(t=Vk(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=uS(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function lS(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=Vk(t[n]),a[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return a=e(a),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=u(e),r+""}}}lS((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return rS((n-r/t)*t,o,i,a,u)}})),lS((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return rS((n-r/t)*t,i,a,o,u)}}));var cS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fS=new RegExp(cS.source,"g");function dS(e,t){var n,r,i,a=cS.lastIndex=fS.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=cS.exec(e))&&(r=fS.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:dk(n,r)})),a=fS.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function hS(e,t){var n;return("number"===typeof t?dk:t instanceof jk?sS:(n=jk(t))?(t=n,sS):dS)(e,t)}function pS(e){return function(){this.removeAttribute(e)}}function vS(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mS(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function gS(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function yS(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttribute(e))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttribute(e)}}function bS(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttributeNS(e.space,e.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttributeNS(e.space,e.local)}}function _S(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function xS(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function wS(e,t){return function(){sk(this,e).delay=+t.apply(this,arguments)}}function ES(e,t){return t=+t,function(){sk(this,e).delay=t}}function CS(e,t){return function(){lk(this,e).duration=+t.apply(this,arguments)}}function kS(e,t){return t=+t,function(){lk(this,e).duration=t}}var SS=mC.prototype.constructor;function AS(e){return function(){this.style.removeProperty(e)}}var DS=0;function MS(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function TS(){return++DS}var PS=mC.prototype;MS.prototype=function(e){return mC().transition(e)}.prototype=(0,Qe.Z)({constructor:MS,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=rE(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),d=0;d<c;++d)(u=l[d])&&(s=e.call(u,u.__data__,d,l))&&("__data__"in u&&(s.__data__=u.__data__),f[d]=s,uk(f[d],t,n,d,f,ck(u,n)));return new MS(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=aE(e));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var d,h=e.call(s,s.__data__,f,l),p=ck(s,n),v=0,m=h.length;v<m;++v)(d=h[v])&&uk(d,t,n,v,h,p);a.push(h),o.push(s)}return new MS(a,o,t,n)},selectChild:PS.selectChild,selectChildren:PS.selectChildren,filter:function(e){"function"!==typeof e&&(e=uE(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new MS(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=t[u],c=n[u],f=l.length,d=o[u]=new Array(f),h=0;h<f;++h)(s=l[h]||c[h])&&(d[h]=s);for(;u<r;++u)o[u]=t[u];return new MS(o,this._parents,this._name,this._id)},selection:function(){return new SS(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=TS(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=ck(o,t);uk(o,e,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new MS(r,this._parents,e,n)},call:PS.call,nodes:PS.nodes,node:PS.node,size:PS.size,empty:PS.empty,each:PS.each,on:function(e,t){var n=this._id;return arguments.length<2?ck(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?sk:lk;return function(){var o=a(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=wE(e),r="transform"===n?bk:hS;return this.attrTween(e,"function"===typeof t?(n.local?bS:yS)(n,r,wk(this,"attr."+e,t)):null==t?(n.local?vS:pS)(n):(n.local?gS:mS)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=wE(e);return this.tween(n,(r.local?_S:xS)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?yk:hS;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=RE(this,e),o=(this.style.removeProperty(e),RE(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,AS(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=RE(this,e),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(e),s=u=RE(this,e)),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}(e,r,wk(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,u="end."+o;return function(){var s=lk(this,e),l=s.on,c=null==s.value[o]?a||(a=AS(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=RE(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(wk(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=ck(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?_k:xk)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?wS:ES)(t,e)):ck(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?CS:kS)(t,e)):ck(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){lk(this,e).ease=t}}(t,e)):ck(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;lk(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0===--i&&a()}};n.each((function(){var n=lk(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),n.on=t})),0===i&&a()}))}},Symbol.iterator,PS[Symbol.iterator]);var OS={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function RS(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}mC.prototype.interrupt=function(e){return this.each((function(){fk(this,e)}))},mC.prototype.transition=function(e){var t,n;e instanceof MS?(t=e._id,e=e._name):(t=TS(),(n=OS).time=VC(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&uk(o,e,t,l,u,n||RS(o,t));return new MS(r,this._parents,e,t)};var FS=function(e){return function(){return e}};function NS(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function IS(e,t,n){this.k=e,this.x=t,this.y=n}IS.prototype={constructor:IS,scale:function(e){return 1===e?this:new IS(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new IS(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var BS=new IS(1,0,0);function LS(e){for(;!e.__zoom;)if(!(e=e.parentNode))return BS;return e.__zoom}function zS(e){e.stopImmediatePropagation()}function US(e){e.preventDefault(),e.stopImmediatePropagation()}function jS(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function WS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function ZS(){return this.__zoom||BS}function VS(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function HS(){return navigator.maxTouchPoints||"ontouchstart"in this}function GS(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function qS(){var e,t,n,r=jS,i=WS,a=GS,o=VS,u=HS,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=PC,d=EC("start","zoom","end"),h=500,p=150,v=0,m=10;function g(e){e.property("__zoom",ZS).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(u).on("touchstart.zoom",A).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new IS(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new IS(e.k,r,i)}function _(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){w(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=w(e,a).event(r),u=i.apply(e,a),s=null==n?_(u):"function"===typeof n?n.apply(e,a):n,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=e.__zoom,d="function"===typeof t?t.apply(e,a):t,h=f(c.invert(s).concat(l/c.k),d.invert(s).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=l/t[2];e=new IS(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function w(e,t,n){return!n&&e.__zooming||new E(e,t)}function E(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var u=w(this,n).event(e),c=this.__zoom,f=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,o.apply(this,arguments)))),d=OC(e);if(u.wheel)u.mouse[0][0]===d[0]&&u.mouse[0][1]===d[1]||(u.mouse[1]=c.invert(u.mouse[0]=d)),clearTimeout(u.wheel);else{if(c.k===f)return;u.mouse=[d,c.invert(d)],fk(this),u.start()}US(e),u.wheel=setTimeout((function(){u.wheel=null,u.end()}),p),u.zoom("mouse",a(b(y(c,f),u.mouse[0],u.mouse[1]),u.extent,l))}}function k(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var u=e.currentTarget,s=w(this,i,!0).event(e),c=gC(e.view).on("mousemove.zoom",(function(e){if(US(e),!s.moved){var t=e.clientX-d,n=e.clientY-h;s.moved=t*t+n*n>v}s.event(e).zoom("mouse",a(b(s.that.__zoom,s.mouse[0]=OC(e,u),s.mouse[1]),s.extent,l))}),!0).on("mouseup.zoom",(function(e){c.on("mousemove.zoom mouseup.zoom",null),MC(e.view,s.moved),US(e),s.event(e).end()}),!0),f=OC(e,u),d=e.clientX,h=e.clientY;DC(e.view),zS(e),s.mouse=[f,this.__zoom.invert(f)],fk(this),s.start()}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var u=this.__zoom,s=OC(e.changedTouches?e.changedTouches[0]:e,this),f=u.invert(s),d=u.k*(e.shiftKey?.5:2),h=a(b(y(u,d),s,f),i.apply(this,n),l);US(e),c>0?gC(this).transition().duration(c).call(x,h,s,e):gC(this).call(g.transform,h,s,e)}}function A(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var u,s,l,c,f=n.touches,d=f.length,p=w(this,a,n.changedTouches.length===d).event(n);for(zS(n),s=0;s<d;++s)c=[c=OC(l=f[s],this),this.__zoom.invert(c),l.identifier],p.touch0?p.touch1||p.touch0[2]===c[2]||(p.touch1=c,p.taps=0):(p.touch0=c,u=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),u&&(p.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),h)),fk(this),p.start())}}function D(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u,s,c=w(this,n).event(e),f=e.changedTouches,d=f.length;for(US(e),i=0;i<d;++i)u=OC(o=f[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=u:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=u);if(o=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],v=c.touch1[0],m=c.touch1[1],g=(g=v[0]-h[0])*g+(g=v[1]-h[1])*g,_=(_=m[0]-p[0])*_+(_=m[1]-p[1])*_;o=y(o,Math.sqrt(g/_)),u=[(h[0]+v[0])/2,(h[1]+v[1])/2],s=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;u=c.touch0[0],s=c.touch0[1]}c.zoom("touch",a(b(o,u,s),c.extent,l))}}function M(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,u,s=w(this,i).event(e),l=e.changedTouches,c=l.length;for(zS(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),o=0;o<c;++o)u=l[o],s.touch0&&s.touch0[2]===u.identifier?delete s.touch0:s.touch1&&s.touch1[2]===u.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(u=OC(u,this),Math.hypot(t[0]-u[0],t[1]-u[1])<m)){var f=gC(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return g.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",ZS),e!==i?x(e,t,n,r):i.interrupt().each((function(){w(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t,n,r){g.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},g.scaleTo=function(e,t,n,r){g.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?_(e):"function"===typeof n?n.apply(this,arguments):n,u=r.invert(o),s="function"===typeof t?t.apply(this,arguments):t;return a(b(y(r,s),o,u),e,l)}),n,r)},g.translateBy=function(e,t,n,r){g.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},g.translateTo=function(e,t,n,r,o){g.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,u=null==r?_(e):"function"===typeof r?r.apply(this,arguments):r;return a(BS.translate(u[0],u[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),r,o)},E.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=gC(this.that).datum();d.call(e,this.that,new NS(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:d}),t)}},g.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:FS(+e),g):o},g.filter=function(e){return arguments.length?(r="function"===typeof e?e:FS(!!e),g):r},g.touchable=function(e){return arguments.length?(u="function"===typeof e?e:FS(!!e),g):u},g.extent=function(e){return arguments.length?(i="function"===typeof e?e:FS([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):i},g.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],g):[s[0],s[1]]},g.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(e){return arguments.length?(a=e,g):a},g.duration=function(e){return arguments.length?(c=+e,g):c},g.interpolate=function(e){return arguments.length?(f=e,g):f},g.on=function(){var e=d.on.apply(d,arguments);return e===d?g:e},g.clickDistance=function(e){return arguments.length?(v=(e=+e)*e,g):Math.sqrt(v)},g.tapDistance=function(e){return arguments.length?(m=+e,g):m},g}LS.prototype=IS.prototype;var YS=function(e){return function(){return e}};function XS(e,t){var n=t.sourceEvent,r=t.subject,i=t.target,a=t.identifier,o=t.active,u=t.x,s=t.y,l=t.dx,c=t.dy,f=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}function $S(e){return!e.ctrlKey&&!e.button}function KS(){return this.parentNode}function JS(e,t){return null==t?{x:e.x,y:e.y}:t}function QS(){return navigator.maxTouchPoints||"ontouchstart"in this}function eA(e,t){var n;if(void 0===t){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=E(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function tA(e,t){var n;if(void 0===t){var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=E(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}XS.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var nA=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},rA="object"==typeof global&&global&&global.Object===Object&&global,iA="object"==typeof self&&self&&self.Object===Object&&self,aA=rA||iA||Function("return this")(),oA=function(){return aA.Date.now()},uA=/\s/;var sA=function(e){for(var t=e.length;t--&&uA.test(e.charAt(t)););return t},lA=/^\s+/;var cA=function(e){return e?e.slice(0,sA(e)+1).replace(lA,""):e},fA=aA.Symbol,dA=Object.prototype,hA=dA.hasOwnProperty,pA=dA.toString,vA=fA?fA.toStringTag:void 0;var mA=function(e){var t=hA.call(e,vA),n=e[vA];try{e[vA]=void 0;var r=!0}catch(pW){}var i=pA.call(e);return r&&(t?e[vA]=n:delete e[vA]),i},gA=Object.prototype.toString;var yA=function(e){return gA.call(e)},bA=fA?fA.toStringTag:void 0;var _A=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":bA&&bA in Object(e)?mA(e):yA(e)};var xA=function(e){return null!=e&&"object"==typeof e};var wA=function(e){return"symbol"==typeof e||xA(e)&&"[object Symbol]"==_A(e)},EA=/^[-+]0x[0-9a-f]+$/i,CA=/^0b[01]+$/i,kA=/^0o[0-7]+$/i,SA=parseInt;var AA=function(e){if("number"==typeof e)return e;if(wA(e))return NaN;if(nA(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nA(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=cA(e);var n=CA.test(e);return n||kA.test(e)?SA(e.slice(2),n?2:8):EA.test(e)?NaN:+e},DA=Math.max,MA=Math.min;var TA=function(e,t,n){var r,i,a,o,u,s,l=0,c=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=i;return r=i=void 0,l=t,o=e.apply(a,n)}function p(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-l>=a}function v(){var e=oA();if(p(e))return m(e);u=setTimeout(v,function(e){var n=t-(e-s);return f?MA(n,a-(e-l)):n}(e))}function m(e){return u=void 0,d&&r?h(e):(r=i=void 0,o)}function g(){var e=oA(),n=p(e);if(r=arguments,i=this,s=e,n){if(void 0===u)return function(e){return l=e,u=setTimeout(v,t),c?h(e):o}(s);if(f)return clearTimeout(u),u=setTimeout(v,t),h(s)}return void 0===u&&(u=setTimeout(v,t)),o}return t=AA(t)||0,nA(n)&&(c=!!n.leading,a=(f="maxWait"in n)?DA(AA(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=s=i=u=void 0},g.flush=function(){return void 0===u?o:m(oA())},g};var PA,OA=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return nA(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),TA(e,t,{leading:r,maxWait:t,trailing:i})},RA=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-RA.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*RA.Bounce.In(2*e):.5*RA.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}});PA="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()};var FA=PA,NA=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=FA()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],a=!t;i&&!1===i.update(e,a)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),IA={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=IA.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=IA.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*a(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=IA.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=IA.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),o=.5*(r-t),u=i*i;return(2*t-2*n+a+o)*(i*u)+(-3*t+3*n-2*a-o)*u+a*i+t}}},BA=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),LA=new NA,zA=function(){function e(e,t){void 0===t&&(t=LA),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=RA.Linear.None,this._interpolationFunction=IA.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=BA.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=FA()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t),this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,i){for(var a in n){var o=e[a],u=Array.isArray(o),s=u?"array":typeof o,l=!u&&Array.isArray(n[a]);if("undefined"!==s&&"function"!==s){if(l){var c=n[a];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),void 0===t[a]&&(n[a]=[o].concat(c))}if("object"!==s&&!u||!o||l)("undefined"===typeof t[a]||i)&&(t[a]=o),u||(t[a]*=1),r[a]=l?n[a].slice().reverse():t[a]||0;else{for(var f in t[a]=u?[]:{},o)t[a][f]=o[f];r[a]=u?[]:{},this._setupProperties(o,t[a],n[a],r[a],i)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=FA()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=FA()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=LA),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=RA.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=IA.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=FA()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,u=this._chainedTweens.length;o<u;o++)this._chainedTweens[o].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var a=t[i]||0,o=n[i],u=Array.isArray(e[i]),s=Array.isArray(o);!u&&s?e[i]=this._interpolationFunction(o,r):"object"===typeof o&&o?this._updateProperties(e[i],a,o,r):"number"===typeof(o=this._handleRelativeValue(a,o))&&(e[i]=a+(o-a)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),UA=BA.nextId,jA=LA,WA=jA.getAll.bind(jA),ZA=jA.removeAll.bind(jA),VA=jA.add.bind(jA),HA=jA.remove.bind(jA),GA=jA.update.bind(jA),qA={Easing:RA,Group:NA,Interpolation:IA,now:FA,Sequence:BA,nextId:UA,Tween:zA,VERSION:"19.0.0",getAll:WA,removeAll:ZA,add:VA,remove:HA,update:GA};function YA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JA(r.key),r)}}function XA(e,t,n){return t&&YA(e.prototype,t),n&&YA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return KA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JA(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var QA=XA((function e(t,n){var r=n.default,i=void 0===r?null:r,a=n.triggerUpdate,o=void 0===a||a,u=n.onChange,s=void 0===u?function(e,t){}:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=i,this.triggerUpdate=o,this.onChange=s}));function eD(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,r=e.props,i=void 0===r?{}:r,a=e.methods,o=void 0===a?{}:a,u=e.aliases,s=void 0===u?{}:u,l=e.init,c=void 0===l?function(){}:l,f=e.update,d=void 0===f?function(){}:f,h=Object.keys(i).map((function(e){return new QA(e,i[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n instanceof Function?n(e):n,{initialised:!1}),r={};function i(t){return a(t,e),u(),i}var a=function(e,n){c.call(i,e,t,n),t.initialised=!0},u=TA((function(){t.initialised&&(d.call(i,t,r),r={})}),1);return h.forEach((function(e){i[e.name]=function(e){var n=e.name,a=e.triggerUpdate,o=void 0!==a&&a,s=e.onChange,l=void 0===s?function(e,t){}:s,c=e.defaultVal,f=void 0===c?null:c;return function(e){var a=t[n];if(!arguments.length)return a;var s=void 0===e?f:e;return t[n]=s,l.call(i,s,t,a),!r.hasOwnProperty(n)&&(r[n]=a),o&&u(),i}}(e)})),Object.keys(o).forEach((function(e){i[e]=function(){for(var n,r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(n=o[e]).call.apply(n,[i,t].concat(a))}})),Object.entries(s).forEach((function(e){var t=$A(e,2),n=t[0],r=t[1];return i[n]=i[r]})),i.resetProps=function(){return h.forEach((function(e){i[e.name](e.defaultVal)})),i},i.resetProps(),t._rerender=u,i}}var tD=function(e){return e instanceof Function?e:"string"===typeof e?function(t){return t[e]}:function(t){return e}};function nD(e){return nD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nD(e)}var rD=/^\s+/,iD=/\s+$/;function aD(e,t){if(t=t||{},(e=e||"")instanceof aD)return e;if(!(this instanceof aD))return new aD(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,u=!1;"string"==typeof e&&(e=function(e){e=e.replace(rD,"").replace(iD,"").toLowerCase();var t,n=!1;if(wD[e])e=wD[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=OD.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=OD.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=OD.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=OD.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=OD.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=OD.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=OD.hex8.exec(e))return{r:AD(t[1]),g:AD(t[2]),b:AD(t[3]),a:PD(t[4]),format:n?"name":"hex8"};if(t=OD.hex6.exec(e))return{r:AD(t[1]),g:AD(t[2]),b:AD(t[3]),format:n?"name":"hex"};if(t=OD.hex4.exec(e))return{r:AD(t[1]+""+t[1]),g:AD(t[2]+""+t[2]),b:AD(t[3]+""+t[3]),a:PD(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=OD.hex3.exec(e))return{r:AD(t[1]+""+t[1]),g:AD(t[2]+""+t[2]),b:AD(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==nD(e)&&(RD(e.r)&&RD(e.g)&&RD(e.b)?(t=function(e,t,n){return{r:255*kD(e,255),g:255*kD(t,255),b:255*kD(n,255)}}(e.r,e.g,e.b),o=!0,u="%"===String(e.r).substr(-1)?"prgb":"rgb"):RD(e.h)&&RD(e.s)&&RD(e.v)?(r=MD(e.s),i=MD(e.v),t=function(e,t,n){e=6*kD(e,360),t=kD(t,100),n=kD(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6,l=[n,o,a,a,u,n][s],c=[u,n,n,o,a,a][s],f=[a,a,u,n,n,o][s];return{r:255*l,g:255*c,b:255*f}}(e.h,r,i),o=!0,u="hsv"):RD(e.h)&&RD(e.s)&&RD(e.l)&&(r=MD(e.s),a=MD(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=kD(e,360),t=kD(t,100),n=kD(n,100),0===t)r=i=a=n;else{var u=n<.5?n*(1+t):n+t-n*t,s=2*n-u;r=o(s,u,e+1/3),i=o(s,u,e),a=o(s,u,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,u="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=CD(n),{ok:o,format:e.format||u,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function oD(e,t,n){e=kD(e,255),t=kD(t,255),n=kD(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),u=(a+o)/2;if(a==o)r=i=0;else{var s=a-o;switch(i=u>.5?s/(2-a-o):s/(a+o),a){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:i,l:u}}function uD(e,t,n){e=kD(e,255),t=kD(t,255),n=kD(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),u=a,s=a-o;if(i=0===a?0:s/a,a==o)r=0;else{switch(a){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:i,v:u}}function sD(e,t,n,r){var i=[DD(Math.round(e).toString(16)),DD(Math.round(t).toString(16)),DD(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function lD(e,t,n,r){return[DD(TD(r)),DD(Math.round(e).toString(16)),DD(Math.round(t).toString(16)),DD(Math.round(n).toString(16))].join("")}function cD(e,t){t=0===t?0:t||10;var n=aD(e).toHsl();return n.s-=t/100,n.s=SD(n.s),aD(n)}function fD(e,t){t=0===t?0:t||10;var n=aD(e).toHsl();return n.s+=t/100,n.s=SD(n.s),aD(n)}function dD(e){return aD(e).desaturate(100)}function hD(e,t){t=0===t?0:t||10;var n=aD(e).toHsl();return n.l+=t/100,n.l=SD(n.l),aD(n)}function pD(e,t){t=0===t?0:t||10;var n=aD(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),aD(n)}function vD(e,t){t=0===t?0:t||10;var n=aD(e).toHsl();return n.l-=t/100,n.l=SD(n.l),aD(n)}function mD(e,t){var n=aD(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,aD(n)}function gD(e){var t=aD(e).toHsl();return t.h=(t.h+180)%360,aD(t)}function yD(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=aD(e).toHsl(),r=[aD(e)],i=360/t,a=1;a<t;a++)r.push(aD({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function bD(e){var t=aD(e).toHsl(),n=t.h;return[aD(e),aD({h:(n+72)%360,s:t.s,l:t.l}),aD({h:(n+216)%360,s:t.s,l:t.l})]}function _D(e,t,n){t=t||6,n=n||30;var r=aD(e).toHsl(),i=360/n,a=[aD(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(aD(r));return a}function xD(e,t){t=t||6;for(var n=aD(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],u=1/t;t--;)o.push(aD({h:r,s:i,v:a})),a=(a+u)%1;return o}aD.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=CD(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=uD(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=uD(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=oD(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=oD(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return sD(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[DD(Math.round(e).toString(16)),DD(Math.round(t).toString(16)),DD(Math.round(n).toString(16)),DD(TD(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*kD(this._r,255))+"%",g:Math.round(100*kD(this._g,255))+"%",b:Math.round(100*kD(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*kD(this._r,255))+"%, "+Math.round(100*kD(this._g,255))+"%, "+Math.round(100*kD(this._b,255))+"%)":"rgba("+Math.round(100*kD(this._r,255))+"%, "+Math.round(100*kD(this._g,255))+"%, "+Math.round(100*kD(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(ED[sD(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+lD(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=aD(e);n="#"+lD(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return aD(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(hD,arguments)},brighten:function(){return this._applyModification(pD,arguments)},darken:function(){return this._applyModification(vD,arguments)},desaturate:function(){return this._applyModification(cD,arguments)},saturate:function(){return this._applyModification(fD,arguments)},greyscale:function(){return this._applyModification(dD,arguments)},spin:function(){return this._applyModification(mD,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(_D,arguments)},complement:function(){return this._applyCombination(gD,arguments)},monochromatic:function(){return this._applyCombination(xD,arguments)},splitcomplement:function(){return this._applyCombination(bD,arguments)},triad:function(){return this._applyCombination(yD,[3])},tetrad:function(){return this._applyCombination(yD,[4])}},aD.fromRatio=function(e,t){if("object"==nD(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:MD(e[r]));e=n}return aD(e,t)},aD.equals=function(e,t){return!(!e||!t)&&aD(e).toRgbString()==aD(t).toRgbString()},aD.random=function(){return aD.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},aD.mix=function(e,t,n){n=0===n?0:n||50;var r=aD(e).toRgb(),i=aD(t).toRgb(),a=n/100;return aD({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},aD.readability=function(e,t){var n=aD(e),r=aD(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},aD.isReadable=function(e,t,n){var r,i,a=aD.readability(e,t);switch(i=!1,r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},aD.mostReadable=function(e,t,n){var r,i,a,o,u=null,s=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var l=0;l<t.length;l++)(r=aD.readability(e,t[l]))>s&&(s=r,u=aD(t[l]));return aD.isReadable(e,u,{level:a,size:o})||!i?u:(n.includeFallbackColors=!1,aD.mostReadable(e,["#fff","#000"],n))};var wD=aD.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ED=aD.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(wD);function CD(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function kD(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function SD(e){return Math.min(1,Math.max(0,e))}function AD(e){return parseInt(e,16)}function DD(e){return 1==e.length?"0"+e:""+e}function MD(e){return e<=1&&(e=100*e+"%"),e}function TD(e){return Math.round(255*parseFloat(e)).toString(16)}function PD(e){return AD(e)/255}var OD=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function RD(e){return!!OD.CSS_UNIT.exec(e)}function FD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BD(r.key),r)}}function ND(e){return function(e){if(Array.isArray(e))return ID(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ID(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ID(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ID(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BD(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var LD=function(e,t,n){return(e<<16)+(t<<8)+n},zD=function(e,t){return 123*e%Math.pow(2,t)},UD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.csBits=t,this.registry=["__reserved for background__"]}var t,n,r;return t=e,n=[{key:"register",value:function(e){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var t,n=this.registry.length,r=zD(n,this.csBits),i=(t=n+(r<<24-this.csBits),"#".concat(Math.min(t,Math.pow(2,24)).toString(16).padStart(6,"0")));return this.registry.push(e),i}},{key:"lookup",value:function(e){var t="string"===typeof e?function(e){var t=aD(e).toRgb(),n=t.r,r=t.g,i=t.b;return LD(n,r,i)}(e):LD.apply(void 0,ND(e));if(!t)return null;var n=t&Math.pow(2,24-this.csBits)-1,r=t>>24-this.csBits&Math.pow(2,this.csBits)-1;return zD(n,this.csBits)!==r||n>=this.registry.length?null:this.registry[n]}}],n&&FD(t.prototype,n),r&&FD(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),jD=1664525,WD=1013904223,ZD=4294967296;function VD(e){return e.x}function HD(e){return e.y}function GD(e){return e.z}var qD=Math.PI*(3-Math.sqrt(5)),YD=20*Math.PI/(9+Math.sqrt(221));function XD(e,t){t=t||2;var n,r=Math.min(3,Math.max(1,Math.round(t))),i=1,a=.001,o=1-Math.pow(a,1/300),u=0,s=.6,l=new Map,c=qC(h),f=EC("tick","end"),d=function(){var e=1;return function(){return(e=(jD*e+WD)%ZD)/ZD}}();function h(){p(),f.call("tick",n),i<a&&(c.stop(),f.call("end",n))}function p(t){var a,c,f=e.length;void 0===t&&(t=1);for(var d=0;d<t;++d)for(i+=(u-i)*o,l.forEach((function(e){e(i)})),a=0;a<f;++a)null==(c=e[a]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),r>1&&(null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0)),r>2&&(null==c.fz?c.z+=c.vz*=s:(c.z=c.fz,c.vz=0));return n}function v(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var a=10*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),o=n*qD,u=n*YD;1===r?t.x=a:2===r?(t.x=a*Math.cos(o),t.y=a*Math.sin(o)):(t.x=a*Math.sin(o)*Math.cos(u),t.y=a*Math.cos(o),t.z=a*Math.sin(o)*Math.sin(u))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function m(t){return t.initialize&&t.initialize(e,d,r),t}return null==e&&(e=[]),v(),n={tick:p,restart:function(){return c.restart(h),n},stop:function(){return c.stop(),n},numDimensions:function(e){return arguments.length?(r=Math.min(3,Math.max(1,Math.round(e))),l.forEach(m),n):r},nodes:function(t){return arguments.length?(e=t,v(),l.forEach(m),n):e},alpha:function(e){return arguments.length?(i=+e,n):i},alphaMin:function(e){return arguments.length?(a=+e,n):a},alphaDecay:function(e){return arguments.length?(o=+e,n):+o},alphaTarget:function(e){return arguments.length?(u=+e,n):u},velocityDecay:function(e){return arguments.length?(s=1-e,n):1-s},randomSource:function(e){return arguments.length?(d=e,l.forEach(m),n):d},force:function(e,t){return arguments.length>1?(null==t?l.delete(e):l.set(e,m(t)),n):l.get(e)},find:function(){var t,n,i,a,o,u,s=Array.prototype.slice.call(arguments),l=s.shift()||0,c=(r>1?s.shift():null)||0,f=(r>2?s.shift():null)||0,d=s.shift()||1/0,h=0,p=e.length;for(d*=d,h=0;h<p;++h)(a=(t=l-(o=e[h]).x)*t+(n=c-(o.y||0))*n+(i=f-(o.z||0))*i)<d&&(u=o,d=a);return u},on:function(e,t){return arguments.length>1?(f.on(e,t),n):f.on(e)}}}function $D(e){return function(){return e}}function KD(e){return 1e-6*(e()-.5)}function JD(e){return e.index}function QD(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function eM(e){var t,n,r,i,a,o,u,s=JD,l=function(e){return 1/Math.min(a[e.source.index],a[e.target.index])},c=$D(30),f=1;function d(r){for(var a=0,s=e.length;a<f;++a)for(var l,c,d,h,p,v=0,m=0,g=0,y=0;v<s;++v)c=(l=e[v]).source,m=(d=l.target).x+d.vx-c.x-c.vx||KD(u),i>1&&(g=d.y+d.vy-c.y-c.vy||KD(u)),i>2&&(y=d.z+d.vz-c.z-c.vz||KD(u)),m*=h=((h=Math.sqrt(m*m+g*g+y*y))-n[v])/h*r*t[v],g*=h,y*=h,d.vx-=m*(p=o[v]),i>1&&(d.vy-=g*p),i>2&&(d.vz-=y*p),c.vx+=m*(p=1-p),i>1&&(c.vy+=g*p),i>2&&(c.vz+=y*p)}function h(){if(r){var i,u,l=r.length,c=e.length,f=new Map(r.map((function(e,t){return[s(e,t,r),e]})));for(i=0,a=new Array(l);i<c;++i)(u=e[i]).index=i,"object"!==typeof u.source&&(u.source=QD(f,u.source)),"object"!==typeof u.target&&(u.target=QD(f,u.target)),a[u.source.index]=(a[u.source.index]||0)+1,a[u.target.index]=(a[u.target.index]||0)+1;for(i=0,o=new Array(c);i<c;++i)u=e[i],o[i]=a[u.source.index]/(a[u.source.index]+a[u.target.index]);t=new Array(c),p(),n=new Array(c),v()}}function p(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function v(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),d.initialize=function(e){r=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];u=n.find((function(e){return"function"===typeof e}))||Math.random,i=n.find((function(e){return[1,2,3].includes(e)}))||2,h()},d.links=function(t){return arguments.length?(e=t,h(),d):e},d.id=function(e){return arguments.length?(s=e,d):s},d.iterations=function(e){return arguments.length?(f=+e,d):f},d.strength=function(e){return arguments.length?(l="function"===typeof e?e:$D(+e),p(),d):l},d.distance=function(e){return arguments.length?(c="function"===typeof e?e:$D(+e),v(),d):c},d}function tM(e,t,n){if(isNaN(t))return e;var r,i,a,o,u,s,l=e._root,c={data:n},f=e._x0,d=e._x1;if(!l)return e._root=c,e;for(;l.length;)if((o=t>=(i=(f+d)/2))?f=i:d=i,r=l,!(l=l[u=+o]))return r[u]=c,e;if(t===(a=+e._x.call(null,l.data)))return c.next=l,r?r[u]=c:e._root=c,e;do{r=r?r[u]=new Array(2):e._root=new Array(2),(o=t>=(i=(f+d)/2))?f=i:d=i}while((u=+o)===(s=+(a>=i)));return r[s]=l,r[u]=c,e}function nM(e,t,n){this.node=e,this.x0=t,this.x1=n}function rM(e){return e[0]}function iM(e,t){var n=new aM(null==t?rM:t,NaN,NaN);return null==e?n:n.addAll(e)}function aM(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function oM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var uM=iM.prototype=aM.prototype;function sM(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,u,s,l,c,f,d,h=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o,i=h,!(h=h[f=c<<1|l]))return i[f]=p,e;if(u=+e._x.call(null,h.data),s=+e._y.call(null,h.data),t===u&&n===s)return p.next=h,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o}while((f=c<<1|l)===(d=(s>=o)<<1|u>=a));return i[d]=h,i[f]=p,e}function lM(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function cM(e){return e[0]}function fM(e){return e[1]}function dM(e,t,n){var r=new hM(null==t?cM:t,null==n?fM:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function hM(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function pM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}uM.copy=function(){var e,t,n=new aM(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=oM(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var i=0;i<2;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(2)}):r.target[i]=oM(t));return n},uM.add=function(e){var t=+this._x.call(null,e);return tM(this.cover(t),t,e)},uM.addAll=function(e){Array.isArray(e)||(e=Array.from(e));for(var t,n=e.length,r=new Float64Array(n),i=1/0,a=-1/0,o=0;o<n;++o)isNaN(t=+this._x.call(null,e[o]))||(r[o]=t,t<i&&(i=t),t>a&&(a=t));if(i>a)return this;this.cover(i).cover(a);for(var u=0;u<n;++u)tM(this,r[u],e[u]);return this},uM.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{for(var r,i,a=n-t||1,o=this._root;t>e||e>=n;)switch(i=+(e<t),(r=new Array(2))[i]=o,o=r,a*=2,i){case 0:n=t+a;break;case 1:t=n-a}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._x1=n,this},uM.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},uM.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},uM.find=function(e,t){var n,r,i,a,o,u=this._x0,s=this._x1,l=[],c=this._root;for(c&&l.push(new nM(c,u,s)),null==t?t=1/0:(u=e-t,s=e+t);a=l.pop();)if(!(!(c=a.node)||(r=a.x0)>s||(i=a.x1)<u))if(c.length){var f=(r+i)/2;l.push(new nM(c[1],f,i),new nM(c[0],r,f)),(o=+(e>=f))&&(a=l[l.length-1],l[l.length-1]=l[l.length-1-o],l[l.length-1-o]=a)}else{var d=Math.abs(e-+this._x.call(null,c.data));d<t&&(t=d,u=e-d,s=e+d,n=c.data)}return n},uM.remove=function(e){if(isNaN(a=+this._x.call(null,e)))return this;var t,n,r,i,a,o,u,s,l,c=this._root,f=this._x0,d=this._x1;if(!c)return this;if(c.length)for(;;){if((u=a>=(o=(f+d)/2))?f=o:d=o,t=c,!(c=c[s=+u]))return this;if(!c.length)break;t[s+1&1]&&(n=t,l=s)}for(;c.data!==e;)if(r=c,!(c=c.next))return this;return(i=c.next)&&delete c.next,r?(i?r.next=i:delete r.next,this):t?(i?t[s]=i:delete t[s],(c=t[0]||t[1])&&c===(t[1]||t[0])&&!c.length&&(n?n[l]=c:this._root=c),this):(this._root=i,this)},uM.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},uM.root=function(){return this._root},uM.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},uM.visit=function(e){var t,n,r,i,a=[],o=this._root;for(o&&a.push(new nM(o,this._x0,this._x1));t=a.pop();)if(!e(o=t.node,r=t.x0,i=t.x1)&&o.length){var u=(r+i)/2;(n=o[1])&&a.push(new nM(n,u,i)),(n=o[0])&&a.push(new nM(n,r,u))}return this},uM.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new nM(this._root,this._x0,this._x1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.x1,s=(o+u)/2;(a=i[0])&&n.push(new nM(a,o,s)),(a=i[1])&&n.push(new nM(a,s,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},uM.x=function(e){return arguments.length?(this._x=e,this):this._x};var vM=dM.prototype=hM.prototype;function mM(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var a,o,u,s,l,c,f,d,h,p,v,m,g=e._root,y={data:i},b=e._x0,_=e._y0,x=e._z0,w=e._x1,E=e._y1,C=e._z1;if(!g)return e._root=y,e;for(;g.length;)if((d=t>=(o=(b+w)/2))?b=o:w=o,(h=n>=(u=(_+E)/2))?_=u:E=u,(p=r>=(s=(x+C)/2))?x=s:C=s,a=g,!(g=g[v=p<<2|h<<1|d]))return a[v]=y,e;if(l=+e._x.call(null,g.data),c=+e._y.call(null,g.data),f=+e._z.call(null,g.data),t===l&&n===c&&r===f)return y.next=g,a?a[v]=y:e._root=y,e;do{a=a?a[v]=new Array(8):e._root=new Array(8),(d=t>=(o=(b+w)/2))?b=o:w=o,(h=n>=(u=(_+E)/2))?_=u:E=u,(p=r>=(s=(x+C)/2))?x=s:C=s}while((v=p<<2|h<<1|d)===(m=(f>=s)<<2|(c>=u)<<1|l>=o));return a[m]=g,a[v]=y,e}function gM(e,t,n,r,i,a,o){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=a,this.z1=o}function yM(e){return e[0]}function bM(e){return e[1]}function _M(e){return e[2]}function xM(e,t,n,r){var i=new wM(null==t?yM:t,null==n?bM:n,null==r?_M:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function wM(e,t,n,r,i,a,o,u,s){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=u,this._z1=s,this._root=void 0}function EM(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}vM.copy=function(){var e,t,n=new hM(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=pM(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=pM(t));return n},vM.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return sM(this.cover(t,n),t,n,e)},vM.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),u=new Array(a),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<a;++n)sM(this,o[n],u[n],e[n]);return this},vM.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,u,s=i-n||1,l=this._root;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=l,l=o,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},vM.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},vM.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},vM.find=function(e,t,n){var r,i,a,o,u,s,l,c=this._x0,f=this._y0,d=this._x1,h=this._y1,p=[],v=this._root;for(v&&p.push(new lM(v,c,f,d,h)),null==n?n=1/0:(c=e-n,f=t-n,d=e+n,h=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(i=s.x0)>d||(a=s.y0)>h||(o=s.x1)<c||(u=s.y1)<f))if(v.length){var m=(i+o)/2,g=(a+u)/2;p.push(new lM(v[3],m,g,o,u),new lM(v[2],i,g,m,u),new lM(v[1],m,a,o,g),new lM(v[0],i,a,m,g)),(l=(t>=g)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),_=y*y+b*b;if(_<n){var x=Math.sqrt(n=_);c=e-x,f=t-x,d=e+x,h=t+x,r=v.data}}return r},vM.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,u,s,l,c,f,d,h=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!h)return this;if(h.length)for(;;){if((l=a>=(u=(p+m)/2))?p=u:m=u,(c=o>=(s=(v+g)/2))?v=s:g=s,t=h,!(h=h[f=c<<1|l]))return this;if(!h.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,d=f)}for(;h.data!==e;)if(r=h,!(h=h.next))return this;return(i=h.next)&&delete h.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[d]=h:this._root=h),this):(this._root=i,this)},vM.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},vM.root=function(){return this._root},vM.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},vM.visit=function(e){var t,n,r,i,a,o,u=[],s=this._root;for(s&&u.push(new lM(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&s.length){var l=(r+a)/2,c=(i+o)/2;(n=s[3])&&u.push(new lM(n,l,c,a,o)),(n=s[2])&&u.push(new lM(n,r,c,l,o)),(n=s[1])&&u.push(new lM(n,l,i,a,c)),(n=s[0])&&u.push(new lM(n,r,i,l,c))}return this},vM.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new lM(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.y0,s=t.x1,l=t.y1,c=(o+s)/2,f=(u+l)/2;(a=i[0])&&n.push(new lM(a,o,u,c,f)),(a=i[1])&&n.push(new lM(a,c,u,s,f)),(a=i[2])&&n.push(new lM(a,o,f,c,l)),(a=i[3])&&n.push(new lM(a,c,f,s,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},vM.x=function(e){return arguments.length?(this._x=e,this):this._x},vM.y=function(e){return arguments.length?(this._y=e,this):this._y};var CM=xM.prototype=wM.prototype;function kM(){var e,t,n,r,i,a,o=$D(-30),u=1,s=1/0,l=.81;function c(r){var a,o=e.length,u=(1===t?iM(e,VD):2===t?dM(e,VD,HD):3===t?xM(e,VD,HD,GD):null).visitAfter(d);for(i=r,a=0;a<o;++a)n=e[a],u.visit(h)}function f(){if(e){var t,n,r=e.length;for(a=new Array(r),t=0;t<r;++t)n=e[t],a[n.index]=+o(n,t,e)}}function d(e){var n,r,i,o,u,s,l=0,c=0,f=e.length;if(f){for(i=o=u=s=0;s<f;++s)(n=e[s])&&(r=Math.abs(n.value))&&(l+=n.value,c+=r,i+=r*(n.x||0),o+=r*(n.y||0),u+=r*(n.z||0));l*=Math.sqrt(4/f),e.x=i/c,t>1&&(e.y=o/c),t>2&&(e.z=u/c)}else{(n=e).x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{l+=a[n.data.index]}while(n=n.next)}e.value=l}function h(e,o,c,f,d){if(!e.value)return!0;var h=[c,f,d][t-1],p=e.x-n.x,v=t>1?e.y-n.y:0,m=t>2?e.z-n.z:0,g=h-o,y=p*p+v*v+m*m;if(g*g/l<y)return y<s&&(0===p&&(y+=(p=KD(r))*p),t>1&&0===v&&(y+=(v=KD(r))*v),t>2&&0===m&&(y+=(m=KD(r))*m),y<u&&(y=Math.sqrt(u*y)),n.vx+=p*e.value*i/y,t>1&&(n.vy+=v*e.value*i/y),t>2&&(n.vz+=m*e.value*i/y)),!0;if(!(e.length||y>=s)){(e.data!==n||e.next)&&(0===p&&(y+=(p=KD(r))*p),t>1&&0===v&&(y+=(v=KD(r))*v),t>2&&0===m&&(y+=(m=KD(r))*m),y<u&&(y=Math.sqrt(u*y)));do{e.data!==n&&(g=a[e.data.index]*i/y,n.vx+=p*g,t>1&&(n.vy+=v*g),t>2&&(n.vz+=m*g))}while(e=e.next)}}return c.initialize=function(n){e=n;for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];r=a.find((function(e){return"function"===typeof e}))||Math.random,t=a.find((function(e){return[1,2,3].includes(e)}))||2,f()},c.strength=function(e){return arguments.length?(o="function"===typeof e?e:$D(+e),f(),c):o},c.distanceMin=function(e){return arguments.length?(u=e*e,c):Math.sqrt(u)},c.distanceMax=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}function SM(e,t,n){var r,i=1;function a(){var a,o,u=r.length,s=0,l=0,c=0;for(a=0;a<u;++a)s+=(o=r[a]).x||0,l+=o.y||0,c+=o.z||0;for(s=(s/u-e)*i,l=(l/u-t)*i,c=(c/u-n)*i,a=0;a<u;++a)o=r[a],s&&(o.x-=s),l&&(o.y-=l),c&&(o.z-=c)}return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),a.initialize=function(e){r=e},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(e){return arguments.length?(t=+e,a):t},a.z=function(e){return arguments.length?(n=+e,a):n},a.strength=function(e){return arguments.length?(i=+e,a):i},a}CM.copy=function(){var e,t,n=new wM(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=EM(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=EM(t));return n},CM.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return mM(this.cover(t,n,r),t,n,r,e)},CM.addAll=function(e){Array.isArray(e)||(e=Array.from(e));for(var t,n,r,i,a=e.length,o=new Float64Array(a),u=new Float64Array(a),s=new Float64Array(a),l=1/0,c=1/0,f=1/0,d=-1/0,h=-1/0,p=-1/0,v=0;v<a;++v)isNaN(n=+this._x.call(null,t=e[v]))||isNaN(r=+this._y.call(null,t))||isNaN(i=+this._z.call(null,t))||(o[v]=n,u[v]=r,s[v]=i,n<l&&(l=n),n>d&&(d=n),r<c&&(c=r),r>h&&(h=r),i<f&&(f=i),i>p&&(p=i));if(l>d||c>h||f>p)return this;this.cover(l,c,f).cover(d,h,p);for(var m=0;m<a;++m)mM(this,o[m],u[m],s[m],e[m]);return this},CM.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,a=this._z0,o=this._x1,u=this._y1,s=this._z1;if(isNaN(r))o=(r=Math.floor(e))+1,u=(i=Math.floor(t))+1,s=(a=Math.floor(n))+1;else{for(var l,c,f=o-r||1,d=this._root;r>e||e>=o||i>t||t>=u||a>n||n>=s;)switch(c=(n<a)<<2|(t<i)<<1|e<r,(l=new Array(8))[c]=d,d=l,f*=2,c){case 0:o=r+f,u=i+f,s=a+f;break;case 1:r=o-f,u=i+f,s=a+f;break;case 2:o=r+f,i=u-f,s=a+f;break;case 3:r=o-f,i=u-f,s=a+f;break;case 4:o=r+f,u=i+f,a=s-f;break;case 5:r=o-f,u=i+f,a=s-f;break;case 6:o=r+f,i=u-f,a=s-f;break;case 7:r=o-f,i=u-f,a=s-f}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=i,this._z0=a,this._x1=o,this._y1=u,this._z1=s,this},CM.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},CM.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},CM.find=function(e,t,n,r){var i,a,o,u,s,l,c,f,d,h=this._x0,p=this._y0,v=this._z0,m=this._x1,g=this._y1,y=this._z1,b=[],_=this._root;for(_&&b.push(new gM(_,h,p,v,m,g,y)),null==r?r=1/0:(h=e-r,p=t-r,v=n-r,m=e+r,g=t+r,y=n+r,r*=r);f=b.pop();)if(!(!(_=f.node)||(a=f.x0)>m||(o=f.y0)>g||(u=f.z0)>y||(s=f.x1)<h||(l=f.y1)<p||(c=f.z1)<v))if(_.length){var x=(a+s)/2,w=(o+l)/2,E=(u+c)/2;b.push(new gM(_[7],x,w,E,s,l,c),new gM(_[6],a,w,E,x,l,c),new gM(_[5],x,o,E,s,w,c),new gM(_[4],a,o,E,x,w,c),new gM(_[3],x,w,u,s,l,E),new gM(_[2],a,w,u,x,l,E),new gM(_[1],x,o,u,s,w,E),new gM(_[0],a,o,u,x,w,E)),(d=(n>=E)<<2|(t>=w)<<1|e>=x)&&(f=b[b.length-1],b[b.length-1]=b[b.length-1-d],b[b.length-1-d]=f)}else{var C=e-+this._x.call(null,_.data),k=t-+this._y.call(null,_.data),S=n-+this._z.call(null,_.data),A=C*C+k*k+S*S;if(A<r){var D=Math.sqrt(r=A);h=e-D,p=t-D,v=n-D,m=e+D,g=t+D,y=n+D,i=_.data}}return i},CM.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e))||isNaN(u=+this._z.call(null,e)))return this;var t,n,r,i,a,o,u,s,l,c,f,d,h,p,v,m=this._root,g=this._x0,y=this._y0,b=this._z0,_=this._x1,x=this._y1,w=this._z1;if(!m)return this;if(m.length)for(;;){if((f=a>=(s=(g+_)/2))?g=s:_=s,(d=o>=(l=(y+x)/2))?y=l:x=l,(h=u>=(c=(b+w)/2))?b=c:w=c,t=m,!(m=m[p=h<<2|d<<1|f]))return this;if(!m.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,v=p)}for(;m.data!==e;)if(r=m,!(m=m.next))return this;return(i=m.next)&&delete m.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(m=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&m===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!m.length&&(n?n[v]=m:this._root=m),this):(this._root=i,this)},CM.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},CM.root=function(){return this._root},CM.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},CM.visit=function(e){var t,n,r,i,a,o,u,s,l=[],c=this._root;for(c&&l.push(new gM(c,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=l.pop();)if(!e(c=t.node,r=t.x0,i=t.y0,a=t.z0,o=t.x1,u=t.y1,s=t.z1)&&c.length){var f=(r+o)/2,d=(i+u)/2,h=(a+s)/2;(n=c[7])&&l.push(new gM(n,f,d,h,o,u,s)),(n=c[6])&&l.push(new gM(n,r,d,h,f,u,s)),(n=c[5])&&l.push(new gM(n,f,i,h,o,d,s)),(n=c[4])&&l.push(new gM(n,r,i,h,f,d,s)),(n=c[3])&&l.push(new gM(n,f,d,a,o,u,h)),(n=c[2])&&l.push(new gM(n,r,d,a,f,u,h)),(n=c[1])&&l.push(new gM(n,f,i,a,o,d,h)),(n=c[0])&&l.push(new gM(n,r,i,a,f,d,h))}return this},CM.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new gM(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.y0,s=t.z0,l=t.x1,c=t.y1,f=t.z1,d=(o+l)/2,h=(u+c)/2,p=(s+f)/2;(a=i[0])&&n.push(new gM(a,o,u,s,d,h,p)),(a=i[1])&&n.push(new gM(a,d,u,s,l,h,p)),(a=i[2])&&n.push(new gM(a,o,h,s,d,c,p)),(a=i[3])&&n.push(new gM(a,d,h,s,l,c,p)),(a=i[4])&&n.push(new gM(a,o,u,p,d,h,f)),(a=i[5])&&n.push(new gM(a,d,u,p,l,h,f)),(a=i[6])&&n.push(new gM(a,o,h,p,d,c,f)),(a=i[7])&&n.push(new gM(a,d,h,p,l,c,f))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},CM.x=function(e){return arguments.length?(this._x=e,this):this._x},CM.y=function(e){return arguments.length?(this._y=e,this):this._y},CM.z=function(e){return arguments.length?(this._z=e,this):this._z};var AM=Math.abs,DM=Math.cos,MM=Math.sin,TM=Math.acos,PM=Math.atan2,OM=Math.sqrt,RM=Math.pow;function FM(e){return e<0?-RM(-e,1/3):RM(e,1/3)}var NM=Math.PI,IM=2*NM,BM=NM/2,LM=Number.MAX_SAFE_INTEGER||9007199254740991,zM=Number.MIN_SAFE_INTEGER||-9007199254740991,UM={x:0,y:0,z:0},jM={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return"undefined"!==typeof n.z&&(r+=n.z*n.z),OM(r)},compute:function(e,t,n){if(0===e)return t[0].t=0,t[0];var r=t.length-1;if(1===e)return t[r].t=1,t[r];var i=1-e,a=t;if(0===r)return t[0].t=e,t[0];if(1===r){var o={x:i*a[0].x+e*a[1].x,y:i*a[0].y+e*a[1].y,t:e};return n&&(o.z=i*a[0].z+e*a[1].z),o}if(r<4){var u,s,l,c=i*i,f=e*e,d=0;2===r?(a=[a[0],a[1],a[2],UM],u=c,s=i*e*2,l=f):3===r&&(u=c*i,s=c*e*3,l=i*f*3,d=e*f);var h={x:u*a[0].x+s*a[1].x+l*a[2].x+d*a[3].x,y:u*a[0].y+s*a[1].y+l*a[2].y+d*a[3].y,t:e};return n&&(h.z=u*a[0].z+s*a[1].z+l*a[2].z+d*a[3].z),h}for(var p=JSON.parse(JSON.stringify(t));p.length>1;){for(var v=0;v<p.length-1;v++)p[v]={x:p[v].x+(p[v+1].x-p[v].x)*e,y:p[v].y+(p[v+1].y-p[v].y)*e},"undefined"!==typeof p[v].z&&(p[v]=p[v].z+(p[v+1].z-p[v].z)*e);p.splice(p.length-1,1)}return p[0].t=e,p[0]},computeWithRatios:function(e,t,n,r){var i,a=1-e,o=n,u=t,s=o[0],l=o[1],c=o[2],f=o[3];return s*=a,l*=e,2===u.length?(i=s+l,{x:(s*u[0].x+l*u[1].x)/i,y:(s*u[0].y+l*u[1].y)/i,z:!!r&&(s*u[0].z+l*u[1].z)/i,t:e}):(s*=a,l*=2*a,c*=e*e,3===u.length?(i=s+l+c,{x:(s*u[0].x+l*u[1].x+c*u[2].x)/i,y:(s*u[0].y+l*u[1].y+c*u[2].y)/i,z:!!r&&(s*u[0].z+l*u[1].z+c*u[2].z)/i,t:e}):(s*=a,l*=1.5*a,c*=3*a,f*=e*e*e,4===u.length?(i=s+l+c+f,{x:(s*u[0].x+l*u[1].x+c*u[2].x+f*u[3].x)/i,y:(s*u[0].y+l*u[1].y+c*u[2].y+f*u[3].y)/i,z:!!r&&(s*u[0].z+l*u[1].z+c*u[2].z+f*u[3].z)/i,t:e}):void 0))},derive:function(e,t){for(var n=[],r=e,i=r.length,a=i-1;i>1;i--,a--){for(var o,u=[],s=0;s<a;s++)o={x:a*(r[s+1].x-r[s].x),y:a*(r[s+1].y-r[s].y)},t&&(o.z=a*(r[s+1].z-r[s].z)),u.push(o);n.push(u),r=u}return n},between:function(e,t,n){return t<=e&&e<=n||jM.approximately(e,t)||jM.approximately(e,n)},approximately:function(e,t,n){return AM(e-t)<=(n||1e-6)},length:function(e){for(var t,n=jM.Tvalues.length,r=0,i=0;i<n;i++)t=.5*jM.Tvalues[i]+.5,r+=jM.Cvalues[i]*jM.arcfn(t,e);return.5*r},map:function(e,t,n,r,i){return r+(i-r)*((e-t)/(n-t))},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return void 0!==t.z&&void 0!==n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return"undefined"!==typeof e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(jM.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r=t.x-e.x,i=t.y-e.y,a=n.x-e.x,o=n.y-e.y;return PM(r*o-i*a,r*a+i*o)},round:function(e,t){var n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return OM(n*n+r*r)},closest:function(e,t){var n,r,i=RM(2,63);return e.forEach((function(e,a){(r=jM.dist(t,e))<i&&(i=r,n=a)})),{mdist:i,mpos:n}},abcratio:function(e,t){if(2!==t&&3!==t)return!1;if("undefined"===typeof e)e=.5;else if(0===e||1===e)return e;var n=RM(e,t)+RM(1-e,t);return AM((n-1)/n)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if("undefined"===typeof e)e=.5;else if(0===e||1===e)return e;var n=RM(1-e,t);return n/(RM(e,t)+n)},lli8:function(e,t,n,r,i,a,o,u){var s=(e-n)*(a-u)-(t-r)*(i-o);return 0!=s&&{x:((e*r-t*n)*(i-o)-(e-n)*(i*u-a*o))/s,y:((e*r-t*n)*(a-u)-(t-r)*(i*u-a*o))/s}},lli4:function(e,t,n,r){var i=e.x,a=e.y,o=t.x,u=t.y,s=n.x,l=n.y,c=r.x,f=r.y;return jM.lli8(i,a,o,u,s,l,c,f)},lli:function(e,t){return jM.lli4(e,e.c,t,t.c)},makeline:function(e,t){return new KM(e.x,e.y,(e.x+t.x)/2,(e.y+t.y)/2,t.x,t.y)},findbbox:function(e){var t=LM,n=LM,r=zM,i=zM;return e.forEach((function(e){var a=e.bbox();t>a.x.min&&(t=a.x.min),n>a.y.min&&(n=a.y.min),r<a.x.max&&(r=a.x.max),i<a.y.max&&(i=a.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!jM.bboxoverlap(t,r))return[];var a=[],o=[e.startcap,e.forward,e.back,e.endcap],u=[n.startcap,n.forward,n.back,n.endcap];return o.forEach((function(t){t.virtual||u.forEach((function(r){if(!r.virtual){var o=t.intersects(r,i);o.length>0&&(o.c1=t,o.c2=r,o.s1=e,o.s2=n,a.push(o))}}))})),a},makeshape:function(e,t,n){var r=t.points.length,i=e.points.length,a=jM.makeline(t.points[r-1],e.points[0]),o=jM.makeline(e.points[i-1],t.points[0]),u={startcap:a,forward:e,back:t,endcap:o,bbox:jM.findbbox([a,e,t,o]),intersections:function(e){return jM.shapeintersections(u,u.bbox,e,e.bbox,n)}};return u},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,i,a=LM,o=zM;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var u=0,s=n.length;u<s;u++)r=n[u],(i=e.get(r))[t]<a&&(a=i[t]),i[t]>o&&(o=i[t]);return{min:a,mid:(a+o)/2,max:o,size:o-a}},align:function(e,t){var n=t.p1.x,r=t.p1.y,i=-PM(t.p2.y-r,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*DM(i)-(e.y-r)*MM(i),y:(e.x-n)*MM(i)+(e.y-r)*DM(i)}}))},roots:function(e,t){t=t||{p1:{x:0,y:0},p2:{x:1,y:0}};var n=e.length-1,r=jM.align(e,t),i=function(e){return 0<=e&&e<=1};if(2===n){var a=r[0].y,o=r[1].y,u=r[2].y,s=a-2*o+u;if(0!==s){var l=-OM(o*o-a*u),c=-a+o;return[-(l+c)/s,-(-l+c)/s].filter(i)}return o!==u&&0===s?[(2*o-u)/(2*o-2*u)].filter(i):[]}var f=r[0].y,d=r[1].y,h=r[2].y,p=3*d-f-3*h+r[3].y,v=3*f-6*d+3*h,m=-3*f+3*d,g=f;if(jM.approximately(p,0)){if(jM.approximately(v,0))return jM.approximately(m,0)?[]:[-g/m].filter(i);var y=OM(m*m-4*v*g),b=2*v;return[(y-m)/b,(-m-y)/b].filter(i)}var _,x=(3*(m/=p)-(v/=p)*v)/3,w=x/3,E=(2*v*v*v-9*v*m+27*(g/=p))/27,C=E/2,k=C*C+w*w*w;if(k<0){var S=-x/3,A=OM(S*S*S),D=-E/(2*A),M=TM(D<-1?-1:D>1?1:D),T=2*FM(A);return[T*DM(M/3)-v/3,T*DM((M+IM)/3)-v/3,T*DM((M+2*IM)/3)-v/3].filter(i)}if(0===k)return[2*(_=C<0?FM(-C):-FM(C))-v/3,-_-v/3].filter(i);var P=OM(k);return[(_=FM(-C+P))-FM(C+P)-v/3].filter(i)},droots:function(e){if(3===e.length){var t=e[0],n=e[1],r=e[2],i=t-2*n+r;if(0!==i){var a=-OM(n*n-t*r),o=-t+n;return[-(a+o)/i,-(-a+o)/i]}return n!==r&&0===i?[(2*n-r)/(2*(n-r))]:[]}if(2===e.length){var u=e[0],s=e[1];return u!==s?[u/(u-s)]:[]}return[]},curvature:function(e,t,n,r,i){var a,o,u,s,l,c,f=jM.compute(e,t),d=jM.compute(e,n),h=f.x*f.x+f.y*f.y;if(r?(a=OM(RM(f.y*d.z-d.y*f.z,2)+RM(f.z*d.x-d.z*f.x,2)+RM(f.x*d.y-d.x*f.y,2)),o=RM(h+f.z*f.z,1.5)):(a=f.x*d.y-f.y*d.x,o=RM(h,1.5)),0===a||0===o)return{k:0,r:0};if(l=a/o,c=o/a,!i){var p=jM.curvature(e-.001,t,n,r,!0).k,v=jM.curvature(e+.001,t,n,r,!0).k;s=(v-l+(l-p))/2,u=(AM(v-l)+AM(l-p))/2}return{k:l,r:c,dk:s,adk:u}},inflections:function(e){if(e.length<4)return[];var t=jM.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,a=18*(-3*n+2*r+3*i-t[3].x*t[2].y),o=18*(3*n-r-3*i),u=18*(i-n);if(jM.approximately(a,0)){if(!jM.approximately(o,0)){var s=-u/o;if(0<=s&&s<=1)return[s]}return[]}var l=2*a;if(jM.approximately(l,0))return[];var c=o*o-4*a*u;if(c<0)return[];var f=Math.sqrt(c);return[(f-o)/l,-(o+f)/l].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,t){for(var n,r,i,a,o=["x","y"],u=o.length,s=0;s<u;s++)if(r=e[n=o[s]].mid,i=t[n].mid,a=(e[n].size+t[n].size)/2,AM(r-i)>=a)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var r=e.bbox(),i=t.bbox(),a=1e5,o=n||.5;if(r.x.size+r.y.size<o&&i.x.size+i.y.size<o)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(t._t1+t._t2)/2|0)/a];var u=e.split(.5),s=t.split(.5),l=[{left:u.left,right:s.left},{left:u.left,right:s.right},{left:u.right,right:s.right},{left:u.right,right:s.left}];l=l.filter((function(e){return jM.bboxoverlap(e.left.bbox(),e.right.bbox())}));var c=[];return 0===l.length||(l.forEach((function(e){c=c.concat(jM.pairiteration(e.left,e.right,o))})),c=c.filter((function(e,t){return c.indexOf(e)===t}))),c},getccenter:function(e,t,n){var r,i=t.x-e.x,a=t.y-e.y,o=n.x-t.x,u=n.y-t.y,s=i*DM(BM)-a*MM(BM),l=i*MM(BM)+a*DM(BM),c=o*DM(BM)-u*MM(BM),f=o*MM(BM)+u*DM(BM),d=(e.x+t.x)/2,h=(e.y+t.y)/2,p=(t.x+n.x)/2,v=(t.y+n.y)/2,m=d+s,g=h+l,y=p+c,b=v+f,_=jM.lli8(d,h,m,g,p,v,y,b),x=jM.dist(_,e),w=PM(e.y-_.y,e.x-_.x),E=PM(t.y-_.y,t.x-_.x),C=PM(n.y-_.y,n.x-_.x);return w<C?((w>E||E>C)&&(w+=IM),w>C&&(r=C,C=w,w=r)):C<E&&E<w?(r=C,C=w,w=r):C+=IM,_.s=w,_.e=C,_.r=x,_},numberSort:function(e,t){return e-t}},WM=function(){function e(t){u(this,e),this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)}return(0,s.Z)(e,[{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return"["+this.curves.map((function(e){return jM.pointsToString(e.points)})).join(", ")+"]"}},{key:"addCurve",value:function(e){this.curves.push(e),this._3d=this._3d||e._3d}},{key:"length",value:function(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))}},{key:"curve",value:function(e){return this.curves[e]}},{key:"bbox",value:function(){for(var e=this.curves,t=e[0].bbox(),n=1;n<e.length;n++)jM.expandbox(t,e[n].bbox());return t}},{key:"offset",value:function(t){var n=[];return this.curves.forEach((function(e){n.push.apply(n,(0,o.Z)(e.offset(t)))})),new e(n)}}]),e}(),ZM=Math.abs,VM=Math.min,HM=Math.max,GM=Math.cos,qM=Math.sin,YM=Math.acos,XM=Math.sqrt,$M=Math.PI,KM=function(){function e(t){u(this,e);var n=t&&t.forEach?t:Array.from(arguments).slice(),r=!1;if("object"===typeof n[0]){r=n.length;var i=[];n.forEach((function(e){["x","y","z"].forEach((function(t){"undefined"!==typeof e[t]&&i.push(e[t])}))})),n=i}var a=!1,o=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");for(var s=this._3d=!a&&(9===o||12===o)||t&&t[0]&&"undefined"!==typeof t[0].z,l=this.points=[],c=0,f=s?3:2;c<o;c+=f){var d={x:n[c],y:n[c+1]};s&&(d.z=n[c+2]),l.push(d)}var h=this.order=l.length-1,p=this.dims=["x","y"];s&&p.push("z"),this.dimlen=p.length;var v=jM.align(l,{p1:l[0],p2:l[h]}),m=jM.dist(l[0],l[h]);this._linear=v.reduce((function(e,t){return e+ZM(t.y)}),0)<m/50,this._lut=[],this._t1=0,this._t2=1,this.update()}return(0,s.Z)(e,[{key:"getUtils",value:function(){return e.getUtils()}},{key:"valueOf",value:function(){return this.toString()}},{key:"toString",value:function(){return jM.pointsToString(this.points)}},{key:"toSVG",value:function(){if(this._3d)return!1;for(var e=this.points,t=["M",e[0].x,e[0].y,2===this.order?"Q":"C"],n=1,r=e.length;n<r;n++)t.push(e[n].x),t.push(e[n].y);return t.join(" ")}},{key:"setRatios",value:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]}},{key:"verify",value:function(){var e=this.coordDigest();e!==this._print&&(this._print=e,this.update())}},{key:"coordDigest",value:function(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")}},{key:"update",value:function(){this._lut=[],this.dpoints=jM.derive(this.points,this._3d),this.computedirection()}},{key:"computedirection",value:function(){var e=this.points,t=jM.angle(e[0],e[this.order],e[1]);this.clockwise=t>0}},{key:"length",value:function(){return jM.length(this.derivative.bind(this))}},{key:"getABC",value:function(t,n){n=n||this.get(t);var r=this.points[0],i=this.points[this.order];return e.getABC(this.order,r,n,i,t)}},{key:"getLUT",value:function(e){if(this.verify(),e=e||100,this._lut.length===e+1)return this._lut;this._lut=[],e++,this._lut=[];for(var t,n,r=0;r<e;r++)n=r/(e-1),(t=this.compute(n)).t=n,this._lut.push(t);return this._lut}},{key:"on",value:function(e,n){n=n||5;for(var r,i=this.getLUT(),a=[],o=0;o<i.length;o++)r=i[o],jM.dist(r,e)<n&&(a.push(r),o/i.length);return!!a.length&&(t/=a.length)}},{key:"project",value:function(e){var t,n,r=this.getLUT(),i=r.length-1,a=jM.closest(r,e),o=a.mpos,u=(o-1)/i,s=(o+1)/i,l=.1/i,c=a.mdist,f=u,d=f;for(c+=1;f<s+l;f+=l)t=this.compute(f),(n=jM.dist(e,t))<c&&(c=n,d=f);return d=d<0?0:d>1?1:d,(t=this.compute(d)).t=d,t.d=c,t}},{key:"get",value:function(e){return this.compute(e)}},{key:"point",value:function(e){return this.points[e]}},{key:"compute",value:function(e){return this.ratios?jM.computeWithRatios(e,this.points,this.ratios,this._3d):jM.compute(e,this.points,this._3d,this.ratios)}},{key:"raise",value:function(){for(var t,n,r=this.points,i=[r[0]],a=r.length,o=1;o<a;o++)t=r[o],n=r[o-1],i[o]={x:(a-o)/a*t.x+o/a*n.x,y:(a-o)/a*t.y+o/a*n.y};return i[a]=r[a-1],new e(i)}},{key:"derivative",value:function(e){return jM.compute(e,this.dpoints[0],this._3d)}},{key:"dderivative",value:function(e){return jM.compute(e,this.dpoints[1],this._3d)}},{key:"align",value:function(){var t=this.points;return new e(jM.align(t,{p1:t[0],p2:t[t.length-1]}))}},{key:"curvature",value:function(e){return jM.curvature(e,this.dpoints[0],this.dpoints[1],this._3d)}},{key:"inflections",value:function(){return jM.inflections(this.points)}},{key:"normal",value:function(e){return this._3d?this.__normal3(e):this.__normal2(e)}},{key:"__normal2",value:function(e){var t=this.derivative(e),n=XM(t.x*t.x+t.y*t.y);return{t:e,x:-t.y/n,y:t.x/n}}},{key:"__normal3",value:function(e){var t=this.derivative(e),n=this.derivative(e+.01),r=XM(t.x*t.x+t.y*t.y+t.z*t.z),i=XM(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;var a={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},o=XM(a.x*a.x+a.y*a.y+a.z*a.z);a.x/=o,a.y/=o,a.z/=o;var u=[a.x*a.x,a.x*a.y-a.z,a.x*a.z+a.y,a.x*a.y+a.z,a.y*a.y,a.y*a.z-a.x,a.x*a.z-a.y,a.y*a.z+a.x,a.z*a.z];return{t:e,x:u[0]*t.x+u[1]*t.y+u[2]*t.z,y:u[3]*t.x+u[4]*t.y+u[5]*t.z,z:u[6]*t.x+u[7]*t.y+u[8]*t.z}}},{key:"hull",value:function(e){var t=this.points,n=[],r=[],i=0;for(r[i++]=t[0],r[i++]=t[1],r[i++]=t[2],3===this.order&&(r[i++]=t[3]);t.length>1;){n=[];for(var a,o=0,u=t.length-1;o<u;o++)a=jM.lerp(e,t[o],t[o+1]),r[i++]=a,n.push(a);t=n}return r}},{key:"split",value:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r=this.hull(t),i={left:2===this.order?new e([r[0],r[3],r[5]]):new e([r[0],r[4],r[7],r[9]]),right:2===this.order?new e([r[5],r[4],r[2]]):new e([r[9],r[8],r[6],r[3]]),span:r};return i.left._t1=jM.map(0,0,1,this._t1,this._t2),i.left._t2=jM.map(t,0,1,this._t1,this._t2),i.right._t1=jM.map(t,0,1,this._t1,this._t2),i.right._t2=jM.map(1,0,1,this._t1,this._t2),n?(n=jM.map(n,t,1,0,1),i.right.split(n).left):i}},{key:"extrema",value:function(){var e={},t=[];return this.dims.forEach(function(n){var r=function(e){return e[n]},i=this.dpoints[0].map(r);e[n]=jM.droots(i),3===this.order&&(i=this.dpoints[1].map(r),e[n]=e[n].concat(jM.droots(i))),e[n]=e[n].filter((function(e){return e>=0&&e<=1})),t=t.concat(e[n].sort(jM.numberSort))}.bind(this)),e.values=t.sort(jM.numberSort).filter((function(e,n){return t.indexOf(e)===n})),e}},{key:"bbox",value:function(){var e=this.extrema(),t={};return this.dims.forEach(function(n){t[n]=jM.getminmax(this,n,e[n])}.bind(this)),t}},{key:"overlaps",value:function(e){var t=this.bbox(),n=e.bbox();return jM.bboxoverlap(t,n)}},{key:"offset",value:function(t,n){if("undefined"!==typeof n){var r=this.get(t),i=this.normal(t),a={c:r,n:i,x:r.x+i.x*n,y:r.y+i.y*n};return this._3d&&(a.z=r.z+i.z*n),a}if(this._linear){var o=this.normal(0),u=this.points.map((function(e){var n={x:e.x+t*o.x,y:e.y+t*o.y};return e.z&&o.z&&(n.z=e.z+t*o.z),n}));return[new e(u)]}return this.reduce().map((function(e){return e._linear?e.offset(t)[0]:e.scale(t)}))}},{key:"simple",value:function(){if(3===this.order){var e=jM.angle(this.points[0],this.points[3],this.points[1]),t=jM.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&t<0||e<0&&t>0)return!1}var n=this.normal(0),r=this.normal(1),i=n.x*r.x+n.y*r.y;return this._3d&&(i+=n.z*r.z),ZM(YM(i))<$M/3}},{key:"reduce",value:function(){var e,t,n=0,r=0,i=.01,a=[],o=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),n=u[0],e=1;e<u.length;e++)r=u[e],(t=this.split(n,r))._t1=n,t._t2=r,a.push(t),n=r;return a.forEach((function(e){for(n=0,r=0;r<=1;)for(r=n+i;r<=1.01;r+=i)if(!(t=e.split(n,r)).simple()){if(ZM(n-(r-=i))<i)return[];(t=e.split(n,r))._t1=jM.map(n,0,1,e._t1,e._t2),t._t2=jM.map(r,0,1,e._t1,e._t2),o.push(t),n=r;break}n<1&&((t=e.split(n,1))._t1=jM.map(n,0,1,e._t1,e._t2),t._t2=e._t2,o.push(t))})),o}},{key:"translate",value:function(t,n,r){r="number"===typeof r?r:n;var i=this.order,a=this.points.map((function(e,t){return(1-t/i)*n+t/i*r}));return new e(this.points.map((function(e,n){return{x:e.x+t.x*a[n],y:e.y+t.y*a[n]}})))}},{key:"scale",value:function(t){var n=this,r=this.order,i=!1;if("function"===typeof t&&(i=t),i&&2===r)return this.raise().scale(i);var a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):t,i?i(1):t);var u=i?i(0):t,s=i?i(1):t,l=[this.offset(0,10),this.offset(1,10)],c=[],f=jM.lli4(l[0],l[0].c,l[1],l[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach((function(e){var t=c[e*r]=jM.copy(o[e*r]);t.x+=(e?s:u)*l[e].n.x,t.y+=(e?s:u)*l[e].n.y})),i?([0,1].forEach((function(e){if(2!==r||!e){var n=o[e+1],u={x:n.x-f.x,y:n.y-f.y},s=i?i((e+1)/r):t;i&&!a&&(s=-s);var l=XM(u.x*u.x+u.y*u.y);u.x/=l,u.y/=l,c[e+1]={x:n.x+s*u.x,y:n.y+s*u.y}}})),new e(c)):([0,1].forEach((function(e){if(2!==r||!e){var t=c[e*r],i=n.derivative(e),a={x:t.x+i.x,y:t.y+i.y};c[e+1]=jM.lli4(t,a,f,o[e+1])}})),new e(c))}},{key:"outline",value:function(t,n,r,i){if(n=void 0===n?t:n,this._linear){var a,o,u=this.normal(0),s=this.points[0],l=this.points[this.points.length-1];void 0===r&&(r=t,i=n),a={x:s.x+u.x*t,y:s.y+u.y*t},o={x:l.x+u.x*r,y:l.y+u.y*r};var c=[a,{x:(a.x+o.x)/2,y:(a.y+o.y)/2},o];a={x:s.x-u.x*n,y:s.y-u.y*n};var f=[o={x:l.x-u.x*i,y:l.y-u.y*i},{x:(a.x+o.x)/2,y:(a.y+o.y)/2},a],d=jM.makeline(f[2],c[0]),h=jM.makeline(c[2],f[0]),p=[d,new e(c),h,new e(f)];return new WM(p)}var v,m=this.reduce(),g=m.length,y=[],b=[],_=0,x=this.length(),w="undefined"!==typeof r&&"undefined"!==typeof i;function E(e,t,n,r,i){return function(a){var o=r/n,u=(r+i)/n,s=t-e;return jM.map(a,0,1,e+o*s,e+u*s)}}m.forEach((function(e){var a=e.length();w?(y.push(e.scale(E(t,r,x,_,a))),b.push(e.scale(E(-n,-i,x,_,a)))):(y.push(e.scale(t)),b.push(e.scale(-n))),_+=a})),b=b.map((function(e){return(v=e.points)[3]?e.points=[v[3],v[2],v[1],v[0]]:e.points=[v[2],v[1],v[0]],e})).reverse();var C=y[0].points[0],k=y[g-1].points[y[g-1].points.length-1],S=b[g-1].points[b[g-1].points.length-1],A=b[0].points[0],D=jM.makeline(S,C),M=jM.makeline(k,A),T=[D].concat(y).concat([M]).concat(b);return new WM(T)}},{key:"outlineshapes",value:function(e,t,n){t=t||e;for(var r=this.outline(e,t).curves,i=[],a=1,o=r.length;a<o/2;a++){var u=jM.makeshape(r[a],r[o-a],n);u.startcap.virtual=a>1,u.endcap.virtual=a<o/2-1,i.push(u)}return i}},{key:"intersects",value:function(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof e&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)}},{key:"lineIntersects",value:function(e){var t=this,n=VM(e.p1.x,e.p2.x),r=VM(e.p1.y,e.p2.y),i=HM(e.p1.x,e.p2.x),a=HM(e.p1.y,e.p2.y);return jM.roots(this.points,e).filter((function(e){var o=t.get(e);return jM.between(o.x,n,i)&&jM.between(o.y,r,a)}))}},{key:"selfintersects",value:function(e){for(var t,n,r,i=this.reduce(),a=i.length-2,u=[],s=0;s<a;s++)n=i.slice(s,s+1),r=i.slice(s+2),t=this.curveintersects(n,r,e),u.push.apply(u,(0,o.Z)(t));return u}},{key:"curveintersects",value:function(e,t,n){var r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));var i=[];return r.forEach((function(e){var t=jM.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i}},{key:"arcs",value:function(e){return e=e||.5,this._iterate(e,[])}},{key:"_error",value:function(e,t,n,r){var i=(r-n)/4,a=this.get(n+i),o=this.get(r-i),u=jM.dist(e,t),s=jM.dist(e,a),l=jM.dist(e,o);return ZM(s-u)+ZM(l-u)}},{key:"_iterate",value:function(e,t){var n,r=0,i=1;do{n=0,i=1;var a=this.get(r),o=void 0,u=void 0,s=void 0,l=void 0,c=!1,f=!1,d=void 0,h=i,p=1;do{if(f=c,l=s,h=(r+i)/2,o=this.get(h),u=this.get(i),(s=jM.getccenter(a,o,u)).interval={start:r,end:i},c=this._error(s,a,r,i)<=e,(d=f&&!c)||(p=i),c){if(i>=1){if(s.interval.end=p=1,l=s,i>1){var v={x:s.x+s.r*GM(s.e),y:s.y+s.r*qM(s.e)};s.e+=jM.angle({x:s.x,y:s.y},v,this.get(1))}break}i+=(i-r)/2}else i=h}while(!d&&n++<100);if(n>=100)break;l=l||s,t.push(l),r=p}while(i<1);return t}}],[{key:"quadraticFromPoints",value:function(t,n,r,i){if("undefined"===typeof i&&(i=.5),0===i)return new e(n,n,r);if(1===i)return new e(t,n,n);var a=e.getABC(2,t,n,r,i);return new e(t,a.A,r)}},{key:"cubicFromPoints",value:function(t,n,r,i,a){"undefined"===typeof i&&(i=.5);var o=e.getABC(3,t,n,r,i);"undefined"===typeof a&&(a=jM.dist(n,o.C));var u=a*(1-i)/i,s=jM.dist(t,r),l=(r.x-t.x)/s,c=(r.y-t.y)/s,f=a*l,d=a*c,h=u*l,p=u*c,v=n.x-f,m=n.y-d,g=n.x+h,y=n.y+p,b=o.A,_=b.x+(v-b.x)/(1-i),x=b.y+(m-b.y)/(1-i),w=b.x+(g-b.x)/i,E=b.y+(y-b.y)/i;return new e(t,{x:t.x+(_-t.x)/i,y:t.y+(x-t.y)/i},{x:r.x+(w-r.x)/(1-i),y:r.y+(E-r.y)/(1-i)},r)}},{key:"getUtils",value:function(){return jM}},{key:"PolyBezier",get:function(){return WM}},{key:"getABC",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,a=jM.projectionratio(i,e),o=1-a,u={x:a*t.x+o*r.x,y:a*t.y+o*r.y},s=jM.abcratio(i,e);return{A:{x:n.x+(n.x-u.x)/s,y:n.y+(n.y-u.y)/s},B:n,C:u,S:t,E:r}}}]),e}();function JM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function QM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||tT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eT(e){return function(e){if(Array.isArray(e))return nT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tT(e,t){if(e){if("string"===typeof e)return nT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nT(e,t):void 0}}function nT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rT(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var iT=function(e){c(n,e);var t=v(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sT;if(u(this,n),r=t.call(this),Object.defineProperties((0,p.Z)(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var o,s=E(e);try{for(s.s();!(o=s.n()).done;){var l=(0,a.Z)(o.value,2),c=l[0],f=l[1];r.set(c,f)}}catch(d){s.e(d)}finally{s.f()}}return r}return(0,s.Z)(n,[{key:"get",value:function(e){return Oa(f(n.prototype),"get",this).call(this,aT(this,e))}},{key:"has",value:function(e){return Oa(f(n.prototype),"has",this).call(this,aT(this,e))}},{key:"set",value:function(e,t){return Oa(f(n.prototype),"set",this).call(this,oT(this,e),t)}},{key:"delete",value:function(e){return Oa(f(n.prototype),"delete",this).call(this,uT(this,e))}}]),n}(g(Map));Set;function aT(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function oT(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function uT(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function sT(e){return null!==e&&"object"===typeof e?e.valueOf():e}function lT(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var cT=Symbol("implicit");var fT=function(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dT(Object(n),!0).forEach((function(t){vT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pT(e){return pT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pT(e)}function vT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mT(e,t){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mT(e,t)}function gT(e,t,n){return gT=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(pW){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&mT(i,n.prototype),i},gT.apply(null,arguments)}function yT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||_T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bT(e){return function(e){if(Array.isArray(e))return xT(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _T(e,t){if(e){if("string"===typeof e)return xT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xT(e,t):void 0}}function xT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".force-graph-container canvas {\n  display: block;\n  user-select: none;\n  outline: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.force-graph-container .graph-tooltip {\n  position: absolute;\n  top: 0;\n  font-family: sans-serif;\n  font-size: 16px;\n  padding: 4px;\n  border-radius: 3px;\n  color: #eee;\n  background: rgba(0,0,0,0.65);\n  visibility: hidden; /* by default */\n}\n\n.force-graph-container .clickable {\n  cursor: pointer;\n}\n\n.force-graph-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.force-graph-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n");var wT=function e(){var t=new iT,n=[],r=[],i=cT;function a(e){var a=t.get(e);if(void 0===a){if(i!==cT)return i;t.set(e,a=n.push(e)-1)}return r[a%r.length]}return a.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new iT;var r,i=E(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.has(o)||t.set(o,n.push(o)-1)}}catch(u){i.e(u)}finally{i.f()}return a},a.range=function(e){return arguments.length?(r=Array.from(e),a):r.slice()},a.unknown=function(e){return arguments.length?(i=e,a):i},a.copy=function(){return e(n,r).unknown(i)},lT.apply(a,arguments),a}(fT);function ET(e,t,n){t&&"string"===typeof n&&e.filter((function(e){return!e[n]})).forEach((function(e){e[n]=wT(t(e))}))}var CT=function(e,t){return t.onNeedsRedraw&&t.onNeedsRedraw()},kT=function(e,t){if(!t.isShadow){var n=tD(t.linkDirectionalParticles);t.graphData.links.forEach((function(e){var t=Math.round(Math.abs(n(e)));t?e.__photons=bT(Array(t)).map((function(){return{}})):delete e.__photons}))}},ST=eD({props:{graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1,kT(0,t)}},dagMode:{onChange:function(e,t){!e&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:CT},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:CT},nodeColor:{default:"color",triggerUpdate:!1,onChange:CT},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:CT},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:CT},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:CT},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:CT},linkColor:{default:"color",triggerUpdate:!1,onChange:CT},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:CT},linkWidth:{default:1,triggerUpdate:!1,onChange:CT},linkCurvature:{default:0,triggerUpdate:!1,onChange:CT},linkCanvasObject:{triggerUpdate:!1,onChange:CT},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:CT},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:CT},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:CT},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:CT},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:kT},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.forceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(e,t,n){return void 0===n?e.forceLayout.force(t):(e.forceLayout.force(t,n),this)},d3ReheatSimulation:function(e){return e.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},isEngineRunning:function(e){return!!e.engineRunning},tickFrame:function(e){return!e.isShadow&&e.engineRunning&&(++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.forceLayout.tick(),e.onEngineTick())),function(){var t=tD(e.linkVisibility),n=tD(e.linkColor),r=tD(e.linkWidth),i=tD(e.linkLineDash),a=tD(e.linkCurvature),o=tD(e.linkCanvasObjectMode),u=e.ctx,s=2*e.isShadow,l=e.graphData.links.filter(t);l.forEach((function(e){var t=a(e);if(!t)return void(e.__controlPoints=null);var n=e.source,r=e.target;if(!n||!r||!n.hasOwnProperty("x")||!r.hasOwnProperty("x"))return;var i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2));if(i>0){var o=Math.atan2(r.y-n.y,r.x-n.x),u=i*t,s={x:(n.x+r.x)/2+u*Math.cos(o-Math.PI/2),y:(n.y+r.y)/2+u*Math.sin(o-Math.PI/2)};e.__controlPoints=[s.x,s.y]}else{var l=70*t;e.__controlPoints=[r.x,r.y-l,r.x+l,r.y]}}));var c=[],f=[],d=l;if(e.linkCanvasObject){var h=[],p=[];l.forEach((function(e){return({before:c,after:f,replace:h}[o(e)]||p).push(e)})),d=[].concat(bT(c),f,p),c=c.concat(h)}u.save(),c.forEach((function(t){return e.linkCanvasObject(t,u,e.globalScale)})),u.restore();var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),a=e.reduce((function(e,t){var r=e,a=t;return i.forEach((function(e,t){var o,u=e.keyAccessor;if(e.isProp){var s=a,l=s[u],c=JM(s,[u].map(rT));o=l,a=c}else o=u(a,t);t+1<i.length?(r.hasOwnProperty(o)||(r[o]={}),r=r[o]):n?(r.hasOwnProperty(o)||(r[o]=[]),r[o].push(a)):r[o]=a})),e}),{});n instanceof Function&&function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(t).forEach((function(e){return t[e]=n(t[e])})):Object.values(t).forEach((function(t){return e(t,r+1)}))}(a);var o=a;return r&&(o=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?o.push({keys:n,vals:t}):Object.entries(t).forEach((function(t){var r=QM(t,2),i=r[0],a=r[1];return e(a,[].concat(eT(n),[i]))}))}(a),t instanceof Array&&0===t.length&&1===o.length&&(o[0].keys=[])),o}(d,[n,r,i]);u.save(),Object.entries(v).forEach((function(t){var n=yT(t,2),r=n[0],a=n[1],o=r&&"undefined"!==r?r:"rgba(0,0,0,0.15)";Object.entries(a).forEach((function(t){var n=yT(t,2),r=n[0],a=n[1],l=(r||1)/e.globalScale+s;Object.entries(a).forEach((function(e){var t=yT(e,2);t[0];var n=t[1],r=i(n[0]);u.beginPath(),n.forEach((function(e){var t=e.source,n=e.target;if(t&&n&&t.hasOwnProperty("x")&&n.hasOwnProperty("x")){u.moveTo(t.x,t.y);var r=e.__controlPoints;r?u[2===r.length?"quadraticCurveTo":"bezierCurveTo"].apply(u,bT(r).concat([n.x,n.y])):u.lineTo(n.x,n.y)}})),u.strokeStyle=o,u.lineWidth=l,u.setLineDash(r||[]),u.stroke()}))}))})),u.restore(),u.save(),f.forEach((function(t){return e.linkCanvasObject(t,u,e.globalScale)})),u.restore()}(),!e.isShadow&&function(){var t=tD(e.linkDirectionalArrowLength),n=tD(e.linkDirectionalArrowRelPos),r=tD(e.linkVisibility),i=tD(e.linkDirectionalArrowColor||e.linkColor),a=tD(e.nodeVal),o=e.ctx;o.save(),e.graphData.links.filter(r).forEach((function(r){var u=t(r);if(u&&!(u<0)){var s=r.source,l=r.target;if(s&&l&&s.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=Math.sqrt(Math.max(0,a(s)||1))*e.nodeRelSize,f=Math.sqrt(Math.max(0,a(l)||1))*e.nodeRelSize,d=Math.min(1,Math.max(0,n(r))),h=i(r)||"rgba(0,0,0,0.28)",p=u/1.6/2,v=r.__controlPoints&&gT(KM,[s.x,s.y].concat(bT(r.__controlPoints),[l.x,l.y])),m=v?function(e){return v.get(e)}:function(e){return{x:s.x+(l.x-s.x)*e||0,y:s.y+(l.y-s.y)*e||0}},g=v?v.length():Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2)),y=c+u+(g-c-f-u)*d,b=m(y/g),_=m((y-u)/g),x=m((y-.8*u)/g),w=Math.atan2(b.y-_.y,b.x-_.x)-Math.PI/2;o.beginPath(),o.moveTo(b.x,b.y),o.lineTo(_.x+p*Math.cos(w),_.y+p*Math.sin(w)),o.lineTo(x.x,x.y),o.lineTo(_.x-p*Math.cos(w),_.y-p*Math.sin(w)),o.fillStyle=h,o.fill()}}})),o.restore()}(),!e.isShadow&&function(){var t=tD(e.linkDirectionalParticles),n=tD(e.linkDirectionalParticleSpeed),r=tD(e.linkDirectionalParticleWidth),i=tD(e.linkVisibility),a=tD(e.linkDirectionalParticleColor||e.linkColor),o=e.ctx;o.save(),e.graphData.links.filter(i).forEach((function(i){var u=t(i);if(i.hasOwnProperty("__photons")&&i.__photons.length){var s=i.source,l=i.target;if(s&&l&&s.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=n(i),f=i.__photons||[],d=Math.max(0,r(i)/2)/Math.sqrt(e.globalScale),h=a(i)||"rgba(0,0,0,0.28)";o.fillStyle=h;var p=i.__controlPoints?gT(KM,[s.x,s.y].concat(bT(i.__controlPoints),[l.x,l.y])):null,v=0,m=!1;f.forEach((function(e){var t=!!e.__singleHop;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=t?0:v/u),!t&&v++,e.__progressRatio+=c,e.__progressRatio>=1){if(t)return void(m=!0);e.__progressRatio=e.__progressRatio%1}var n=e.__progressRatio,r=p?p.get(n):{x:s.x+(l.x-s.x)*n||0,y:s.y+(l.y-s.y)*n||0};o.beginPath(),o.arc(r.x,r.y,d,0,2*Math.PI,!1),o.fill()})),m&&(i.__photons=i.__photons.filter((function(e){return!e.__singleHop||e.__progressRatio<=1})))}}})),o.restore()}(),function(){var t=tD(e.nodeVisibility),n=tD(e.nodeVal),r=tD(e.nodeColor),i=tD(e.nodeCanvasObjectMode),a=e.ctx,o=e.isShadow/e.globalScale,u=e.graphData.nodes.filter(t);a.save(),u.forEach((function(t){var u=i(t);if(!e.nodeCanvasObject||"before"!==u&&"replace"!==u||(e.nodeCanvasObject(t,a,e.globalScale),"replace"!==u)){var s=Math.sqrt(Math.max(0,n(t)||1))*e.nodeRelSize+o;a.beginPath(),a.arc(t.x,t.y,s,0,2*Math.PI,!1),a.fillStyle=r(t)||"rgba(31, 120, 180, 0.92)",a.fill(),e.nodeCanvasObject&&"after"===u&&e.nodeCanvasObject(t,e.ctx,e.globalScale)}else a.restore()})),a.restore()}(),this},emitParticle:function(e,t){return t&&(!t.__photons&&(t.__photons=[]),t.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:XD().force("link",eM()).force("charge",kM()).force("center",SM()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.ctx=e},update:function(e){e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&ET(e.graphData.nodes,tD(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&ET(e.graphData.links,tD(e.linkAutoColorBy),e.linkColor),e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]})),e.forceLayout.stop().alpha(1).nodes(e.graphData.nodes);var t=e.forceLayout.force("link");t&&t.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var n=e.dagMode&&function(e,t){var n=e.nodes,r=e.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.nodeFilter,o=void 0===a?function(){return!0}:a,u=i.onLoopError,s=void 0===u?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:u,l={};n.forEach((function(e){return l[t(e)]={data:e,out:[],depth:-1,skip:!o(e)}})),r.forEach((function(e){var n=e.source,r=e.target,i=s(n),a=s(r);if(!l.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!l.hasOwnProperty(a))throw"Missing target node with id: ".concat(a);var o=l[i],u=l[a];function s(e){return"object"===pT(e)?t(e):e}o.out.push(u)}));var c=[];return function e(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=function(){var a=n[o];if(-1!==r.indexOf(a)){var u=[].concat(bT(r.slice(r.indexOf(a))),[a]).map((function(e){return t(e.data)}));return c.some((function(e){return e.length===u.length&&e.every((function(e,t){return e===u[t]}))}))||(c.push(u),s(u)),"continue"}i>a.depth&&(a.depth=i,e(a.out,[].concat(bT(r),[a]),i+(a.skip?0:1)))},o=0,u=n.length;o<u;o++)a()}(Object.values(l)),Object.assign.apply(Object,[{}].concat(bT(Object.entries(l).filter((function(e){return!yT(e,2)[1].skip})).map((function(e){var t=yT(e,2);return vT({},t[0],t[1].depth)})))))}(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),r=Math.max.apply(Math,bT(Object.values(n||[]))),i=e.dagLevelDistance||e.graphData.nodes.length/(r||1)*2*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var a=function(t,a){return function(o){return t?(n[o[e.nodeId]]-r/2)*i*(a?-1:1):void 0}},o=a(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),u=a(-1!==["td","bu"].indexOf(e.dagMode),"bu"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=o(e),e.fy=u(e)}))}e.forceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?function(e,t,n,r){var i,a,o,u,s=$D(.1);function l(e){for(var s=0,l=i.length;s<l;++s){var c=i[s],f=c.x-t||1e-6,d=(c.y||0)-n||1e-6,h=(c.z||0)-r||1e-6,p=Math.sqrt(f*f+d*d+h*h),v=(u[s]-p)*o[s]*e/p;c.vx+=f*v,a>1&&(c.vy+=d*v),a>2&&(c.vz+=h*v)}}function c(){if(i){var t,n=i.length;for(o=new Array(n),u=new Array(n),t=0;t<n;++t)u[t]=+e(i[t],t,i),o[t]=isNaN(u[t])?0:+s(i[t],t,i)}}return"function"!==typeof e&&(e=$D(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),l.initialize=function(e){i=e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a=n.find((function(e){return[1,2,3].includes(e)}))||2,c()},l.strength=function(e){return arguments.length?(s="function"===typeof e?e:$D(+e),c(),l):s},l.radius=function(t){return arguments.length?(e="function"===typeof t?t:$D(+t),c(),l):e},l.x=function(e){return arguments.length?(t=+e,l):t},l.y=function(e){return arguments.length?(n=+e,l):n},l.z=function(e){return arguments.length?(r=+e,l):r},l}((function(t){var a=n[t[e.nodeId]]||-1;return("radialin"===e.dagMode?r-a:a)*i})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null);for(var s=0;s<e.warmupTicks&&!(e.d3AlphaMin>0&&e.forceLayout.alpha()<e.d3AlphaMin);s++)e.forceLayout.tick();this.resetCountdown(),e.onFinishUpdate()}});function AT(e,t){var n=e instanceof Array?e:[e],r=new t;return{linkProp:function(e){return{default:r[e](),onChange:function(t,r){n.forEach((function(n){return r[n][e](t)}))},triggerUpdate:!1}},linkMethod:function(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=[];return n.forEach((function(n){var r=t[n],a=r[e].apply(r,i);a!==r&&o.push(a)})),o.length?o[0]:this}}}}var DT=AT("forceGraph",ST),MT=AT(["forceGraph","shadowGraph"],ST),TT=Object.assign.apply(Object,bT(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return vT({},e,DT.linkProp(e))}))).concat(bT(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map((function(e){return vT({},e,MT.linkProp(e))}))))),PT=Object.assign.apply(Object,bT(["d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return vT({},e,DT.linkMethod(e))}))));function OT(e){if(e.canvas){var t=e.canvas.width,n=e.canvas.height;300===t&&150===n&&(t=n=0);var r=window.devicePixelRatio;t/=r,n/=r,[e.canvas,e.shadowCanvas].forEach((function(i){i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),i.width=e.width*r,i.height=e.height*r,t||n||i.getContext("2d").scale(r,r)}));var i=LS(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-t)/2/i,(e.height-n)/2/i),e.needsRedraw=!0}}function RT(e){var t=window.devicePixelRatio;e.setTransform(t,0,0,t,0,0)}function FT(e,t,n){e.save(),RT(e),e.clearRect(0,0,t,n),e.restore()}var NT=eD({props:hT({width:{default:window.innerWidth,onChange:function(e,t){return OT(t)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(e,t){return OT(t)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){[{type:"Node",objs:e.nodes},{type:"Link",objs:e.links}].forEach((function(e){var n=e.type;e.objs.filter((function(e){if(!e.hasOwnProperty("__indexColor"))return!0;var n=t.colorTracker.lookup(e.__indexColor);return!n||!n.hasOwnProperty("d")||n.d!==e})).forEach((function(e){e.__indexColor=t.colorTracker.register({type:n,d:e})}))})),t.forceGraph.graphData(e),t.shadowGraph.graphData(e)},triggerUpdate:!1},backgroundColor:{onChange:function(e,t){t.canvas&&e&&(t.canvas.style.background=e)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(e,t){t.shadowGraph.nodeCanvasObject(e?function(t,n,r){return e(t,t.__indexColor,n,r)}:null),t.flushShadowCanvas&&t.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(e,t){t.shadowGraph.linkCanvasObject(e?function(t,n,r){return e(t,t.__indexColor,n,r)}:null),t.flushShadowCanvas&&t.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(e,t){t.zoom.scaleExtent([e,t.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(e,t){t.zoom.scaleExtent([t.zoom.scaleExtent()[0],e])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},TT),aliases:{stopAnimation:"pauseAnimation"},methods:hT({graph2ScreenCoords:function(e,t,n){var r=LS(e.canvas);return{x:t*r.k+r.x,y:n*r.k+r.y}},screen2GraphCoords:function(e,t,n){var r=LS(e.canvas);return{x:(t-r.x)/r.k,y:(n-r.y)/r.k}},centerAt:function(e,t,n,r){if(!e.canvas)return null;if(void 0!==t||void 0!==n){var i=Object.assign({},void 0!==t?{x:t}:{},void 0!==n?{y:n}:{});return r?new qA.Tween(a()).to(i,r).easing(qA.Easing.Quadratic.Out).onUpdate(o).start():o(i),this}return a();function a(){var t=LS(e.canvas);return{x:(e.width/2-t.x)/t.k,y:(e.height/2-t.y)/t.k}}function o(t){var n=t.x,r=t.y;e.zoom.translateTo(e.zoom.__baseElem,void 0===n?a().x:n,void 0===r?a().y:r),e.needsRedraw=!0}},zoom:function(e,t,n){return e.canvas?void 0!==t?(n?new qA.Tween({k:r()}).to({k:t},n).easing(qA.Easing.Quadratic.Out).onUpdate((function(e){return i(e.k)})).start():i(t),this):r():null;function r(){return LS(e.canvas).k}function i(t){e.zoom.scaleTo(e.zoom.__baseElem,t),e.needsRedraw=!0}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o=this.getGraphBbox.apply(this,i);if(o){var u={x:(o.x[0]+o.x[1])/2,y:(o.y[0]+o.y[1])/2},s=Math.max(1e-12,Math.min(1e12,(e.width-2*n)/(o.x[1]-o.x[0]),(e.height-2*n)/(o.y[1]-o.y[0])));this.centerAt(u.x,u.y,t),this.zoom(s,t)}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=tD(e.nodeVal),r=function(t){return Math.sqrt(Math.max(0,n(t)||1))*e.nodeRelSize},i=e.graphData.nodes.filter(t).map((function(e){return{x:e.x,y:e.y,r:r(e)}}));return i.length?{x:[eA(i,(function(e){return e.x-e.r})),tA(i,(function(e){return e.x+e.r}))],y:[eA(i,(function(e){return e.y-e.r})),tA(i,(function(e){return e.y+e.r}))]}:null},pauseAnimation:function(e){return e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return e.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},PT),stateInit:function(){return{lastSetZoom:1,zoom:qS(),forceGraph:new ST,shadowGraph:(new ST).cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new UD}},init:function(e,t){var n=this;e.innerHTML="";var r=document.createElement("div");r.classList.add("force-graph-container"),r.style.position="relative",e.appendChild(r),t.canvas=document.createElement("canvas"),t.backgroundColor&&(t.canvas.style.background=t.backgroundColor),r.appendChild(t.canvas),t.shadowCanvas=document.createElement("canvas");var i=t.canvas.getContext("2d"),a=t.shadowCanvas.getContext("2d",{willReadFrequently:!0}),o={x:-1e12,y:-1e12},u=function(){var e=null,n=window.devicePixelRatio,r=o.x>0&&o.y>0?a.getImageData(o.x*n,o.y*n,1,1):null;return r&&(e=t.colorTracker.lookup(r.data)),e};gC(t.canvas).call(function(){var e,t,n,r,i=$S,a=KS,o=JS,u=QS,s={},l=EC("start","drag","end"),c=0,f=0;function d(e){e.on("mousedown.drag",h).filter(u).on("touchstart.drag",m).on("touchmove.drag",g,CC).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(o,u){if(!r&&i.call(this,o,u)){var s=b(this,a.call(this,o,u),o,u,"mouse");s&&(gC(o.view).on("mousemove.drag",p,kC).on("mouseup.drag",v,kC),DC(o.view),SC(o),n=!1,e=o.clientX,t=o.clientY,s("start",o))}}function p(r){if(AC(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>f}s.mouse("drag",r)}function v(e){gC(e.view).on("mousemove.drag mouseup.drag",null),MC(e.view,n),AC(e),s.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,u=a.call(this,e,t),s=o.length;for(n=0;n<s;++n)(r=b(this,u,e,t,o[n].identifier,o[n]))&&(SC(e),r("start",e,o[n]))}}function g(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=s[r[t].identifier])&&(AC(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=s[i[t].identifier])&&(SC(e),n("end",e,i[t]))}function b(e,t,n,r,i,a){var u,f,h,p=l.copy(),v=OC(a||n,t);if(null!=(h=o.call(e,new XS("beforestart",{sourceEvent:n,target:d,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return u=h.x-v[0]||0,f=h.y-v[1]||0,function n(a,o,l){var m,g=v;switch(a){case"start":s[i]=n,m=c++;break;case"end":delete s[i],--c;case"drag":v=OC(l||o,t),m=c}p.call(a,e,new XS(a,{sourceEvent:o,subject:h,target:d,identifier:i,active:m,x:v[0]+u,y:v[1]+f,dx:v[0]-g[0],dy:v[1]-g[1],dispatch:p}),r)}}return d.filter=function(e){return arguments.length?(i="function"===typeof e?e:YS(!!e),d):i},d.container=function(e){return arguments.length?(a="function"===typeof e?e:YS(e),d):a},d.subject=function(e){return arguments.length?(o="function"===typeof e?e:YS(e),d):o},d.touchable=function(e){return arguments.length?(u="function"===typeof e?e:YS(!!e),d):u},d.on=function(){var e=l.on.apply(l,arguments);return e===l?d:e},d.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,d):Math.sqrt(f)},d}().subject((function(){if(!t.enableNodeDrag)return null;var e=u();return e&&"Node"===e.type?e.d:null})).on("start",(function(e){var n=e.subject;n.__initialDragPos={x:n.x,y:n.y,fx:n.fx,fy:n.fy},e.active||(n.fx=n.x,n.fy=n.y),t.canvas.classList.add("grabbable")})).on("drag",(function(e){var n=e.subject,r=n.__initialDragPos,i=e,a=LS(t.canvas).k,o={x:r.x+(i.x-r.x)/a-n.x,y:r.y+(i.y-r.y)/a-n.y};["x","y"].forEach((function(e){return n["f".concat(e)]=n[e]=r[e]+(i[e]-r[e])/a})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),t.isPointerDragging=!0,n.__dragged=!0,t.onNodeDrag(n,o)})).on("end",(function(e){var n=e.subject,r=n.__initialDragPos,i={x:n.x-r.x,y:n.y-r.y};void 0===r.fx&&(n.fx=void 0),void 0===r.fy&&(n.fy=void 0),delete n.__initialDragPos,t.forceGraph.d3AlphaTarget()&&t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.canvas.classList.remove("grabbable"),t.isPointerDragging=!1,n.__dragged&&(delete n.__dragged,t.onNodeDragEnd(n,i))}))),t.zoom(t.zoom.__baseElem=gC(t.canvas)),t.zoom.__baseElem.on("dblclick.zoom",null),t.zoom.filter((function(e){return!e.button&&t.enableZoomPanInteraction&&(t.enableZoomInteraction||"wheel"!==e.type)&&(t.enablePanInteraction||"wheel"===e.type)})).on("zoom",(function(e){var r=e.transform;[i,a].forEach((function(e){RT(e),e.translate(r.x,r.y),e.scale(r.k,r.k)})),t.onZoom&&t.onZoom(hT(hT({},r),n.centerAt())),t.needsRedraw=!0})).on("end",(function(e){return t.onZoomEnd&&t.onZoomEnd(hT(hT({},e.transform),n.centerAt()))})),OT(t),t.forceGraph.onNeedsRedraw((function(){return t.needsRedraw=!0})).onFinishUpdate((function(){LS(t.canvas).k===t.lastSetZoom&&t.graphData.nodes.length&&(t.zoom.scaleTo(t.zoom.__baseElem,t.lastSetZoom=4/Math.cbrt(t.graphData.nodes.length)),t.needsRedraw=!0)}));var s=document.createElement("div");s.classList.add("graph-tooltip"),r.appendChild(s),["pointermove","pointerdown"].forEach((function(e){return r.addEventListener(e,(function(n){"pointerdown"===e&&(t.isPointerPressed=!0,t.pointerDownEvent=n),!t.isPointerDragging&&"pointermove"===n.type&&t.onBackgroundClick&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0);var i=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}(r);o.x=n.pageX-i.left,o.y=n.pageY-i.top,s.style.top="".concat(o.y,"px"),s.style.left="".concat(o.x,"px"),s.style.transform="translate(-".concat(o.x/t.width*100,"%, ").concat(t.height-o.y<100?"calc(-100% - 8px)":"21px",")")}),{passive:!0})})),r.addEventListener("pointerup",(function(e){if(t.isPointerPressed=!1,t.isPointerDragging)t.isPointerDragging=!1;else{var n=[e,t.pointerDownEvent];requestAnimationFrame((function(){if(0===e.button)if(t.hoverObj){var r=t["on".concat(t.hoverObj.type,"Click")];r&&r.apply(void 0,[t.hoverObj.d].concat(n))}else t.onBackgroundClick&&t.onBackgroundClick.apply(t,n);if(2===e.button)if(t.hoverObj){var i=t["on".concat(t.hoverObj.type,"RightClick")];i&&i.apply(void 0,[t.hoverObj.d].concat(n))}else t.onBackgroundRightClick&&t.onBackgroundRightClick.apply(t,n)}))}}),{passive:!0}),r.addEventListener("contextmenu",(function(e){return!(t.onBackgroundRightClick||t.onNodeRightClick||t.onLinkRightClick)||(e.preventDefault(),!1)})),t.forceGraph(i),t.shadowGraph(a);var l=OA((function(){FT(a,t.width,t.height),t.shadowGraph.linkWidth((function(e){return tD(t.linkWidth)(e)+t.linkHoverPrecision}));var e=LS(t.canvas);t.shadowGraph.globalScale(e.k).tickFrame()}),800);t.flushShadowCanvas=l.flush,(this._animationCycle=function e(){var n=!t.autoPauseRedraw||!!t.needsRedraw||t.forceGraph.isEngineRunning()||t.graphData.links.some((function(e){return e.__photons&&e.__photons.length}));if(t.needsRedraw=!1,t.enablePointerInteraction){var r=t.isPointerDragging?null:u();if(r!==t.hoverObj){var a=t.hoverObj,o=a?a.type:null,c=r?r.type:null;if(o&&o!==c){var f=t["on".concat(o,"Hover")];f&&f(null,a.d)}if(c){var d=t["on".concat(c,"Hover")];d&&d(r.d,o===c?a.d:null)}var h=r&&tD(t["".concat(r.type.toLowerCase(),"Label")])(r.d)||"";s.style.visibility=h?"visible":"hidden",s.innerHTML=h,t.canvas.classList[r&&t["on".concat(c,"Click")]||!r&&t.onBackgroundClick?"add":"remove"]("clickable"),t.hoverObj=r}n&&l()}if(n){FT(i,t.width,t.height);var p=LS(t.canvas).k;t.onRenderFramePre&&t.onRenderFramePre(i,p),t.forceGraph.globalScale(p).tickFrame(),t.onRenderFramePost&&t.onRenderFramePost(i,p)}qA.update(),t.animationFrameRequestId=requestAnimationFrame(e)})()},update:function(e){}}),IT=r(2007),BT={width:IT.number,height:IT.number,graphData:IT.shape({nodes:IT.arrayOf(IT.object).isRequired,links:IT.arrayOf(IT.object).isRequired}),backgroundColor:IT.string,nodeRelSize:IT.number,nodeId:IT.string,nodeLabel:IT.oneOfType([IT.string,IT.func]),nodeVal:IT.oneOfType([IT.number,IT.string,IT.func]),nodeVisibility:IT.oneOfType([IT.bool,IT.string,IT.func]),nodeColor:IT.oneOfType([IT.string,IT.func]),nodeAutoColorBy:IT.oneOfType([IT.string,IT.func]),onNodeHover:IT.func,onNodeClick:IT.func,linkSource:IT.string,linkTarget:IT.string,linkLabel:IT.oneOfType([IT.string,IT.func]),linkVisibility:IT.oneOfType([IT.bool,IT.string,IT.func]),linkColor:IT.oneOfType([IT.string,IT.func]),linkAutoColorBy:IT.oneOfType([IT.string,IT.func]),linkWidth:IT.oneOfType([IT.number,IT.string,IT.func]),linkCurvature:IT.oneOfType([IT.number,IT.string,IT.func]),linkDirectionalArrowLength:IT.oneOfType([IT.number,IT.string,IT.func]),linkDirectionalArrowColor:IT.oneOfType([IT.string,IT.func]),linkDirectionalArrowRelPos:IT.oneOfType([IT.number,IT.string,IT.func]),linkDirectionalParticles:IT.oneOfType([IT.number,IT.string,IT.func]),linkDirectionalParticleSpeed:IT.oneOfType([IT.number,IT.string,IT.func]),linkDirectionalParticleWidth:IT.oneOfType([IT.number,IT.string,IT.func]),linkDirectionalParticleColor:IT.oneOfType([IT.string,IT.func]),onLinkHover:IT.func,onLinkClick:IT.func,dagMode:IT.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:IT.number,dagNodeFilter:IT.func,onDagError:IT.func,d3AlphaMin:IT.number,d3AlphaDecay:IT.number,d3VelocityDecay:IT.number,warmupTicks:IT.number,cooldownTicks:IT.number,cooldownTime:IT.number,onEngineTick:IT.func,onEngineStop:IT.func,getGraphBbox:IT.func},LT={zoomToFit:IT.func,onNodeRightClick:IT.func,onNodeDrag:IT.func,onNodeDragEnd:IT.func,onLinkRightClick:IT.func,linkHoverPrecision:IT.number,onBackgroundClick:IT.func,onBackgroundRightClick:IT.func,enablePointerInteraction:IT.bool,enableNodeDrag:IT.bool},zT={showNavInfo:IT.bool,nodeOpacity:IT.number,nodeResolution:IT.number,nodeThreeObject:IT.oneOfType([IT.object,IT.string,IT.func]),nodeThreeObjectExtend:IT.oneOfType([IT.bool,IT.string,IT.func]),linkOpacity:IT.number,linkResolution:IT.number,linkCurveRotation:IT.oneOfType([IT.number,IT.string,IT.func]),linkMaterial:IT.oneOfType([IT.object,IT.string,IT.func]),linkThreeObject:IT.oneOfType([IT.object,IT.string,IT.func]),linkThreeObjectExtend:IT.oneOfType([IT.bool,IT.string,IT.func]),linkPositionUpdate:IT.func,linkDirectionalArrowResolution:IT.number,linkDirectionalParticleResolution:IT.number,forceEngine:IT.oneOf(["d3","ngraph"]),ngraphPhysics:IT.object,numDimensions:IT.oneOf([1,2,3])},UT=Object.assign({},BT,LT,{linkLineDash:IT.oneOfType([IT.arrayOf(IT.number),IT.string,IT.func]),nodeCanvasObjectMode:IT.oneOfType([IT.string,IT.func]),nodeCanvasObject:IT.func,nodePointerAreaPaint:IT.func,linkCanvasObjectMode:IT.oneOfType([IT.string,IT.func]),linkCanvasObject:IT.func,linkPointerAreaPaint:IT.func,autoPauseRedraw:IT.bool,minZoom:IT.number,maxZoom:IT.number,enableZoomInteraction:IT.bool,enablePanInteraction:IT.bool,onZoom:IT.func,onZoomEnd:IT.func,onRenderFramePre:IT.func,onRenderFramePost:IT.func});Object.assign({},BT,LT,zT,{enableNavigationControls:IT.bool,controlType:IT.oneOf(["trackball","orbit","fly"]),rendererConfig:IT.object,extraRenderers:IT.arrayOf(IT.shape({render:IT.func.isRequired}))}),Object.assign({},BT,zT,{nodeDesc:IT.oneOfType([IT.string,IT.func]),linkDesc:IT.oneOfType([IT.string,IT.func])}),Object.assign({},BT,zT,{markerAttrs:IT.object,yOffset:IT.number,glScale:IT.number});var jT,WT,ZT=function(t,n){var r="object"===$w(n)?n:{wrapperElementType:n,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},i=r.wrapperElementType,a=void 0===i?"div":i,o=r.nodeMapper,u=void 0===o?function(e){return e}:o,s=r.methodNames,l=void 0===s?[]:s,c=r.initPropNames,f=void 0===c?[]:c;return(0,e.forwardRef)((function(n,r){var i=(0,e.useRef)(),o=Kw((0,e.useState)({}),2),s=o[0],c=o[1];(0,e.useEffect)((function(){return c(n)}));var d=(0,e.useMemo)((function(){var e=Xw(f.filter((function(e){return n.hasOwnProperty(e)})).map((function(e){return[e,n[e]]})));return t(e)}),[]);tE((function(){d(u(i.current))}),e.useLayoutEffect),tE((function(){return d._destructor instanceof Function?d._destructor:void 0}));var h=(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return d[e]instanceof Function?d[e].apply(d,n):void 0}),[d]),p=function(e,t){var n=new Set(t);return Object.assign.apply(Object,[{}].concat(Gw(Object.entries(e).filter((function(e){var t=Hw(e,1)[0];return!n.has(t)})).map((function(e){var t=Hw(e,2);return Vw({},t[0],t[1])})))))}(n,[].concat(Jw(l),Jw(f)));return Object.keys(p).filter((function(e){return s[e]!==n[e]})).forEach((function(e){return h(e,n[e])})),(0,e.useImperativeHandle)(r,(function(){return Xw(l.map((function(e){return[e,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h.apply(void 0,[e].concat(n))}]})))})),e.createElement(a,{ref:i})}))}(NT,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});ZT.displayName="ForceGraph2D",ZT.propTypes=UT;var VT="151",HT=1,GT=2,qT=3,YT=0,XT=1,$T=2,KT=0,JT=100,QT=0,eP=1,tP=2,nP=0,rP=1,iP=2,aP=3,oP=4,uP=5,sP=301,lP=302,cP=303,fP=304,dP=306,hP=1e3,pP=1001,vP=1002,mP=1003,gP=1004,yP=1005,bP=1006,_P=1007,xP=1008,wP=1009,EP=1014,CP=1015,kP=1016,SP=1020,AP=1023,DP=1026,MP=1027,TP=33776,PP=33777,OP=33778,RP=33779,FP=36492,NP=2300,IP=2301,BP=2302,LP=2400,zP=2401,UP=2402,jP=3e3,WP=3001,ZP=0,VP="srgb",HP="srgb-linear",GP="display-p3",qP=7680,YP=35044,XP="300 es",$P=1035,KP=function(){function e(){u(this,e)}return(0,s.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),JP=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],QP=Math.PI/180,eO=180/Math.PI;function tO(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(JP[255&e]+JP[e>>8&255]+JP[e>>16&255]+JP[e>>24&255]+"-"+JP[255&t]+JP[t>>8&255]+"-"+JP[t>>16&15|64]+JP[t>>24&255]+"-"+JP[63&n|128]+JP[n>>8&255]+"-"+JP[n>>16&255]+JP[n>>24&255]+JP[255&r]+JP[r>>8&255]+JP[r>>16&255]+JP[r>>24&255]).toLowerCase()}function nO(e,t,n){return Math.max(t,Math.min(n,e))}function rO(e,t){return(e%t+t)%t}function iO(e,t,n){return(1-n)*e+n*t}function aO(e){return 0===(e&e-1)&&0!==e}function oO(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function uO(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function sO(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var lO=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,s.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(nO(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),cO=function(){function e(){u(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return(0,s.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,u,s){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=u,l[6]=n,l[7]=a,l[8]=s,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],u=n[6],s=n[1],l=n[4],c=n[7],f=n[2],d=n[5],h=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],_=r[2],x=r[5],w=r[8];return i[0]=a*p+o*g+u*_,i[3]=a*v+o*y+u*x,i[6]=a*m+o*b+u*w,i[1]=s*p+l*g+c*_,i[4]=s*v+l*y+c*x,i[7]=s*m+l*b+c*w,i[2]=f*p+d*g+h*_,i[5]=f*v+d*y+h*x,i[8]=f*m+d*b+h*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8];return t*a*l-t*o*s-n*i*l+n*o*u+r*i*s-r*a*u}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8],c=l*a-o*s,f=o*u-l*i,d=s*i-a*u,h=t*c+n*f+r*d;if(0===h)return this.set(0,0,0,0,0,0,0,0,0);var p=1/h;return e[0]=c*p,e[1]=(r*s-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=f*p,e[4]=(l*t-r*u)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*u-s*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var u=Math.cos(i),s=Math.sin(i);return this.set(n*u,n*s,-n*(u*a+s*o)+a+e,-r*s,r*u,-r*(-s*a+u*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(fO.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(fO.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(fO.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),fO=new cO;function dO(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function hO(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function pO(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function vO(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var mO=(new cO).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),gO=(new cO).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);var yO,bO=(jT={},(0,Qe.Z)(jT,HP,(function(e){return e})),(0,Qe.Z)(jT,VP,(function(e){return e.convertSRGBToLinear()})),(0,Qe.Z)(jT,GP,(function(e){return e.convertSRGBToLinear().applyMatrix3(gO)})),jT),_O=(WT={},(0,Qe.Z)(WT,HP,(function(e){return e})),(0,Qe.Z)(WT,VP,(function(e){return e.convertLinearToSRGB()})),(0,Qe.Z)(WT,GP,(function(e){return e.applyMatrix3(mO).convertLinearToSRGB()})),WT),xO={enabled:!1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return HP},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=bO[t],i=_O[n];if(void 0===r||void 0===i)throw new Error('Unsupported color space conversion, "'.concat(t,'" to "').concat(n,'".'));return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},wO=function(){function e(){u(this,e)}return(0,s.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===yO&&(yO=hO("canvas")),yO.width=e.width,yO.height=e.height;var n=yO.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=yO}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=hO("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*pO(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),u=0;u<o.length;u++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[u]=Math.floor(255*pO(o[u]/255)):o[u]=pO(o[u]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),EO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;u(this,e),this.isSource=!0,this.uuid=tO(),this.data=t,this.version=0}return(0,s.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(CO(r[a].image)):i.push(CO(r[a]))}else i=CO(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function CO(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?wO.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var kO=0,SO=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pP,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pP,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bP,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xP,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:AP,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:wP,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:jP;return u(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,p.Z)(e),"id",{value:kO++}),e.uuid=tO(),e.name="",e.source=new EO(r),e.mipmaps=[],e.mapping=i,e.channel=0,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=c,e.internalFormat=null,e.type=f,e.offset=new lO(0,0),e.repeat=new lO(1,1),e.center=new lO(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new cO,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,s.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case hP:e.x=e.x-Math.floor(e.x);break;case pP:e.x=e.x<0?0:1;break;case vP:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case hP:e.y=e.y-Math.floor(e.y);break;case pP:e.y=e.y<0?0:1;break;case vP:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(KP);SO.DEFAULT_IMAGE=null,SO.DEFAULT_MAPPING=300,SO.DEFAULT_ANISOTROPY=1;var AO=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;u(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,s.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,u=e.elements,s=u[0],l=u[4],c=u[8],f=u[1],d=u[5],h=u[9],p=u[2],v=u[6],m=u[10];if(Math.abs(l-f)<a&&Math.abs(c-p)<a&&Math.abs(h-v)<a){if(Math.abs(l+f)<o&&Math.abs(c+p)<o&&Math.abs(h+v)<o&&Math.abs(s+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(s+1)/2,y=(d+1)/2,b=(m+1)/2,_=(l+f)/4,x=(c+p)/4,w=(h+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=_/(n=Math.sqrt(g)),i=x/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=_/(r=Math.sqrt(y)),i=w/r):b<a?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var E=Math.sqrt((v-h)*(v-h)+(c-p)*(c-p)+(f-l)*(f-l));return Math.abs(E)<.001&&(E=1),this.x=(v-h)/E,this.y=(c-p)/E,this.z=(f-l)/E,this.w=Math.acos((s+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),DO=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new AO(0,0,r,i),e.scissorTest=!1,e.viewport=new AO(0,0,r,i);var o={width:r,height:i,depth:1};return e.texture=new SO(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:bP,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return(0,s.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new EO(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(KP),MO=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return u(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=mP,e.minFilter=mP,e.wrapR=pP,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,s.Z)(n)}(SO),TO=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return u(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=mP,e.minFilter=mP,e.wrapR=pP,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,s.Z)(n)}(SO),PO=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;u(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return(0,s.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,u=Math.sin,s=o(n/2),l=o(r/2),c=o(i/2),f=u(n/2),d=u(r/2),h=u(i/2);switch(a){case"XYZ":this._x=f*l*c+s*d*h,this._y=s*d*c-f*l*h,this._z=s*l*h+f*d*c,this._w=s*l*c-f*d*h;break;case"YXZ":this._x=f*l*c+s*d*h,this._y=s*d*c-f*l*h,this._z=s*l*h-f*d*c,this._w=s*l*c+f*d*h;break;case"ZXY":this._x=f*l*c-s*d*h,this._y=s*d*c+f*l*h,this._z=s*l*h+f*d*c,this._w=s*l*c-f*d*h;break;case"ZYX":this._x=f*l*c-s*d*h,this._y=s*d*c+f*l*h,this._z=s*l*h-f*d*c,this._w=s*l*c+f*d*h;break;case"YZX":this._x=f*l*c+s*d*h,this._y=s*d*c+f*l*h,this._z=s*l*h-f*d*c,this._w=s*l*c-f*d*h;break;case"XZY":this._x=f*l*c-s*d*h,this._y=s*d*c-f*l*h,this._z=s*l*h+f*d*c,this._w=s*l*c+f*d*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],u=t[9],s=t[2],l=t[6],c=t[10],f=n+o+c;if(f>0){var d=.5/Math.sqrt(f+1);this._w=.25/d,this._x=(l-u)*d,this._y=(i-s)*d,this._z=(a-r)*d}else if(n>o&&n>c){var h=2*Math.sqrt(1+n-o-c);this._w=(l-u)/h,this._x=.25*h,this._y=(r+a)/h,this._z=(i+s)/h}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-s)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(u+l)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+s)/v,this._y=(u+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(nO(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,u=t._y,s=t._z,l=t._w;return this._x=n*l+a*o+r*s-i*u,this._y=r*l+a*u+i*o-n*s,this._z=i*l+a*s+n*u-r*o,this._w=a*l-n*o-r*u-i*s,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var u=1-o*o;if(u<=Number.EPSILON){var s=1-t;return this._w=s*a+t*this._w,this._x=s*n+t*this._x,this._y=s*r+t*this._y,this._z=s*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(u),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=a*f+this._w*d,this._x=n*f+this._x*d,this._y=r*f+this._y*d,this._z=i*f+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var u=n[r+0],s=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],d=i[a+1],h=i[a+2],p=i[a+3];if(0===o)return e[t+0]=u,e[t+1]=s,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=f,e[t+1]=d,e[t+2]=h,void(e[t+3]=p);if(c!==p||u!==f||s!==d||l!==h){var v=1-o,m=u*f+s*d+l*h+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),_=Math.atan2(b,m*g);v=Math.sin(v*_)/b,o=Math.sin(o*_)/b}var x=o*g;if(u=u*v+f*x,s=s*v+d*x,l=l*v+h*x,c=c*v+p*x,v===1-o){var w=1/Math.sqrt(u*u+s*s+l*l+c*c);u*=w,s*=w,l*=w,c*=w}}e[t]=u,e[t+1]=s,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],u=n[r+1],s=n[r+2],l=n[r+3],c=i[a],f=i[a+1],d=i[a+2],h=i[a+3];return e[t]=o*h+l*c+u*d-s*f,e[t+1]=u*h+l*f+s*c-o*d,e[t+2]=s*h+l*d+o*f-u*c,e[t+3]=l*h-o*c-u*f-s*d,e}}]),t}(Symbol.iterator),OO=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;u(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,s.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(FO.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(FO.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,u=e.w,s=u*t+a*r-o*n,l=u*n+o*t-i*r,c=u*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=s*u+f*-i+l*-o-c*-a,this.y=l*u+f*-a+c*-i-s*-o,this.z=c*u+f*-o+s*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,u=t.z;return this.x=r*u-i*o,this.y=i*a-n*u,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return RO.copy(this).projectOnVector(e),this.sub(RO)}},{key:"reflect",value:function(e){return this.sub(RO.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(nO(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),RO=new OO,FO=new PO,NO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new OO(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new OO(-1/0,-1/0,-1/0);u(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,s.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(BO.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(BO.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=BO.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),LO.copy(e.boundingBox),LO.applyMatrix4(e.matrixWorld),this.union(LO);else{var n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)BO.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(BO);else null===n.boundingBox&&n.computeBoundingBox(),LO.copy(n.boundingBox),LO.applyMatrix4(e.matrixWorld),this.union(LO)}for(var o=e.children,u=0,s=o.length;u<s;u++)this.expandByObject(o[u],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,BO),BO.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(HO),GO.subVectors(this.max,HO),zO.subVectors(e.a,HO),UO.subVectors(e.b,HO),jO.subVectors(e.c,HO),WO.subVectors(UO,zO),ZO.subVectors(jO,UO),VO.subVectors(zO,jO);var t=[0,-WO.z,WO.y,0,-ZO.z,ZO.y,0,-VO.z,VO.y,WO.z,0,-WO.x,ZO.z,0,-ZO.x,VO.z,0,-VO.x,-WO.y,WO.x,0,-ZO.y,ZO.x,0,-VO.y,VO.x,0];return!!XO(t,zO,UO,jO,GO)&&(!!XO(t=[1,0,0,0,1,0,0,0,1],zO,UO,jO,GO)&&(qO.crossVectors(WO,ZO),XO(t=[qO.x,qO.y,qO.z],zO,UO,jO,GO)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,BO).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(BO).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(IO[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),IO[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),IO[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),IO[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),IO[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),IO[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),IO[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),IO[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(IO)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),IO=[new OO,new OO,new OO,new OO,new OO,new OO,new OO,new OO],BO=new OO,LO=new NO,zO=new OO,UO=new OO,jO=new OO,WO=new OO,ZO=new OO,VO=new OO,HO=new OO,GO=new OO,qO=new OO,YO=new OO;function XO(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){YO.fromArray(e,a);var u=i.x*Math.abs(YO.x)+i.y*Math.abs(YO.y)+i.z*Math.abs(YO.z),s=t.dot(YO),l=n.dot(YO),c=r.dot(YO);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>u)return!1}return!0}var $O=new NO,KO=new OO,JO=new OO,QO=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new OO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;u(this,e),this.center=t,this.radius=n}return(0,s.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):$O.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;KO.subVectors(e,this.center);var t=KO.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(KO,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(JO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(KO.copy(e.center).add(JO)),this.expandByPoint(KO.copy(e.center).sub(JO))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),eR=new OO,tR=new OO,nR=new OO,rR=new OO,iR=new OO,aR=new OO,oR=new OO,uR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new OO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new OO(0,0,-1);u(this,e),this.origin=t,this.direction=n}return(0,s.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,eR)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=eR.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(eR.copy(this.origin).addScaledVector(this.direction,t),eR.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){tR.copy(e).add(t).multiplyScalar(.5),nR.copy(t).sub(e).normalize(),rR.copy(this.origin).sub(tR);var i,a,o,u,s=.5*e.distanceTo(t),l=-this.direction.dot(nR),c=rR.dot(this.direction),f=-rR.dot(nR),d=rR.lengthSq(),h=Math.abs(1-l*l);if(h>0)if(a=l*c-f,u=s*h,(i=l*f-c)>=0)if(a>=-u)if(a<=u){var p=1/h;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*f)+d}else a=s,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a=-s,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;else a<=-u?o=-(i=Math.max(0,-(-l*s+c)))*i+(a=i>0?-s:Math.min(Math.max(-s,-f),s))*(a+2*f)+d:a<=u?(i=0,o=(a=Math.min(Math.max(-s,-f),s))*(a+2*f)+d):o=-(i=Math.max(0,-(l*s+c)))*i+(a=i>0?s:Math.min(Math.max(-s,-f),s))*(a+2*f)+d;else a=l>0?-s:s,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(tR).addScaledVector(nR,a),o}},{key:"intersectSphere",value:function(e,t){eR.subVectors(e.center,this.origin);var n=eR.dot(this.direction),r=eR.dot(eR)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,u=n+a;return u<0?null:o<0?this.at(u,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,u,s=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return s>=0?(n=(e.min.x-f.x)*s,r=(e.max.x-f.x)*s):(n=(e.max.x-f.x)*s,r=(e.min.x-f.x)*s),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-f.z)*c,u=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,u=(e.min.z-f.z)*c),n>u||o>r?null:((o>n||n!==n)&&(n=o),(u<r||r!==r)&&(r=u),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,eR)}},{key:"intersectTriangle",value:function(e,t,n,r,i){iR.subVectors(t,e),aR.subVectors(n,e),oR.crossVectors(iR,aR);var a,o=this.direction.dot(oR);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}rR.subVectors(this.origin,e);var u=a*this.direction.dot(aR.crossVectors(rR,aR));if(u<0)return null;var s=a*this.direction.dot(iR.cross(rR));if(s<0)return null;if(u+s>o)return null;var l=-a*rR.dot(oR);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),sR=function(){function e(){u(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return(0,s.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,u,s,l,c,f,d,h,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=u,m[2]=s,m[6]=l,m[10]=c,m[14]=f,m[3]=d,m[7]=h,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/lR.setFromMatrixColumn(e,0).length(),i=1/lR.setFromMatrixColumn(e,1).length(),a=1/lR.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),u=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,d=a*c,h=o*l,p=o*c;t[0]=u*l,t[4]=-u*c,t[8]=s,t[1]=d+h*s,t[5]=f-p*s,t[9]=-o*u,t[2]=p-f*s,t[6]=h+d*s,t[10]=a*u}else if("YXZ"===e.order){var v=u*l,m=u*c,g=s*l,y=s*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*s,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*u}else if("ZXY"===e.order){var b=u*l,_=u*c,x=s*l,w=s*c;t[0]=b-w*o,t[4]=-a*c,t[8]=x+_*o,t[1]=_+x*o,t[5]=a*l,t[9]=w-b*o,t[2]=-a*s,t[6]=o,t[10]=a*u}else if("ZYX"===e.order){var E=a*l,C=a*c,k=o*l,S=o*c;t[0]=u*l,t[4]=k*s-C,t[8]=E*s+S,t[1]=u*c,t[5]=S*s+E,t[9]=C*s-k,t[2]=-s,t[6]=o*u,t[10]=a*u}else if("YZX"===e.order){var A=a*u,D=a*s,M=o*u,T=o*s;t[0]=u*l,t[4]=T-A*c,t[8]=M*c+D,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-s*l,t[6]=D*c+M,t[10]=A-T*c}else if("XZY"===e.order){var P=a*u,O=a*s,R=o*u,F=o*s;t[0]=u*l,t[4]=-c,t[8]=s*l,t[1]=P*c+F,t[5]=a*l,t[9]=O*c-R,t[2]=R*c-O,t[6]=o*l,t[10]=F*c+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(fR,e,dR)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return vR.subVectors(e,t),0===vR.lengthSq()&&(vR.z=1),vR.normalize(),hR.crossVectors(n,vR),0===hR.lengthSq()&&(1===Math.abs(n.z)?vR.x+=1e-4:vR.z+=1e-4,vR.normalize(),hR.crossVectors(n,vR)),hR.normalize(),pR.crossVectors(vR,hR),r[0]=hR.x,r[4]=pR.x,r[8]=vR.x,r[1]=hR.y,r[5]=pR.y,r[9]=vR.y,r[2]=hR.z,r[6]=pR.z,r[10]=vR.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],u=n[8],s=n[12],l=n[1],c=n[5],f=n[9],d=n[13],h=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],_=n[15],x=r[0],w=r[4],E=r[8],C=r[12],k=r[1],S=r[5],A=r[9],D=r[13],M=r[2],T=r[6],P=r[10],O=r[14],R=r[3],F=r[7],N=r[11],I=r[15];return i[0]=a*x+o*k+u*M+s*R,i[4]=a*w+o*S+u*T+s*F,i[8]=a*E+o*A+u*P+s*N,i[12]=a*C+o*D+u*O+s*I,i[1]=l*x+c*k+f*M+d*R,i[5]=l*w+c*S+f*T+d*F,i[9]=l*E+c*A+f*P+d*N,i[13]=l*C+c*D+f*O+d*I,i[2]=h*x+p*k+v*M+m*R,i[6]=h*w+p*S+v*T+m*F,i[10]=h*E+p*A+v*P+m*N,i[14]=h*C+p*D+v*O+m*I,i[3]=g*x+y*k+b*M+_*R,i[7]=g*w+y*S+b*T+_*F,i[11]=g*E+y*A+b*P+_*N,i[15]=g*C+y*D+b*O+_*I,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],u=e[9],s=e[13],l=e[2],c=e[6],f=e[10],d=e[14];return e[3]*(+i*u*c-r*s*c-i*o*f+n*s*f+r*o*d-n*u*d)+e[7]*(+t*u*d-t*s*f+i*a*f-r*a*d+r*s*l-i*u*l)+e[11]*(+t*s*c-t*o*d-i*a*c+n*a*d+i*o*l-n*s*l)+e[15]*(-r*o*l-t*u*c+t*o*f+r*a*c-n*a*f+n*u*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8],c=e[9],f=e[10],d=e[11],h=e[12],p=e[13],v=e[14],m=e[15],g=c*v*s-p*f*s+p*u*d-o*v*d-c*u*m+o*f*m,y=h*f*s-l*v*s-h*u*d+a*v*d+l*u*m-a*f*m,b=l*p*s-h*c*s+h*o*d-a*p*d-l*o*m+a*c*m,_=h*c*u-l*p*u-h*o*f+a*p*f+l*o*v-a*c*v,x=t*g+n*y+r*b+i*_;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return e[0]=g*w,e[1]=(p*f*i-c*v*i-p*r*d+n*v*d+c*r*m-n*f*m)*w,e[2]=(o*v*i-p*u*i+p*r*s-n*v*s-o*r*m+n*u*m)*w,e[3]=(c*u*i-o*f*i-c*r*s+n*f*s+o*r*d-n*u*d)*w,e[4]=y*w,e[5]=(l*v*i-h*f*i+h*r*d-t*v*d-l*r*m+t*f*m)*w,e[6]=(h*u*i-a*v*i-h*r*s+t*v*s+a*r*m-t*u*m)*w,e[7]=(a*f*i-l*u*i+l*r*s-t*f*s-a*r*d+t*u*d)*w,e[8]=b*w,e[9]=(h*c*i-l*p*i-h*n*d+t*p*d+l*n*m-t*c*m)*w,e[10]=(a*p*i-h*o*i+h*n*s-t*p*s-a*n*m+t*o*m)*w,e[11]=(l*o*i-a*c*i-l*n*s+t*c*s+a*n*d-t*o*d)*w,e[12]=_*w,e[13]=(l*p*r-h*c*r+h*n*f-t*p*f-l*n*v+t*c*v)*w,e[14]=(h*o*r-a*p*r-h*n*u+t*p*u+a*n*v-t*o*v)*w,e[15]=(a*c*r-l*o*r+l*n*u-t*c*u-a*n*f+t*o*f)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,u=e.z,s=i*a,l=i*o;return this.set(s*a+n,s*o-r*u,s*u+r*o,0,s*o+r*u,l*o+n,l*u-r*a,0,s*u-r*o,l*u+r*a,i*u*u+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,u=t._w,s=i+i,l=a+a,c=o+o,f=i*s,d=i*l,h=i*c,p=a*l,v=a*c,m=o*c,g=u*s,y=u*l,b=u*c,_=n.x,x=n.y,w=n.z;return r[0]=(1-(p+m))*_,r[1]=(d+b)*_,r[2]=(h-y)*_,r[3]=0,r[4]=(d-b)*x,r[5]=(1-(f+m))*x,r[6]=(v+g)*x,r[7]=0,r[8]=(h+y)*w,r[9]=(v-g)*w,r[10]=(1-(f+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=lR.set(r[0],r[1],r[2]).length(),a=lR.set(r[4],r[5],r[6]).length(),o=lR.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],cR.copy(this);var u=1/i,s=1/a,l=1/o;return cR.elements[0]*=u,cR.elements[1]*=u,cR.elements[2]*=u,cR.elements[4]*=s,cR.elements[5]*=s,cR.elements[6]*=s,cR.elements[8]*=l,cR.elements[9]*=l,cR.elements[10]*=l,t.setFromRotationMatrix(cR),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,u=2*i/(t-e),s=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),f=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=u,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,u=1/(t-e),s=1/(n-r),l=1/(a-i),c=(t+e)*u,f=(n+r)*s,d=(a+i)*l;return o[0]=2*u,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*s,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),lR=new OO,cR=new sR,fR=new OO(0,0,0),dR=new OO(1,1,1),hR=new OO,pR=new OO,vR=new OO,mR=new sR,gR=new PO,yR=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;u(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return(0,s.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],u=r[1],s=r[5],l=r[9],c=r[2],f=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(nO(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,s),this._z=0);break;case"YXZ":this._x=Math.asin(-nO(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(u,s)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(nO(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,s)):(this._y=0,this._z=Math.atan2(u,i));break;case"ZYX":this._y=Math.asin(-nO(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,i)):(this._x=0,this._z=Math.atan2(-a,s));break;case"YZX":this._z=Math.asin(nO(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-nO(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,s),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return mR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mR,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return gR.setFromEuler(this),this.setFromQuaternion(gR,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);yR.DEFAULT_ORDER="XYZ";var bR=function(){function e(){u(this,e),this.mask=1}return(0,s.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),_R=0,xR=new OO,wR=new PO,ER=new sR,CR=new OO,kR=new OO,SR=new OO,AR=new PO,DR=new OO(1,0,0),MR=new OO(0,1,0),TR=new OO(0,0,1),PR={type:"added"},OR={type:"removed"},RR=function(e){c(n,e);var t=v(n);function n(){var e;u(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,p.Z)(e),"id",{value:_R++}),e.uuid=tO(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new OO,i=new yR,a=new PO,o=new OO(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,p.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new sR},normalMatrix:{value:new cO}}),e.matrix=new sR,e.matrixWorld=new sR,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new bR,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,s.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return wR.setFromAxisAngle(e,t),this.quaternion.multiply(wR),this}},{key:"rotateOnWorldAxis",value:function(e,t){return wR.setFromAxisAngle(e,t),this.quaternion.premultiply(wR),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(DR,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(MR,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(TR,e)}},{key:"translateOnAxis",value:function(e,t){return xR.copy(e).applyQuaternion(this.quaternion),this.position.add(xR.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(DR,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(MR,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(TR,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ER.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?CR.copy(e):CR.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),kR.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ER.lookAt(kR,CR,this.up):ER.lookAt(CR,kR,this.up),this.quaternion.setFromRotationMatrix(ER),r&&(ER.extractRotation(r.matrixWorld),wR.setFromRotationMatrix(ER),this.quaternion.premultiply(wR.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(PR)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(OR)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(OR)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),ER.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ER.multiply(e.parent.matrixWorld)),e.applyMatrix4(ER),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kR,e,SR),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(kR,AR,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var u=0,s=o.length;u<s;u++){var l=o[u];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,d=this.material.length;f<d;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=C(e.geometries),g=C(e.materials),y=C(e.textures),b=C(e.images),_=C(e.shapes),x=C(e.skeletons),w=C(e.animations),E=C(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),_.length>0&&(n.shapes=_),x.length>0&&(n.skeletons=x),w.length>0&&(n.animations=w),E.length>0&&(n.nodes=E)}return n.object=r,n;function C(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(KP);RR.DEFAULT_UP=new OO(0,1,0),RR.DEFAULT_MATRIX_AUTO_UPDATE=!0,RR.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var FR=new OO,NR=new OO,IR=new OO,BR=new OO,LR=new OO,zR=new OO,UR=new OO,jR=new OO,WR=new OO,ZR=new OO,VR=!1,HR=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new OO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new OO,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new OO;u(this,e),this.a=t,this.b=n,this.c=r}return(0,s.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return FR.subVectors(this.c,this.b),NR.subVectors(this.a,this.b),.5*FR.cross(NR).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return!1===VR&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),VR=!0),e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;LR.subVectors(a,i),zR.subVectors(o,i),jR.subVectors(e,i);var u=LR.dot(jR),s=zR.dot(jR);if(u<=0&&s<=0)return t.copy(i);WR.subVectors(e,a);var l=LR.dot(WR),c=zR.dot(WR);if(l>=0&&c<=l)return t.copy(a);var f=u*c-l*s;if(f<=0&&u>=0&&l<=0)return n=u/(u-l),t.copy(i).addScaledVector(LR,n);ZR.subVectors(e,o);var d=LR.dot(ZR),h=zR.dot(ZR);if(h>=0&&d<=h)return t.copy(o);var p=d*s-u*h;if(p<=0&&s>=0&&h<=0)return r=s/(s-h),t.copy(i).addScaledVector(zR,r);var v=l*h-d*c;if(v<=0&&c-l>=0&&d-h>=0)return UR.subVectors(o,a),r=(c-l)/(c-l+(d-h)),t.copy(a).addScaledVector(UR,r);var m=1/(v+p+f);return n=p*m,r=f*m,t.copy(i).addScaledVector(LR,n).addScaledVector(zR,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),FR.subVectors(e,t),r.cross(FR);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){FR.subVectors(r,t),NR.subVectors(n,t),IR.subVectors(e,t);var a=FR.dot(FR),o=FR.dot(NR),u=FR.dot(IR),s=NR.dot(NR),l=NR.dot(IR),c=a*s-o*o;if(0===c)return i.set(-2,-1,-1);var f=1/c,d=(s*u-o*l)*f,h=(a*l-o*u)*f;return i.set(1-d-h,h,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,BR),BR.x>=0&&BR.y>=0&&BR.x+BR.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,u){return!1===VR&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),VR=!0),this.getInterpolation(e,t,n,r,i,a,o,u)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,u){return this.getBarycoord(e,t,n,r,BR),u.setScalar(0),u.addScaledVector(i,BR.x),u.addScaledVector(a,BR.y),u.addScaledVector(o,BR.z),u}},{key:"isFrontFacing",value:function(e,t,n,r){return FR.subVectors(n,t),NR.subVectors(e,t),FR.cross(NR).dot(r)<0}}]),e}(),GR=0,qR=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,p.Z)(e),"id",{value:GR++}),e.uuid=tO(),e.name="",e.type="Material",e.blending=1,e.side=YT,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=JT,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=qP,e.stencilZFail=qP,e.stencilZPass=qP,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,s.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==YT&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(KP),YR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},XR={h:0,s:0,l:0},$R={h:0,s:0,l:0};function KR(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var JR=function(e){function t(e,n,r){return u(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return(0,s.Z)(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VP;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,xO.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xO.workingColorSpace;return this.r=e,this.g=t,this.b=n,xO.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:xO.workingColorSpace;if(e=rO(e,1),t=nO(t,0,1),n=nO(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=KR(a,i,e+1/3),this.g=KR(a,i,e),this.b=KR(a,i,e-1/3)}return xO.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VP;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,xO.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,xO.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var u=parseFloat(i[1])/360,s=parseFloat(i[2])/100,l=parseFloat(i[3])/100;return r(i[4]),this.setHSL(u,s,l,n)}break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],f=c.length;if(3===f)return this.setRGB(parseInt(c.charAt(0),16)/15,parseInt(c.charAt(1),16)/15,parseInt(c.charAt(2),16)/15,n);if(6===f)return this.setHex(parseInt(c,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VP,n=YR[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=pO(e.r),this.g=pO(e.g),this.b=pO(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=vO(e.r),this.g=vO(e.g),this.b=vO(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VP;return xO.fromWorkingColorSpace(QR.copy(this),e),nO(255*QR.r,0,255)<<16^nO(255*QR.g,0,255)<<8^nO(255*QR.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VP;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xO.workingColorSpace;xO.fromWorkingColorSpace(QR.copy(this),t);var n,r,i=QR.r,a=QR.g,o=QR.b,u=Math.max(i,a,o),s=Math.min(i,a,o),l=(s+u)/2;if(s===u)n=0,r=0;else{var c=u-s;switch(r=l<=.5?c/(u+s):c/(2-u-s),u){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xO.workingColorSpace;return xO.fromWorkingColorSpace(QR.copy(this),t),e.r=QR.r,e.g=QR.g,e.b=QR.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VP;xO.fromWorkingColorSpace(QR.copy(this),e);var t=QR.r,n=QR.g,r=QR.b;return e!==VP?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(255*t|0,",").concat(255*n|0,",").concat(255*r|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(XR),XR.h+=e,XR.s+=t,XR.l+=n,this.setHSL(XR.h,XR.s,XR.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(XR),e.getHSL($R);var n=iO(XR.h,$R.h,t),r=iO(XR.s,$R.s,t),i=iO(XR.l,$R.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),QR=new JR;JR.NAMES=YR;var eF=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new JR(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=QT,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(qR);var tF=new OO,nF=new lO,rF=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(u(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=YP,this.updateRange={offset:0,count:-1},this.version=0}return(0,s.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)nF.fromBufferAttribute(this,t),nF.applyMatrix3(e),this.setXY(t,nF.x,nF.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)tF.fromBufferAttribute(this,r),tF.applyMatrix3(e),this.setXYZ(r,tF.x,tF.y,tF.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)tF.fromBufferAttribute(this,t),tF.applyMatrix4(e),this.setXYZ(t,tF.x,tF.y,tF.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)tF.fromBufferAttribute(this,t),tF.applyNormalMatrix(e),this.setXYZ(t,tF.x,tF.y,tF.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)tF.fromBufferAttribute(this,t),tF.transformDirection(e),this.setXYZ(t,tF.x,tF.y,tF.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=uO(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=uO(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=uO(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=uO(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=sO(t,this.array),n=sO(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=sO(t,this.array),n=sO(n,this.array),r=sO(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=sO(t,this.array),n=sO(n,this.array),r=sO(r,this.array),i=sO(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==YP&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),iF=function(e){c(n,e);var t=v(n);function n(e,r,i){return u(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,s.Z)(n)}(rF),aF=function(e){c(n,e);var t=v(n);function n(e,r,i){return u(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,s.Z)(n)}(rF),oF=function(e){c(n,e);var t=v(n);function n(e,r,i){return u(this,n),t.call(this,new Float32Array(e),r,i)}return(0,s.Z)(n)}(rF),uF=0,sF=new sR,lF=new RR,cF=new OO,fF=new NO,dF=new NO,hF=new OO,pF=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,p.Z)(e),"id",{value:uF++}),e.uuid=tO(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,s.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(dO(e)?aF:iF)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new cO).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return sF.makeRotationFromQuaternion(e),this.applyMatrix4(sF),this}},{key:"rotateX",value:function(e){return sF.makeRotationX(e),this.applyMatrix4(sF),this}},{key:"rotateY",value:function(e){return sF.makeRotationY(e),this.applyMatrix4(sF),this}},{key:"rotateZ",value:function(e){return sF.makeRotationZ(e),this.applyMatrix4(sF),this}},{key:"translate",value:function(e,t,n){return sF.makeTranslation(e,t,n),this.applyMatrix4(sF),this}},{key:"scale",value:function(e,t,n){return sF.makeScale(e,t,n),this.applyMatrix4(sF),this}},{key:"lookAt",value:function(e){return lF.lookAt(e),lF.updateMatrix(),this.applyMatrix4(lF.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(cF).negate(),this.translate(cF.x,cF.y,cF.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new oF(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new NO);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new OO(-1/0,-1/0,-1/0),new OO(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];fF.setFromBufferAttribute(i),this.morphTargetsRelative?(hF.addVectors(this.boundingBox.min,fF.min),this.boundingBox.expandByPoint(hF),hF.addVectors(this.boundingBox.max,fF.max),this.boundingBox.expandByPoint(hF)):(this.boundingBox.expandByPoint(fF.min),this.boundingBox.expandByPoint(fF.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new QO);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new OO,1/0);if(e){var n=this.boundingSphere.center;if(fF.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];dF.setFromBufferAttribute(a),this.morphTargetsRelative?(hF.addVectors(fF.min,dF.min),fF.expandByPoint(hF),hF.addVectors(fF.max,dF.max),fF.expandByPoint(hF)):(fF.expandByPoint(dF.min),fF.expandByPoint(dF.max))}fF.getCenter(n);for(var o=0,u=0,s=e.count;u<s;u++)hF.fromBufferAttribute(e,u),o=Math.max(o,n.distanceToSquared(hF));if(t)for(var l=0,c=t.length;l<c;l++)for(var f=t[l],d=this.morphTargetsRelative,h=0,p=f.count;h<p;h++)hF.fromBufferAttribute(f,h),d&&(cF.fromBufferAttribute(e,h),hF.add(cF)),o=Math.max(o,n.distanceToSquared(hF));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new rF(new Float32Array(4*o),4));for(var u=this.getAttribute("tangent").array,s=[],l=[],c=0;c<o;c++)s[c]=new OO,l[c]=new OO;var f=new OO,d=new OO,h=new OO,p=new lO,v=new lO,m=new lO,g=new OO,y=new OO,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var _=0,x=b.length;_<x;++_)for(var w=b[_],E=w.start,C=E,k=E+w.count;C<k;C+=3)I(n[C+0],n[C+1],n[C+2]);for(var S=new OO,A=new OO,D=new OO,M=new OO,T=0,P=b.length;T<P;++T)for(var O=b[T],R=O.start,F=R,N=R+O.count;F<N;F+=3)B(n[F+0]),B(n[F+1]),B(n[F+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function I(e,t,n){f.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(f),h.sub(f),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-v.y).multiplyScalar(i),y.copy(h).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(i),s[e].add(g),s[t].add(g),s[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function B(e){D.fromArray(i,3*e),M.copy(D);var t=s[e];S.copy(t),S.sub(D.multiplyScalar(D.dot(t))).normalize(),A.crossVectors(M,t);var n=A.dot(l[e])<0?-1:1;u[4*e]=S.x,u[4*e+1]=S.y,u[4*e+2]=S.z,u[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new rF(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new OO,o=new OO,u=new OO,s=new OO,l=new OO,c=new OO,f=new OO,d=new OO;if(e)for(var h=0,p=e.count;h<p;h+=3){var v=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),u.fromBufferAttribute(t,g),f.subVectors(u,o),d.subVectors(a,o),f.cross(d),s.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),s.add(f),l.add(f),c.add(f),n.setXYZ(v,s.x,s.y,s.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),u.fromBufferAttribute(t,y+2),f.subVectors(u,o),d.subVectors(a,o),f.cross(d),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)hF.fromBufferAttribute(e,t),hF.normalize(),e.setXYZ(t,hF.x,hF.y,hF.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,u=0,s=0,l=t.length;s<l;s++){o=e.isInterleavedBufferAttribute?t[s]*e.data.stride+e.offset:t[s]*r;for(var c=0;c<r;c++)a[u++]=n[o++]}return new rF(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var u=this.morphAttributes;for(var s in u){for(var l=[],c=u[s],f=0,d=c.length;f<d;f++){var h=e(c[f],r);l.push(h)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var u={},s=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],f=[],d=0,h=c.length;d<h;d++){var p=c[d];f.push(p.toJSON(e.data))}f.length>0&&(u[l]=f,s=!0)}s&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var u in o){for(var s=[],l=o[u],c=0,f=l.length;c<f;c++)s.push(l[c].clone(t));this.morphAttributes[u]=s}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,h=0,p=d.length;h<p;h++){var v=d[h];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(KP),vF=new sR,mF=new uR,gF=new QO,yF=new OO,bF=new OO,_F=new OO,xF=new OO,wF=new OO,EF=new OO,CF=new lO,kF=new lO,SF=new lO,AF=new OO,DF=new OO,MF=new OO,TF=new OO,PF=new OO,OF=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pF,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new eF;return u(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,s.Z)(n,[{key:"copy",value:function(e,t){return Oa(f(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){EF.set(0,0,0);for(var u=0,s=i.length;u<s;u++){var l=o[u],c=i[u];0!==l&&(wF.fromBufferAttribute(c,e),a?EF.addScaledVector(wF,l):EF.addScaledVector(wF.sub(t),l))}t.add(EF)}return this.isSkinnedMesh&&this.applyBoneTransform(e,t),t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),gF.copy(n.boundingSphere),gF.applyMatrix4(i),mF.copy(e.ray).recast(e.near),!1===gF.containsPoint(mF.origin)){if(null===mF.intersectSphere(gF,yF))return;if(mF.origin.distanceToSquared(yF)>Math.pow(e.far-e.near,2))return}if(vF.copy(i).invert(),mF.copy(e.ray).applyMatrix4(vF),null===n.boundingBox||!1!==mF.intersectsBox(n.boundingBox)){var a,o=n.index,u=n.attributes.position,s=n.attributes.uv,l=n.attributes.uv2,c=n.attributes.normal,f=n.groups,d=n.drawRange;if(null!==o)if(Array.isArray(r))for(var h=0,p=f.length;h<p;h++)for(var v=f[h],m=r[v.materialIndex],g=Math.max(v.start,d.start),y=Math.min(o.count,Math.min(v.start+v.count,d.start+d.count));g<y;g+=3){var b=o.getX(g),_=o.getX(g+1),x=o.getX(g+2);(a=RF(this,m,e,mF,s,l,c,b,_,x))&&(a.faceIndex=Math.floor(g/3),a.face.materialIndex=v.materialIndex,t.push(a))}else for(var w=Math.max(0,d.start),E=Math.min(o.count,d.start+d.count);w<E;w+=3){var C=o.getX(w),k=o.getX(w+1),S=o.getX(w+2);(a=RF(this,r,e,mF,s,l,c,C,k,S))&&(a.faceIndex=Math.floor(w/3),t.push(a))}else if(void 0!==u)if(Array.isArray(r))for(var A=0,D=f.length;A<D;A++)for(var M=f[A],T=r[M.materialIndex],P=Math.max(M.start,d.start),O=Math.min(u.count,Math.min(M.start+M.count,d.start+d.count));P<O;P+=3){(a=RF(this,T,e,mF,s,l,c,P,P+1,P+2))&&(a.faceIndex=Math.floor(P/3),a.face.materialIndex=M.materialIndex,t.push(a))}else for(var R=Math.max(0,d.start),F=Math.min(u.count,d.start+d.count);R<F;R+=3){(a=RF(this,r,e,mF,s,l,c,R,R+1,R+2))&&(a.faceIndex=Math.floor(R/3),t.push(a))}}}}}]),n}(RR);function RF(e,t,n,r,i,a,o,u,s,l){e.getVertexPosition(u,bF),e.getVertexPosition(s,_F),e.getVertexPosition(l,xF);var c=function(e,t,n,r,i,a,o,u){if(null===(t.side===XT?r.intersectTriangle(o,a,i,!0,u):r.intersectTriangle(i,a,o,t.side===YT,u)))return null;PF.copy(u),PF.applyMatrix4(e.matrixWorld);var s=n.ray.origin.distanceTo(PF);return s<n.near||s>n.far?null:{distance:s,point:PF.clone(),object:e}}(e,t,n,r,bF,_F,xF,TF);if(c){i&&(CF.fromBufferAttribute(i,u),kF.fromBufferAttribute(i,s),SF.fromBufferAttribute(i,l),c.uv=HR.getInterpolation(TF,bF,_F,xF,CF,kF,SF,new lO)),a&&(CF.fromBufferAttribute(a,u),kF.fromBufferAttribute(a,s),SF.fromBufferAttribute(a,l),c.uv2=HR.getInterpolation(TF,bF,_F,xF,CF,kF,SF,new lO)),o&&(AF.fromBufferAttribute(o,u),DF.fromBufferAttribute(o,s),MF.fromBufferAttribute(o,l),c.normal=HR.getInterpolation(TF,bF,_F,xF,AF,DF,MF,new OO),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var f={a:u,b:s,c:l,normal:new OO,materialIndex:0};HR.getNormal(bF,_F,xF,f.normal),c.face=f}return c}var FF=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;u(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var c=(0,p.Z)(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var f=[],d=[],h=[],v=[],m=0,g=0;function y(e,t,n,r,i,a,o,u,s,l,p){for(var y=a/s,b=o/l,_=a/2,x=o/2,w=u/2,E=s+1,C=l+1,k=0,S=0,A=new OO,D=0;D<C;D++)for(var M=D*b-x,T=0;T<E;T++){var P=T*y-_;A[e]=P*r,A[t]=M*i,A[n]=w,d.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=u>0?1:-1,h.push(A.x,A.y,A.z),v.push(T/s),v.push(1-D/l),k+=1}for(var O=0;O<l;O++)for(var R=0;R<s;R++){var F=m+R+E*O,N=m+R+E*(O+1),I=m+(R+1)+E*(O+1),B=m+(R+1)+E*O;f.push(F,N,B),f.push(N,I,B),S+=6}c.addGroup(g,S,p),g+=S,m+=k}return y("z","y","x",-1,-1,a,i,r,l,s,0),y("z","y","x",1,-1,a,i,-r,l,s,1),y("x","z","y",1,1,r,a,i,o,l,2),y("x","z","y",1,-1,r,a,-i,o,l,3),y("x","y","z",1,-1,r,i,a,o,s,4),y("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(f),e.setAttribute("position",new oF(d,3)),e.setAttribute("normal",new oF(h,3)),e.setAttribute("uv",new oF(v,2)),e}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(pF);function NF(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function IF(e){for(var t={},n=0;n<e.length;n++){var r=NF(e[n]);for(var i in r)t[i]=r[i]}return t}function BF(e){return null===e.getRenderTarget()&&e.outputEncoding===WP?VP:HP}var LF={clone:NF,merge:IF},zF=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.forceSinglePass=!0,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=NF(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=Oa(f(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(qR),UF=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new sR,e.projectionMatrix=new sR,e.projectionMatrixInverse=new sR,e}return(0,s.Z)(n,[{key:"copy",value:function(e,t){return Oa(f(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){Oa(f(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){Oa(f(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(RR),jF=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return u(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,s.Z)(n,[{key:"copy",value:function(e,t){return Oa(f(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*eO*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*QP*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*eO*Math.atan(Math.tan(.5*QP*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*QP*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,u=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/u,r*=a.width/o,n*=a.height/u}var s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Oa(f(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(UF),WF=-90,ZF=function(e){c(n,e);var t=v(n);function n(e,r,i){var a;u(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var o=new jF(WF,1,e,r);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(1,0,0),a.add(o);var s=new jF(WF,1,e,r);s.layers=a.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),a.add(s);var l=new jF(WF,1,e,r);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(0,1,0),a.add(l);var c=new jF(WF,1,e,r);c.layers=a.layers,c.up.set(0,0,1),c.lookAt(0,-1,0),a.add(c);var f=new jF(WF,1,e,r);f.layers=a.layers,f.up.set(0,1,0),f.lookAt(0,0,1),a.add(f);var d=new jF(WF,1,e,r);return d.layers=a.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),a.add(d),a}return(0,s.Z)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,a.Z)(this.children,6),i=r[0],o=r[1],u=r[2],s=r[3],l=r[4],c=r[5],f=e.getRenderTarget(),d=e.toneMapping,h=e.xr.enabled;e.toneMapping=nP,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,o),e.setRenderTarget(n,2),e.render(t,u),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(f),e.toneMapping=d,e.xr.enabled=h,n.texture.needsPMREMUpdate=!0}}]),n}(RR),VF=function(e){c(n,e);var t=v(n);function n(e,r,i,a,o,s,l,c,f,d){var h;return u(this,n),e=void 0!==e?e:[],r=void 0!==r?r:sP,(h=t.call(this,e,r,i,a,o,s,l,c,f,d)).isCubeTexture=!0,h.flipY=!1,h}return(0,s.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(SO),HF=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return e.texture=new VF(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:bP,e}return(0,s.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new FF(5,5,5),o=new zF({name:"CubemapFromEquirect",uniforms:NF(n),vertexShader:r,fragmentShader:i,side:XT,blending:KT});o.uniforms.tEquirect.value=t;var u=new OF(a,o),s=t.minFilter;return t.minFilter===xP&&(t.minFilter=bP),new ZF(1,10,this).update(e,u),t.minFilter=s,u.geometry.dispose(),u.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(DO),GF=new OO,qF=new OO,YF=new cO,XF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new OO(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,s.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=GF.subVectors(n,t).cross(qF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(GF),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||YF.getNormalMatrix(e),r=this.coplanarPoint(GF).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),$F=new QO,KF=new OO,JF=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new XF,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new XF,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new XF,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new XF,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new XF,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new XF;u(this,e),this.planes=[t,n,r,i,a,o]}return(0,s.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],u=n[4],s=n[5],l=n[6],c=n[7],f=n[8],d=n[9],h=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-u,p-f,y-v).normalize(),t[1].setComponents(o+r,c+u,p+f,y+v).normalize(),t[2].setComponents(o+i,c+s,p+d,y+m).normalize(),t[3].setComponents(o-i,c-s,p-d,y-m).normalize(),t[4].setComponents(o-a,c-l,p-h,y-g).normalize(),t[5].setComponents(o+a,c+l,p+h,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),$F.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),$F.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($F)}},{key:"intersectsSprite",value:function(e){return $F.center.set(0,0,0),$F.radius=.7071067811865476,$F.applyMatrix4(e.matrixWorld),this.intersectsSphere($F)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(KF.x=r.normal.x>0?e.max.x:e.min.x,KF.y=r.normal.y>0?e.max.y:e.min.y,KF.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(KF)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function QF(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function eN(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,u=e.createBuffer();if(e.bindBuffer(r,u),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:u,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var tN=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;u(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,c=Math.floor(a),f=Math.floor(o),d=c+1,h=f+1,p=r/c,v=i/f,m=[],g=[],y=[],b=[],_=0;_<h;_++)for(var x=_*v-l,w=0;w<d;w++){var E=w*p-s;g.push(E,-x,0),y.push(0,0,1),b.push(w/c),b.push(1-_/f)}for(var C=0;C<f;C++)for(var k=0;k<c;k++){var S=k+d*C,A=k+d*(C+1),D=k+1+d*(C+1),M=k+1+d*C;m.push(S,A,M),m.push(A,D,M)}return e.setIndex(m),e.setAttribute("position",new oF(g,3)),e.setAttribute("normal",new oF(y,3)),e.setAttribute("uv",new oF(b,2)),e}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(pF),nN={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, vec2 fullSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\t\n\t\tvec2 lodFudge = pow( 1.95, lod ) / fullSize;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec2 fullSize = vec2( textureSize( sampler, 0 ) );\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), fullSize, floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), fullSize, ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_UV2\n\tattribute vec2 uv2;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},rN={common:{diffuse:{value:new JR(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cO},alphaMap:{value:null},alphaMapTransform:{value:new cO},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cO}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cO}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cO}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cO},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cO},normalScale:{value:new lO(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cO},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cO}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cO}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cO}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new JR(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new JR(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new cO}},sprite:{diffuse:{value:new JR(16777215)},opacity:{value:1},center:{value:new lO(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cO},alphaMap:{value:null},alphaTest:{value:0}}},iN={basic:{uniforms:IF([rN.common,rN.specularmap,rN.envmap,rN.aomap,rN.lightmap,rN.fog]),vertexShader:nN.meshbasic_vert,fragmentShader:nN.meshbasic_frag},lambert:{uniforms:IF([rN.common,rN.specularmap,rN.envmap,rN.aomap,rN.lightmap,rN.emissivemap,rN.bumpmap,rN.normalmap,rN.displacementmap,rN.fog,rN.lights,{emissive:{value:new JR(0)}}]),vertexShader:nN.meshlambert_vert,fragmentShader:nN.meshlambert_frag},phong:{uniforms:IF([rN.common,rN.specularmap,rN.envmap,rN.aomap,rN.lightmap,rN.emissivemap,rN.bumpmap,rN.normalmap,rN.displacementmap,rN.fog,rN.lights,{emissive:{value:new JR(0)},specular:{value:new JR(1118481)},shininess:{value:30}}]),vertexShader:nN.meshphong_vert,fragmentShader:nN.meshphong_frag},standard:{uniforms:IF([rN.common,rN.envmap,rN.aomap,rN.lightmap,rN.emissivemap,rN.bumpmap,rN.normalmap,rN.displacementmap,rN.roughnessmap,rN.metalnessmap,rN.fog,rN.lights,{emissive:{value:new JR(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nN.meshphysical_vert,fragmentShader:nN.meshphysical_frag},toon:{uniforms:IF([rN.common,rN.aomap,rN.lightmap,rN.emissivemap,rN.bumpmap,rN.normalmap,rN.displacementmap,rN.gradientmap,rN.fog,rN.lights,{emissive:{value:new JR(0)}}]),vertexShader:nN.meshtoon_vert,fragmentShader:nN.meshtoon_frag},matcap:{uniforms:IF([rN.common,rN.bumpmap,rN.normalmap,rN.displacementmap,rN.fog,{matcap:{value:null}}]),vertexShader:nN.meshmatcap_vert,fragmentShader:nN.meshmatcap_frag},points:{uniforms:IF([rN.points,rN.fog]),vertexShader:nN.points_vert,fragmentShader:nN.points_frag},dashed:{uniforms:IF([rN.common,rN.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nN.linedashed_vert,fragmentShader:nN.linedashed_frag},depth:{uniforms:IF([rN.common,rN.displacementmap]),vertexShader:nN.depth_vert,fragmentShader:nN.depth_frag},normal:{uniforms:IF([rN.common,rN.bumpmap,rN.normalmap,rN.displacementmap,{opacity:{value:1}}]),vertexShader:nN.meshnormal_vert,fragmentShader:nN.meshnormal_frag},sprite:{uniforms:IF([rN.sprite,rN.fog]),vertexShader:nN.sprite_vert,fragmentShader:nN.sprite_frag},background:{uniforms:{uvTransform:{value:new cO},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nN.background_vert,fragmentShader:nN.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:nN.backgroundCube_vert,fragmentShader:nN.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nN.cube_vert,fragmentShader:nN.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nN.equirect_vert,fragmentShader:nN.equirect_frag},distanceRGBA:{uniforms:IF([rN.common,rN.displacementmap,{referencePosition:{value:new OO},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nN.distanceRGBA_vert,fragmentShader:nN.distanceRGBA_frag},shadow:{uniforms:IF([rN.lights,rN.fog,{color:{value:new JR(0)},opacity:{value:1}}]),vertexShader:nN.shadow_vert,fragmentShader:nN.shadow_frag}};iN.physical={uniforms:IF([iN.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cO},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cO},clearcoatNormalScale:{value:new lO(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cO},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cO},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cO},sheen:{value:0},sheenColor:{value:new JR(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cO},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cO},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cO},transmissionSamplerSize:{value:new lO},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cO},attenuationDistance:{value:0},attenuationColor:{value:new JR(0)},specularColor:{value:new JR(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cO},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cO}}]),vertexShader:nN.meshphysical_vert,fragmentShader:nN.meshphysical_frag};var aN={r:0,b:0,g:0};function oN(e,t,n,r,i,a,o){var u,s,l=new JR(0),c=!0===a?0:1,f=null,d=0,h=null;function p(t,n){t.getRGB(aN,BF(e)),r.buffers.color.setClear(aN.r,aN.g,aN.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;l.set(e),p(l,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(l,c=e)},render:function(r,a){var o=!1,v=!0===a.isScene?a.background:null;v&&v.isTexture&&(v=(a.backgroundBlurriness>0?n:t).get(v));var m=e.xr,g=m.getSession&&m.getSession();g&&"additive"===g.environmentBlendMode&&(v=null),null===v?p(l,c):v&&v.isColor&&(p(v,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),v&&(v.isCubeTexture||v.mapping===dP)?(void 0===s&&((s=new OF(new FF(1,1,1),new zF({name:"BackgroundCubeMaterial",uniforms:NF(iN.backgroundCube.uniforms),vertexShader:iN.backgroundCube.vertexShader,fragmentShader:iN.backgroundCube.fragmentShader,side:XT,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(s)),s.material.uniforms.envMap.value=v,s.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,s.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=v.encoding!==WP,f===v&&d===v.version&&h===e.toneMapping||(s.material.needsUpdate=!0,f=v,d=v.version,h=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null)):v&&v.isTexture&&(void 0===u&&((u=new OF(new tN(2,2),new zF({name:"BackgroundMaterial",uniforms:NF(iN.background.uniforms),vertexShader:iN.background.vertexShader,fragmentShader:iN.background.fragmentShader,side:YT,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=v,u.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,u.material.toneMapped=v.encoding!==WP,!0===v.matrixAutoUpdate&&v.updateMatrix(),u.material.uniforms.uvTransform.value.copy(v.matrix),f===v&&d===v.version&&h===e.toneMapping||(u.material.needsUpdate=!0,f=v,d=v.version,h=e.toneMapping),u.layers.enableAll(),r.unshift(u,u.geometry,u.material,0,0,null))}}}function uN(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,u={},s=h(null),l=s,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function h(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,u=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),u[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),u[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,u){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,u):e.vertexAttribIPointer(t,n,i,o,u)}function b(){_(),c=!0,l!==s&&f((l=s).object)}function _(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:function(i,s,d,b,_){var x=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,s=u[t.id];void 0===s&&(s={},u[t.id]=s);var l=s[n.id];void 0===l&&(l={},s[n.id]=l);var c=l[o];void 0===c&&(c=h(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(b,d,s);l!==w&&f((l=w).object),x=function(e,t,n,r){var i=l.attributes,a=t.attributes,o=0,u=n.getAttributes();for(var s in u){if(u[s].location>=0){var c=i[s],f=a[s];if(void 0===f&&("instanceMatrix"===s&&e.instanceMatrix&&(f=e.instanceMatrix),"instanceColor"===s&&e.instanceColor&&(f=e.instanceColor)),void 0===c)return!0;if(c.attribute!==f)return!0;if(f&&c.data!==f.data)return!0;o++}}return l.attributesNum!==o||l.index!==r}(i,b,d,_),x&&function(e,t,n,r){var i={},a=t.attributes,o=0,u=n.getAttributes();for(var s in u){if(u[s].location>=0){var c=a[s];void 0===c&&("instanceMatrix"===s&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===s&&e.instanceColor&&(c=e.instanceColor));var f={};f.attribute=c,c&&c.data&&(f.data=c.data),i[s]=f,o++}}l.attributes=i,l.attributesNum=o,l.index=r}(i,b,d,_)}else{var E=!0===s.wireframe;l.geometry===b.id&&l.program===d.id&&l.wireframe===E||(l.geometry=b.id,l.program=d.id,l.wireframe=E,x=!0)}null!==_&&n.update(_,34963),(x||c)&&(c=!1,function(i,a,o,u){if(!1===r.isWebGL2&&(i.isInstancedMesh||u.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var s=u.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var f in l){var d=l[f];if(d.location>=0){var h=s[f];if(void 0===h&&("instanceMatrix"===f&&i.instanceMatrix&&(h=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(h=i.instanceColor)),void 0!==h){var b=h.normalized,_=h.itemSize,x=n.get(h);if(void 0===x)continue;var w=x.buffer,E=x.type,C=x.bytesPerElement;if(h.isInterleavedBufferAttribute){var k=h.data,S=k.stride,A=h.offset;if(k.isInstancedInterleavedBuffer){for(var D=0;D<d.locationSize;D++)m(d.location+D,k.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===u._maxInstanceCount&&(u._maxInstanceCount=k.meshPerAttribute*k.count)}else for(var M=0;M<d.locationSize;M++)v(d.location+M);e.bindBuffer(34962,w);for(var T=0;T<d.locationSize;T++)y(d.location+T,_/d.locationSize,E,b,S*C,(A+_/d.locationSize*T)*C)}else{if(h.isInstancedBufferAttribute){for(var P=0;P<d.locationSize;P++)m(d.location+P,h.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===u._maxInstanceCount&&(u._maxInstanceCount=h.meshPerAttribute*h.count)}else for(var O=0;O<d.locationSize;O++)v(d.location+O);e.bindBuffer(34962,w);for(var R=0;R<d.locationSize;R++)y(d.location+R,_/d.locationSize,E,b,_*C,_/d.locationSize*R*C)}}else if(void 0!==c){var F=c[f];if(void 0!==F)switch(F.length){case 2:e.vertexAttrib2fv(d.location,F);break;case 3:e.vertexAttrib3fv(d.location,F);break;case 4:e.vertexAttrib4fv(d.location,F);break;default:e.vertexAttrib1fv(d.location,F)}}}}g()}(i,s,d,b),null!==_&&e.bindBuffer(34963,n.get(_).buffer))},reset:b,resetDefaultState:_,dispose:function(){for(var e in b(),u){var t=u[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete u[e]}},releaseStatesOfGeometry:function(e){if(void 0!==u[e.id]){var t=u[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete u[e.id]}},releaseStatesOfProgram:function(e){for(var t in u){var n=u[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function sN(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,u){if(0!==u){var s,l;if(a)s=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(s=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");s[l](i,r,o,u),n.update(o,i,u)}}}function lN(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",u=i(o);u!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",u,"instead."),o=u);var s=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),f=e.getParameter(35660),d=e.getParameter(3379),h=e.getParameter(34076),p=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=f>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:s,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:f,maxTextureSize:d,maxCubemapSize:h,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(36183):0}}function cN(e){var t=this,n=null,r=0,i=!1,a=!1,o=new XF,u=new cO,s={value:null,needsUpdate:!1};function l(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=s.value,!0!==i||null===l){var c=r+4*a,f=n.matrixWorldInverse;u.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var d=0,h=r;d!==a;++d,h+=4)o.copy(e[d]).applyMatrix4(f,u),o.normal.toArray(l,h),l[h+3]=o.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,l(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=l(e,t,0)},this.setState=function(o,u,c){var f=o.clippingPlanes,d=o.clipIntersection,h=o.clipShadows,p=e.get(o);if(!i||null===f||0===f.length||a&&!h)a?l(null):function(){s.value!==n&&(s.value=n,s.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,m=4*v,g=p.clippingState||null;s.value=g,g=l(f,u,m,c);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=v}}}function fN(e){var t=new WeakMap;function n(e,t){return t===cP?e.mapping=sP:t===fP&&(e.mapping=lP),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===cP||a===fP){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var u=new HF(o.height/2);return u.fromEquirectangularTexture(e,i),t.set(i,u),i.addEventListener("dispose",r),n(u.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var dN=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return u(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return(0,s.Z)(n,[{key:"copy",value:function(e,t){return Oa(f(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,u=r-t;if(null!==this.view&&this.view.enabled){var s=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=s*this.view.offsetX)+s*this.view.width,u=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=Oa(f(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(UF),hN=4,pN=[.125,.215,.35,.446,.526,.582],vN=20,mN=new dN,gN=new JR,yN=null,bN=(1+Math.sqrt(5))/2,_N=1/bN,xN=[new OO(1,1,1),new OO(-1,1,1),new OO(1,1,-1),new OO(-1,1,-1),new OO(0,bN,_N),new OO(0,bN,-_N),new OO(_N,0,bN),new OO(-_N,0,bN),new OO(bN,_N,0),new OO(-bN,_N,0)],wN=function(){function e(t){u(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,s.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;yN=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=SN(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=kN(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(yN),e.scissorTest=!1,CN(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===sP||e.mapping===lP?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yN=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:bP,minFilter:bP,generateMipmaps:!1,type:kP,format:AP,encoding:jP,depthBuffer:!1},r=EN(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=EN(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-hN+1+pN.length,o=0;o<a;o++){var u=Math.pow(2,i);n.push(u);var s=1/u;o>e-hN?s=pN[o-e+hN-1]:0===o&&(s=0),r.push(s);for(var l=1/(u-2),c=-l,f=1+l,d=[c,c,f,c,f,f,c,c,f,f,c,f],h=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*h),b=new Float32Array(m*p*h),_=new Float32Array(g*p*h),x=0;x<h;x++){var w=x%3*2/3-1,E=x>2?0:-1,C=[w,E,0,w+2/3,E,0,w+2/3,E+1,0,w,E,0,w+2/3,E+1,0,w,E+1,0];y.set(C,v*p*x),b.set(d,m*p*x);var k=[x,x,x,x,x,x];_.set(k,g*p*x)}var S=new pF;S.setAttribute("position",new rF(y,v)),S.setAttribute("uv",new rF(b,m)),S.setAttribute("faceIndex",new rF(_,g)),t.push(S),i>hN&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(vN),i=new OO(0,1,0),a=new zF({name:"SphericalGaussianBlur",defines:{n:vN,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:KT,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new OF(this._lodPlanes[0],e);this._renderer.compile(t,mN)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new jF(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],u=this._renderer,s=u.autoClear,l=u.toneMapping;u.getClearColor(gN),u.toneMapping=nP,u.autoClear=!1;var c=new eF({name:"PMREM.Background",side:XT,depthWrite:!1,depthTest:!1}),f=new OF(new FF,c),d=!1,h=e.background;h?h.isColor&&(c.color.copy(h),e.background=null,d=!0):(c.color.copy(gN),d=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;CN(r,v*m,p>2?m:0,m,m),u.setRenderTarget(r),d&&u.render(f,i),u.render(e,i)}f.geometry.dispose(),f.material.dispose(),u.toneMapping=l,u.autoClear=s,e.background=h}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===sP||e.mapping===lP;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=SN()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=kN());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new OF(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;CN(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,mN)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=xN[(r-1)%xN.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var u=this._renderer,s=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new OF(this._lodPlanes[r],s),c=s.uniforms,f=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*f):2*Math.PI/(2*vN-1),h=i/d,p=isFinite(i)?1+Math.floor(3*h):vN;p>vN&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(vN));for(var v=[],m=0,g=0;g<vN;++g){var y=g/h,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<p&&(m+=2*b)}for(var _=0;_<v.length;_++)v[_]=v[_]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var x=this._lodMax;c.dTheta.value=d,c.mipInt.value=x-n;var w=this._sizeLods[r];CN(t,3*w*(r>x-hN?r-x+hN:0),4*(this._cubeSize-w),3*w,2*w),u.setRenderTarget(t),u.render(l,mN)}}]),e}();function EN(e,t,n){var r=new DO(e,t,n);return r.texture.mapping=dP,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function CN(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function kN(){return new zF({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:KT,depthTest:!1,depthWrite:!1})}function SN(){return new zF({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:KT,depthTest:!1,depthWrite:!1})}function AN(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===cP||a===fP,u=a===sP||a===lP;if(o||u){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var s=t.get(i);return null===n&&(n=new wN(e)),s=o?n.fromEquirectangular(i,s):n.fromCubemap(i,s),t.set(i,s),s.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||u&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new wN(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function DN(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function MN(e,t,n,r){var i={},a=new WeakMap;function o(e){var u=e.target;for(var s in null!==u.index&&t.remove(u.index),u.attributes)t.remove(u.attributes[s]);u.removeEventListener("dispose",o),delete i[u.id];var l=a.get(u);l&&(t.remove(l),a.delete(u)),r.releaseStatesOfGeometry(u),!0===u.isInstancedBufferGeometry&&delete u._maxInstanceCount,n.memory.geometries--}function u(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var u=r.array;o=r.version;for(var s=0,l=u.length;s<l;s+=3){var c=u[s+0],f=u[s+1],d=u[s+2];n.push(c,f,f,d,d,c)}}else{var h=i.array;o=i.version;for(var p=0,v=h.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(dO(n)?aF:iF)(n,1);b.version=o;var _=a.get(e);_&&t.remove(_),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],u=0,s=o.length;u<s;u++)t.update(o[u],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&u(e)}else u(e);return a.get(e)}}}function TN(e,t,n,r){var i,a,o,u=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,s,l){if(0!==l){var c,f;if(u)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,s,a,r*o,l),n.update(s,i,l)}}}function PN(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function ON(e,t){return e[0]-t[0]}function RN(e,t){return Math.abs(t[1])-Math.abs(e[1])}function FN(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new AO,u=[],s=0;s<8;s++)u[s]=[s,0];return{update:function(s,l,c){var f=s.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,h=void 0!==d?d.length:0,p=a.get(l);if(void 0===p||p.count!==h){void 0!==p&&p.texture.dispose();var v=void 0!==l.morphAttributes.position,m=void 0!==l.morphAttributes.normal,g=void 0!==l.morphAttributes.color,y=l.morphAttributes.position||[],b=l.morphAttributes.normal||[],_=l.morphAttributes.color||[],x=0;!0===v&&(x=1),!0===m&&(x=2),!0===g&&(x=3);var w=l.attributes.position.count*x,E=1;w>t.maxTextureSize&&(E=Math.ceil(w/t.maxTextureSize),w=t.maxTextureSize);var C=new Float32Array(w*E*4*h),k=new MO(C,w,E,h);k.type=CP,k.needsUpdate=!0;for(var S=4*x,A=0;A<h;A++)for(var D=y[A],M=b[A],T=_[A],P=w*E*4*A,O=0;O<D.count;O++){var R=O*S;!0===v&&(o.fromBufferAttribute(D,O),C[P+R+0]=o.x,C[P+R+1]=o.y,C[P+R+2]=o.z,C[P+R+3]=0),!0===m&&(o.fromBufferAttribute(M,O),C[P+R+4]=o.x,C[P+R+5]=o.y,C[P+R+6]=o.z,C[P+R+7]=0),!0===g&&(o.fromBufferAttribute(T,O),C[P+R+8]=o.x,C[P+R+9]=o.y,C[P+R+10]=o.z,C[P+R+11]=4===T.itemSize?o.w:1)}p={count:h,texture:k,size:new lO(w,E)},a.set(l,p),l.addEventListener("dispose",(function e(){k.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var F=0,N=0;N<f.length;N++)F+=f[N];var I=l.morphTargetsRelative?1:1-F;c.getUniforms().setValue(e,"morphTargetBaseInfluence",I),c.getUniforms().setValue(e,"morphTargetInfluences",f),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var B=void 0===f?0:f.length,L=r[l.id];if(void 0===L||L.length!==B){L=[];for(var z=0;z<B;z++)L[z]=[z,0];r[l.id]=L}for(var U=0;U<B;U++){var j=L[U];j[0]=U,j[1]=f[U]}L.sort(RN);for(var W=0;W<8;W++)W<B&&L[W][1]?(u[W][0]=L[W][0],u[W][1]=L[W][1]):(u[W][0]=Number.MAX_SAFE_INTEGER,u[W][1]=0);u.sort(ON);for(var Z=l.morphAttributes.position,V=l.morphAttributes.normal,H=0,G=0;G<8;G++){var q=u[G],Y=q[0],X=q[1];Y!==Number.MAX_SAFE_INTEGER&&X?(Z&&l.getAttribute("morphTarget"+G)!==Z[Y]&&l.setAttribute("morphTarget"+G,Z[Y]),V&&l.getAttribute("morphNormal"+G)!==V[Y]&&l.setAttribute("morphNormal"+G,V[Y]),i[G]=X,H+=X):(Z&&!0===l.hasAttribute("morphTarget"+G)&&l.deleteAttribute("morphTarget"+G),V&&!0===l.hasAttribute("morphNormal"+G)&&l.deleteAttribute("morphNormal"+G),i[G]=0)}var $=l.morphTargetsRelative?1:1-H;c.getUniforms().setValue(e,"morphTargetBaseInfluence",$),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function NN(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,u=e.geometry,s=t.get(e,u);return i.get(s)!==o&&(t.update(s),i.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}var IN=new SO,BN=new MO,LN=new TO,zN=new VF,UN=[],jN=[],WN=new Float32Array(16),ZN=new Float32Array(9),VN=new Float32Array(4);function HN(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=UN[i];if(void 0===a&&(a=new Float32Array(i),UN[i]=a),0!==t){r.toArray(a,0);for(var o=1,u=0;o!==t;++o)u+=n,e[o].toArray(a,u)}return a}function GN(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function qN(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function YN(e,t){var n=jN[t];void 0===n&&(n=new Int32Array(t),jN[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function XN(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function $N(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(GN(n,t))return;e.uniform2fv(this.addr,t),qN(n,t)}}function KN(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(GN(n,t))return;e.uniform3fv(this.addr,t),qN(n,t)}}function JN(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(GN(n,t))return;e.uniform4fv(this.addr,t),qN(n,t)}}function QN(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(GN(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),qN(n,t)}else{if(GN(n,r))return;VN.set(r),e.uniformMatrix2fv(this.addr,!1,VN),qN(n,r)}}function eI(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(GN(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),qN(n,t)}else{if(GN(n,r))return;ZN.set(r),e.uniformMatrix3fv(this.addr,!1,ZN),qN(n,r)}}function tI(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(GN(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),qN(n,t)}else{if(GN(n,r))return;WN.set(r),e.uniformMatrix4fv(this.addr,!1,WN),qN(n,r)}}function nI(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function rI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(GN(n,t))return;e.uniform2iv(this.addr,t),qN(n,t)}}function iI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(GN(n,t))return;e.uniform3iv(this.addr,t),qN(n,t)}}function aI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(GN(n,t))return;e.uniform4iv(this.addr,t),qN(n,t)}}function oI(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function uI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(GN(n,t))return;e.uniform2uiv(this.addr,t),qN(n,t)}}function sI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(GN(n,t))return;e.uniform3uiv(this.addr,t),qN(n,t)}}function lI(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(GN(n,t))return;e.uniform4uiv(this.addr,t),qN(n,t)}}function cI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||IN,i)}function fI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||LN,i)}function dI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||zN,i)}function hI(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||BN,i)}function pI(e,t){e.uniform1fv(this.addr,t)}function vI(e,t){var n=HN(t,this.size,2);e.uniform2fv(this.addr,n)}function mI(e,t){var n=HN(t,this.size,3);e.uniform3fv(this.addr,n)}function gI(e,t){var n=HN(t,this.size,4);e.uniform4fv(this.addr,n)}function yI(e,t){var n=HN(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function bI(e,t){var n=HN(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function _I(e,t){var n=HN(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function xI(e,t){e.uniform1iv(this.addr,t)}function wI(e,t){e.uniform2iv(this.addr,t)}function EI(e,t){e.uniform3iv(this.addr,t)}function CI(e,t){e.uniform4iv(this.addr,t)}function kI(e,t){e.uniform1uiv(this.addr,t)}function SI(e,t){e.uniform2uiv(this.addr,t)}function AI(e,t){e.uniform3uiv(this.addr,t)}function DI(e,t){e.uniform4uiv(this.addr,t)}function MI(e,t,n){var r=this.cache,i=t.length,a=YN(n,i);GN(r,a)||(e.uniform1iv(this.addr,a),qN(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||IN,a[o])}function TI(e,t,n){var r=this.cache,i=t.length,a=YN(n,i);GN(r,a)||(e.uniform1iv(this.addr,a),qN(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||LN,a[o])}function PI(e,t,n){var r=this.cache,i=t.length,a=YN(n,i);GN(r,a)||(e.uniform1iv(this.addr,a),qN(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||zN,a[o])}function OI(e,t,n){var r=this.cache,i=t.length,a=YN(n,i);GN(r,a)||(e.uniform1iv(this.addr,a),qN(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||BN,a[o])}var RI=(0,s.Z)((function e(t,n,r){u(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return XN;case 35664:return $N;case 35665:return KN;case 35666:return JN;case 35674:return QN;case 35675:return eI;case 35676:return tI;case 5124:case 35670:return nI;case 35667:case 35671:return rI;case 35668:case 35672:return iI;case 35669:case 35673:return aI;case 5125:return oI;case 36294:return uI;case 36295:return sI;case 36296:return lI;case 35678:case 36198:case 36298:case 36306:case 35682:return cI;case 35679:case 36299:case 36307:return fI;case 35680:case 36300:case 36308:case 36293:return dI;case 36289:case 36303:case 36311:case 36292:return hI}}(n.type)})),FI=(0,s.Z)((function e(t,n,r){u(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return pI;case 35664:return vI;case 35665:return mI;case 35666:return gI;case 35674:return yI;case 35675:return bI;case 35676:return _I;case 5124:case 35670:return xI;case 35667:case 35671:return wI;case 35668:case 35672:return EI;case 35669:case 35673:return CI;case 5125:return kI;case 36294:return SI;case 36295:return AI;case 36296:return DI;case 35678:case 36198:case 36298:case 36306:case 35682:return MI;case 35679:case 36299:case 36307:return TI;case 35680:case 36300:case 36308:case 36293:return PI;case 36289:case 36303:case 36311:case 36292:return OI}}(n.type)})),NI=function(){function e(t){u(this,e),this.id=t,this.seq=[],this.map={}}return(0,s.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),II=/(\w+)(\])?(\[|\.)?/g;function BI(e,t){e.seq.push(t),e.map[t.id]=t}function LI(e,t,n){var r=e.name,i=r.length;for(II.lastIndex=0;;){var a=II.exec(r),o=II.lastIndex,u=a[1],s="]"===a[2],l=a[3];if(s&&(u|=0),void 0===l||"["===l&&o+2===i){BI(n,void 0===l?new RI(u,e,t):new FI(u,e,t));break}var c=n.map[u];void 0===c&&BI(n,c=new NI(u)),n=c}}var zI=function(){function e(t,n){u(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),i=0;i<r;++i){var a=t.getActiveUniform(n,i);LI(a,t.getUniformLocation(n,a.name),this)}}return(0,s.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],u=n[o.id];!1!==u.needsUpdate&&o.setValue(e,u.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function UI(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var jI=0;function WI(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var u=o+1;r.push("".concat(u===t?">":" "," ").concat(u,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function ZI(e,t){var n=function(e){switch(e){case jP:return["Linear","( value )"];case WP:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function VI(e,t){var n;switch(t){case rP:n="Linear";break;case iP:n="Reinhard";break;case aP:n="OptimizedCineon";break;case oP:n="ACESFilmic";break;case uP:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function HI(e){return""!==e}function GI(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function qI(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var YI=/^[ \t]*#include +<([\w\d./]+)>/gm;function XI(e){return e.replace(YI,$I)}function $I(e,t){var n=nN[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return XI(n)}var KI=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function JI(e){return e.replace(KI,QI)}function QI(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function eB(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function tB(e,t,n,r){var i,a,o=e.getContext(),u=n.defines,s=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===HT?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===GT?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===qT&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case sP:case lP:t="ENVMAP_TYPE_CUBE";break;case dP:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===lP&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case QT:t="ENVMAP_BLENDING_MULTIPLY";break;case eP:t="ENVMAP_BLENDING_MIX";break;case tP:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(HI).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(u),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(HI).join("\n")).length>0&&(i+="\n"),(a=[v,m].filter(HI).join("\n")).length>0&&(a+="\n")):(i=[eB(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(HI).join("\n"),a=[v,eB(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",n.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs2?"#define USE_UV2":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==nP?"#define TONE_MAPPING":"",n.toneMapping!==nP?nN.tonemapping_pars_fragment:"",n.toneMapping!==nP?VI("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",nN.encodings_pars_fragment,ZI("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(HI).join("\n")),s=qI(s=GI(s=XI(s),n),n),l=qI(l=GI(l=XI(l),n),n),s=JI(s),l=JI(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===XP?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===XP?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,_,x=y+a+l,w=UI(o,35633,y+i+s),E=UI(o,35632,x);if(o.attachShader(g,w),o.attachShader(g,E),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var C=o.getProgramInfoLog(g).trim(),k=o.getShaderInfoLog(w).trim(),S=o.getShaderInfoLog(E).trim(),A=!0,D=!0;if(!1===o.getProgramParameter(g,35714))if(A=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,g,w,E);else{var M=WI(o,w,"vertex"),T=WI(o,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+C+"\n"+M+"\n"+T)}else""!==C?console.warn("THREE.WebGLProgram: Program Info Log:",C):""!==k&&""!==S||(D=!1);D&&(this.diagnostics={runnable:A,programLog:C,vertexShader:{log:k,prefix:i},fragmentShader:{log:S,prefix:a}})}return o.deleteShader(w),o.deleteShader(E),this.getUniforms=function(){return void 0===b&&(b=new zI(o,g)),b},this.getAttributes=function(){return void 0===_&&(_=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,u=1;35674===a.type&&(u=2),35675===a.type&&(u=3),35676===a.type&&(u=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:u}}return n}(o,g)),_},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=jI++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=E,this}var nB=0,rB=function(){function e(){u(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,s.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=E(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new iB(e),t.set(e,n)),n}}]),e}(),iB=(0,s.Z)((function e(t){u(this,e),this.id=nB++,this.code=t,this.usedTimes=0}));function aB(e,t,n,r,i,a,o){var u=new bR,s=new rB,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures,h=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(e){return 1===e?"uv2":"uv"}return{getParameters:function(a,u,l,m,g){var y=m.fog,b=g.geometry,_=a.isMeshStandardMaterial?m.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||_),w=x&&x.mapping===dP?x.image.height:null,E=p[a.type];null!==a.precision&&(h=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",h,"instead.");var C,k,S,A,D=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,M=void 0!==D?D.length:0,T=0;if(void 0!==b.morphAttributes.position&&(T=1),void 0!==b.morphAttributes.normal&&(T=2),void 0!==b.morphAttributes.color&&(T=3),E){var P=iN[E];C=P.vertexShader,k=P.fragmentShader}else C=a.vertexShader,k=a.fragmentShader,s.update(a),S=s.getVertexShaderID(a),A=s.getFragmentShaderID(a);var O=e.getRenderTarget(),R=!0===g.isInstancedMesh,F=!!a.map,N=!!a.matcap,I=!!x,B=!!a.aoMap,L=!!a.lightMap,z=!!a.bumpMap,U=!!a.normalMap,j=!!a.displacementMap,W=!!a.emissiveMap,Z=!!a.metalnessMap,V=!!a.roughnessMap,H=a.clearcoat>0,G=a.iridescence>0,q=a.sheen>0,Y=a.transmission>0,X=H&&!!a.clearcoatMap,$=H&&!!a.clearcoatNormalMap,K=H&&!!a.clearcoatRoughnessMap,J=G&&!!a.iridescenceMap,Q=G&&!!a.iridescenceThicknessMap,ee=q&&!!a.sheenColorMap,te=q&&!!a.sheenRoughnessMap,ne=!!a.specularMap,re=!!a.specularColorMap,ie=!!a.specularIntensityMap,ae=Y&&!!a.transmissionMap,oe=Y&&!!a.thicknessMap,ue=!!a.gradientMap,se=!!a.alphaMap,le=a.alphaTest>0,ce=!!a.extensions,fe=!!b.attributes.uv2;return{isWebGL2:c,shaderID:E,shaderName:a.type,vertexShader:C,fragmentShader:k,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:A,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:h,instancing:R,instancingColor:R&&null!==g.instanceColor,supportsVertexTextures:d,outputEncoding:null===O?e.outputEncoding:!0===O.isXRRenderTarget?O.texture.encoding:jP,map:F,matcap:N,envMap:I,envMapMode:I&&x.mapping,envMapCubeUVHeight:w,aoMap:B,lightMap:L,bumpMap:z,normalMap:U,displacementMap:d&&j,emissiveMap:W,normalMapObjectSpace:U&&1===a.normalMapType,normalMapTangentSpace:U&&a.normalMapType===ZP,decodeVideoTexture:F&&!0===a.map.isVideoTexture&&a.map.encoding===WP,metalnessMap:Z,roughnessMap:V,clearcoat:H,clearcoatMap:X,clearcoatNormalMap:$,clearcoatRoughnessMap:K,iridescence:G,iridescenceMap:J,iridescenceThicknessMap:Q,sheen:q,sheenColorMap:ee,sheenRoughnessMap:te,specularMap:ne,specularColorMap:re,specularIntensityMap:ie,transmission:Y,transmissionMap:ae,thicknessMap:oe,gradientMap:ue,opaque:!1===a.transparent&&1===a.blending,alphaMap:se,alphaTest:le,combine:a.combine,mapUv:F&&v(a.map.channel),aoMapUv:B&&v(a.aoMap.channel),lightMapUv:L&&v(a.lightMap.channel),bumpMapUv:z&&v(a.bumpMap.channel),normalMapUv:U&&v(a.normalMap.channel),displacementMapUv:j&&v(a.displacementMap.channel),emissiveMapUv:W&&v(a.emissiveMap.channel),metalnessMapUv:Z&&v(a.metalnessMap.channel),roughnessMapUv:V&&v(a.roughnessMap.channel),clearcoatMapUv:X&&v(a.clearcoatMap.channel),clearcoatNormalMapUv:$&&v(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:K&&v(a.clearcoatRoughnessMap.channel),iridescenceMapUv:J&&v(a.iridescenceMap.channel),iridescenceThicknessMapUv:Q&&v(a.iridescenceThicknessMap.channel),sheenColorMapUv:ee&&v(a.sheenColorMap.channel),sheenRoughnessMapUv:te&&v(a.sheenRoughnessMap.channel),specularMapUv:ne&&v(a.specularMap.channel),specularColorMapUv:re&&v(a.specularColorMap.channel),specularIntensityMapUv:ie&&v(a.specularIntensityMap.channel),transmissionMapUv:ae&&v(a.transmissionMap.channel),thicknessMapUv:oe&&v(a.thicknessMap.channel),alphaMapUv:se&&v(a.alphaMap.channel),vertexTangents:U&&!!b.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs2:fe,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(F||se),fog:!!y,useFog:!0===a.fog,fogExp2:y&&y.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:M,morphTextureStride:T,numDirLights:u.directional.length,numPointLights:u.point.length,numSpotLights:u.spot.length,numSpotLightMaps:u.spotLightMap.length,numRectAreaLights:u.rectArea.length,numHemiLights:u.hemi.length,numDirLightShadows:u.directionalShadowMap.length,numPointLightShadows:u.pointShadowMap.length,numSpotLightShadows:u.spotShadowMap.length,numSpotLightShadowsWithMaps:u.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:nP,useLegacyLights:e.useLegacyLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===$T,flipSided:a.side===XT,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:ce&&!0===a.extensions.derivatives,extensionFragDepth:ce&&!0===a.extensions.fragDepth,extensionDrawBuffers:ce&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:ce&&!0===a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){u.disableAll(),t.isWebGL2&&u.enable(0);t.supportsVertexTextures&&u.enable(1);t.instancing&&u.enable(2);t.instancingColor&&u.enable(3);t.matcap&&u.enable(4);t.envMap&&u.enable(5);t.normalMapObjectSpace&&u.enable(6);t.normalMapTangentSpace&&u.enable(7);t.clearcoat&&u.enable(8);t.iridescence&&u.enable(9);t.alphaTest&&u.enable(10);t.vertexColors&&u.enable(11);t.vertexAlphas&&u.enable(12);t.vertexUvs2&&u.enable(13);t.vertexTangents&&u.enable(14);e.push(u.mask),u.disableAll(),t.fog&&u.enable(0);t.useFog&&u.enable(1);t.flatShading&&u.enable(2);t.logarithmicDepthBuffer&&u.enable(3);t.skinning&&u.enable(4);t.morphTargets&&u.enable(5);t.morphNormals&&u.enable(6);t.morphColors&&u.enable(7);t.premultipliedAlpha&&u.enable(8);t.shadowMapEnabled&&u.enable(9);t.useLegacyLights&&u.enable(10);t.doubleSided&&u.enable(11);t.flipSided&&u.enable(12);t.useDepthPacking&&u.enable(13);t.dithering&&u.enable(14);t.transmission&&u.enable(15);t.sheen&&u.enable(16);t.decodeVideoTexture&&u.enable(17);t.opaque&&u.enable(18);t.pointsUvs&&u.enable(19);e.push(u.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=iN[n];t=LF.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var u=l[i];if(u.cacheKey===n){++(r=u).usedTimes;break}}return void 0===r&&(r=new tB(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){s.remove(e)},programs:l,dispose:function(){s.dispose()}}}function oB(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function uB(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function sB(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function lB(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,u){var s=e[t];return void 0===s?(s={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:u},e[t]=s):(s.id=n.id,s.object=n,s.geometry=r,s.material=i,s.groupOrder=a,s.renderOrder=n.renderOrder,s.z=o,s.group=u),t++,s}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,u,s,l){var c=a(e,t,o,u,s,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,u,s,l){var c=a(e,t,o,u,s,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||uB),r.length>1&&r.sort(t||sB),i.length>1&&i.sort(t||sB)}}}function cB(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new lB,e.set(t,[r])):n>=i.length?(r=new lB,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function fB(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new OO,color:new JR};break;case"SpotLight":n={position:new OO,direction:new OO,color:new JR,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new OO,color:new JR,distance:0,decay:0};break;case"HemisphereLight":n={direction:new OO,skyColor:new JR,groundColor:new JR};break;case"RectAreaLight":n={color:new JR,position:new OO,halfWidth:new OO,halfHeight:new OO}}return e[t.id]=n,n}}}var dB=0;function hB(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function pB(e,t){for(var n=new fB,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lO};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new lO,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new OO);var o=new OO,u=new sR,s=new sR;return{setup:function(a,o){for(var u=0,s=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var f=0,d=0,h=0,p=0,v=0,m=0,g=0,y=0,b=0,_=0;a.sort(hB);for(var x=!0===o?Math.PI:1,w=0,E=a.length;w<E;w++){var C=a[w],k=C.color,S=C.intensity,A=C.distance,D=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)u+=k.r*S*x,s+=k.g*S*x,l+=k.b*S*x;else if(C.isLightProbe)for(var M=0;M<9;M++)i.probe[M].addScaledVector(C.sh.coefficients[M],S);else if(C.isDirectionalLight){var T=n.get(C);if(T.color.copy(C.color).multiplyScalar(C.intensity*x),C.castShadow){var P=C.shadow,O=r.get(C);O.shadowBias=P.bias,O.shadowNormalBias=P.normalBias,O.shadowRadius=P.radius,O.shadowMapSize=P.mapSize,i.directionalShadow[f]=O,i.directionalShadowMap[f]=D,i.directionalShadowMatrix[f]=C.shadow.matrix,m++}i.directional[f]=T,f++}else if(C.isSpotLight){var R=n.get(C);R.position.setFromMatrixPosition(C.matrixWorld),R.color.copy(k).multiplyScalar(S*x),R.distance=A,R.coneCos=Math.cos(C.angle),R.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),R.decay=C.decay,i.spot[h]=R;var F=C.shadow;if(C.map&&(i.spotLightMap[b]=C.map,b++,F.updateMatrices(C),C.castShadow&&_++),i.spotLightMatrix[h]=F.matrix,C.castShadow){var N=r.get(C);N.shadowBias=F.bias,N.shadowNormalBias=F.normalBias,N.shadowRadius=F.radius,N.shadowMapSize=F.mapSize,i.spotShadow[h]=N,i.spotShadowMap[h]=D,y++}h++}else if(C.isRectAreaLight){var I=n.get(C);I.color.copy(k).multiplyScalar(S),I.halfWidth.set(.5*C.width,0,0),I.halfHeight.set(0,.5*C.height,0),i.rectArea[p]=I,p++}else if(C.isPointLight){var B=n.get(C);if(B.color.copy(C.color).multiplyScalar(C.intensity*x),B.distance=C.distance,B.decay=C.decay,C.castShadow){var L=C.shadow,z=r.get(C);z.shadowBias=L.bias,z.shadowNormalBias=L.normalBias,z.shadowRadius=L.radius,z.shadowMapSize=L.mapSize,z.shadowCameraNear=L.camera.near,z.shadowCameraFar=L.camera.far,i.pointShadow[d]=z,i.pointShadowMap[d]=D,i.pointShadowMatrix[d]=C.shadow.matrix,g++}i.point[d]=B,d++}else if(C.isHemisphereLight){var U=n.get(C);U.skyColor.copy(C.color).multiplyScalar(S*x),U.groundColor.copy(C.groundColor).multiplyScalar(S*x),i.hemi[v]=U,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=rN.LTC_FLOAT_1,i.rectAreaLTC2=rN.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=rN.LTC_HALF_1,i.rectAreaLTC2=rN.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=u,i.ambient[1]=s,i.ambient[2]=l;var j=i.hash;j.directionalLength===f&&j.pointLength===d&&j.spotLength===h&&j.rectAreaLength===p&&j.hemiLength===v&&j.numDirectionalShadows===m&&j.numPointShadows===g&&j.numSpotShadows===y&&j.numSpotMaps===b||(i.directional.length=f,i.spot.length=h,i.rectArea.length=p,i.point.length=d,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=y+b-_,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=_,j.directionalLength=f,j.pointLength=d,j.spotLength=h,j.rectAreaLength=p,j.hemiLength=v,j.numDirectionalShadows=m,j.numPointShadows=g,j.numSpotShadows=y,j.numSpotMaps=b,i.version=dB++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,f=t.matrixWorldInverse,d=0,h=e.length;d<h;d++){var p=e[d];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(f),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),a++}else if(p.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),s.identity(),u.copy(p.matrixWorld),u.premultiply(f),s.extractRotation(u),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(s),g.halfHeight.applyMatrix4(s),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(f),c++}}},state:i}}function vB(e,t){var n=new pB(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function mB(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new vB(e,t),n.set(r,[i])):a>=o.length?(i=new vB(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var gB=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(qR),yB=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(qR);function bB(e,t,n){var r,i=new JF,a=new lO,o=new lO,u=new AO,s=new gB({depthPacking:3201}),l=new yB,c={},f=n.maxTextureSize,d=(r={},(0,Qe.Z)(r,YT,XT),(0,Qe.Z)(r,XT,YT),(0,Qe.Z)(r,$T,$T),r),h=new zF({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new lO},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;var v=new pF;v.setAttribute("position",new rF(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new OF(v,h),g=this;function y(n,r){var i=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new DO(a.x,a.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,m,null)}function b(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var u=a.uuid,f=n.uuid,h=c[u];void 0===h&&(h={},c[u]=h);var p=h[f];void 0===p&&(p=a.clone(),h[f]=p),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===qT?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function _(n,r,a,o,u){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&u===qT)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),l=n.material;if(Array.isArray(l))for(var c=s.groups,f=0,d=c.length;f<d;f++){var h=c[f],p=l[h.materialIndex];if(p&&p.visible){var v=b(n,p,o,u);e.renderBufferDirect(a,null,s,v,n,h)}}else if(l.visible){var m=b(n,l,o,u);e.renderBufferDirect(a,null,s,m,n,null)}}for(var g=n.children,y=0,x=g.length;y<x;y++)_(g[y],r,a,o,u)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=HT,this.render=function(t,n,r){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var s=e.getRenderTarget(),l=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(KT),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var h=0,p=t.length;h<p;h++){var v=t[h],m=v.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){a.copy(m.mapSize);var b=m.getFrameExtents();if(a.multiply(b),o.copy(m.mapSize),(a.x>f||a.y>f)&&(a.x>f&&(o.x=Math.floor(f/b.x),a.x=o.x*b.x,m.mapSize.x=o.x),a.y>f&&(o.y=Math.floor(f/b.y),a.y=o.y*b.y,m.mapSize.y=o.y)),null===m.map){var x=this.type!==qT?{minFilter:mP,magFilter:mP}:{};m.map=new DO(a.x,a.y,x),m.map.texture.name=v.name+".shadowMap",m.camera.updateProjectionMatrix()}e.setRenderTarget(m.map),e.clear();for(var w=m.getViewportCount(),E=0;E<w;E++){var C=m.getViewport(E);u.set(o.x*C.x,o.y*C.y,o.x*C.z,o.y*C.w),d.viewport(u),m.updateMatrices(v,E),i=m.getFrustum(),_(n,r,m.camera,v,this.type)}!0!==m.isPointLightShadow&&this.type===qT&&y(m,r),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}g.needsUpdate=!1,e.setRenderTarget(s,l,c)}}}function _B(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new AO,r=null,i=new AO(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,u){!0===u&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},u=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?W(2929):Z(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:default:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},s=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,u=null,s=null,l=null;return{setTest:function(e){t||(e?W(2960):Z(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&u===n&&s===r||(e.stencilOp(t,n,r),o=t,u=n,s=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,u=null,s=null,l=null}}},l=new WeakMap,c=new WeakMap,f={},d={},h=new WeakMap,p=[],v=null,m=!1,g=null,y=null,b=null,_=null,x=null,w=null,E=null,C=!1,k=null,S=null,A=null,D=null,M=null,T=e.getParameter(35661),P=!1,O=0,R=e.getParameter(7938);-1!==R.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(R)[1]),P=O>=1):-1!==R.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),P=O>=2);var F=null,N={},I=e.getParameter(3088),B=e.getParameter(2978),L=(new AO).fromArray(I),z=(new AO).fromArray(B);function U(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var j={};function W(t){!0!==f[t]&&(e.enable(t),f[t]=!0)}function Z(t){!1!==f[t]&&(e.disable(t),f[t]=!1)}j[3553]=U(3553,3553,1),j[34067]=U(34067,34069,6),o.setClear(0,0,0,1),u.setClear(1),s.setClear(0),W(2929),u.setFunc(3),Y(!1),X(1),W(2884),q(KT);var V=(r={},(0,Qe.Z)(r,JT,32774),(0,Qe.Z)(r,101,32778),(0,Qe.Z)(r,102,32779),r);if(a)V[103]=32775,V[104]=32776;else{var H=t.get("EXT_blend_minmax");null!==H&&(V[103]=H.MIN_EXT,V[104]=H.MAX_EXT)}var G=(i={},(0,Qe.Z)(i,200,0),(0,Qe.Z)(i,201,1),(0,Qe.Z)(i,202,768),(0,Qe.Z)(i,204,770),(0,Qe.Z)(i,210,776),(0,Qe.Z)(i,208,774),(0,Qe.Z)(i,206,772),(0,Qe.Z)(i,203,769),(0,Qe.Z)(i,205,771),(0,Qe.Z)(i,209,775),(0,Qe.Z)(i,207,773),i);function q(t,n,r,i,a,o,u,s){if(t!==KT){if(!1===m&&(W(3042),m=!0),5===t)a=a||n,o=o||r,u=u||i,n===y&&a===x||(e.blendEquationSeparate(V[n],V[a]),y=n,x=a),r===b&&i===_&&o===w&&u===E||(e.blendFuncSeparate(G[r],G[i],G[o],G[u]),b=r,_=i,w=o,E=u),g=t,C=!1;else if(t!==g||s!==C){if(y===JT&&x===JT||(e.blendEquation(32774),y=JT,x=JT),s)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFuncSeparate(0,769,0,1);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}b=null,_=null,w=null,E=null,g=t,C=s}}else!0===m&&(Z(3042),m=!1)}function Y(t){k!==t&&(t?e.frontFace(2304):e.frontFace(2305),k=t)}function X(t){0!==t?(W(2884),t!==S&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):Z(2884),S=t}function $(t,n,r){t?(W(32823),D===n&&M===r||(e.polygonOffset(n,r),D=n,M=r)):Z(32823)}return{buffers:{color:o,depth:u,stencil:s},enable:W,disable:Z,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,a&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)),!0)},drawBuffers:function(r,i){var a=p,o=!1;if(r)if(void 0===(a=h.get(i))&&(a=[],h.set(i,a)),r.isWebGLMultipleRenderTargets){var u=r.texture;if(a.length!==u.length||36064!==a[0]){for(var s=0,l=u.length;s<l;s++)a[s]=36064+s;a.length=u.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return v!==t&&(e.useProgram(t),v=t,!0)},setBlending:q,setMaterial:function(e,t){e.side===$T?Z(2884):W(2884);var n=e.side===XT;t&&(n=!n),Y(n),1===e.blending&&!1===e.transparent?q(KT):q(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;s.setTest(r),r&&(s.setMask(e.stencilWriteMask),s.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),s.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),$(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?W(32926):Z(32926)},setFlipSided:Y,setCullFace:X,setLineWidth:function(t){t!==A&&(P&&e.lineWidth(t),A=t)},setPolygonOffset:$,setScissorTest:function(e){e?W(3089):Z(3089)},activeTexture:function(t){void 0===t&&(t=33984+T-1),F!==t&&(e.activeTexture(t),F=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===F?33984+T-1:F);var i=N[r];void 0===i&&(i={type:void 0,texture:void 0},N[r]=i),i.type===t&&i.texture===n||(F!==r&&(e.activeTexture(r),F=r),e.bindTexture(t,n||j[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=N[F];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(fc){console.error("THREE.WebGLState:",fc)}},scissor:function(t){!1===L.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),L.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),f={},F=null,N={},d={},h=new WeakMap,p=[],v=null,m=!1,g=null,y=null,b=null,_=null,x=null,w=null,E=null,C=!1,k=null,S=null,A=null,D=null,M=null,L.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),o.reset(),u.reset(),s.reset()}}}function xB(e,t,n,r,i,a,o){var u,s,l,c=i.isWebGL2,f=i.maxTextures,d=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,v=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,y=new WeakMap,b=!1;try{b="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function _(e,t){return b?new OffscreenCanvas(e,t):hO("canvas")}function x(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?oO:Math.floor,o=a(i*e.width),u=a(i*e.height);void 0===l&&(l=_(o,u));var s=n?_(o,u):l;return s.width=o,s.height=u,s.getContext("2d").drawImage(e,0,0,o,u),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+u+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function w(e){return aO(e.width)&&aO(e.height)}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==mP&&e.minFilter!==bP}function C(t){e.generateMipmap(t)}function k(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var u=r;return 6403===r&&(5126===i&&(u=33326),5131===i&&(u=33325),5121===i&&(u=33321)),33319===r&&(5126===i&&(u=33328),5131===i&&(u=33327),5121===i&&(u=33323)),6408===r&&(5126===i&&(u=34836),5131===i&&(u=34842),5121===i&&(u=a===WP&&!1===o?35907:32856),32819===i&&(u=32854),32820===i&&(u=32855)),33325!==u&&33326!==u&&33327!==u&&33328!==u&&34842!==u&&34836!==u||t.get("EXT_color_buffer_float"),u}function S(e,t,n){return!0===E(e,n)||e.isFramebufferTexture&&e.minFilter!==mP&&e.minFilter!==bP?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function A(e){return e===mP||e===gP||e===yP?9728:9729}function D(e){var t=e.target;t.removeEventListener("dispose",D),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=y.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&T(e),0===Object.keys(i).length&&y.delete(n)}r.remove(e)}(t),t.isVideoTexture&&g.delete(t)}function M(t){var n=t.target;n.removeEventListener("dispose",M),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var u=0;u<6;u++)e.deleteFramebuffer(i.__webglFramebuffer[u]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[u]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var s=0;s<i.__webglColorRenderbuffer.length;s++)i.__webglColorRenderbuffer[s]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[s]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var l=0,c=n.length;l<c;l++){var f=r.get(n[l]);f.__webglTexture&&(e.deleteTexture(f.__webglTexture),o.memory.textures--),r.remove(n[l])}r.remove(n),r.remove(t)}(n)}function T(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete y.get(i)[n.__cacheKey],o.memory.textures--}var P=0;function O(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void B(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}var R=(u={},(0,Qe.Z)(u,hP,10497),(0,Qe.Z)(u,pP,33071),(0,Qe.Z)(u,vP,33648),u),F=(s={},(0,Qe.Z)(s,mP,9728),(0,Qe.Z)(s,gP,9984),(0,Qe.Z)(s,yP,9986),(0,Qe.Z)(s,bP,9729),(0,Qe.Z)(s,_P,9985),(0,Qe.Z)(s,xP,9987),s);function N(n,a,o){if(o?(e.texParameteri(n,10242,R[a.wrapS]),e.texParameteri(n,10243,R[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,R[a.wrapR]),e.texParameteri(n,10240,F[a.magFilter]),e.texParameteri(n,10241,F[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===pP&&a.wrapT===pP||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,A(a.magFilter)),e.texParameteri(n,10241,A(a.minFilter)),a.minFilter!==mP&&a.minFilter!==bP&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var u=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===mP)return;if(a.minFilter!==yP&&a.minFilter!==xP)return;if(a.type===CP&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===kP&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function I(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",D));var i=n.source,a=y.get(i);void 0===a&&(a={},y.set(i,a));var u=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(u!==t.__cacheKey){void 0===a[u]&&(a[u]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[u].usedTimes++;var s=a[t.__cacheKey];void 0!==s&&(a[t.__cacheKey].usedTimes--,0===s.usedTimes&&T(n)),t.__cacheKey=u,t.__webglTexture=a[u].texture}return r}function B(t,i,o){var u=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(u=35866),i.isData3DTexture&&(u=32879);var s=I(t,i),l=i.source;n.bindTexture(u,t.__webglTexture,33984+o);var f=r.get(l);if(l.version!==f.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);var d,p=function(e){return!c&&(e.wrapS!==pP||e.wrapT!==pP||e.minFilter!==mP&&e.minFilter!==bP)}(i)&&!1===w(i.image),v=x(i.image,p,!1,h),m=w(v=Z(i,v))||c,g=a.convert(i.format,i.encoding),y=a.convert(i.type),b=k(i.internalFormat,g,y,i.encoding,i.isVideoTexture);N(u,i,m);var _=i.mipmaps,A=c&&!0!==i.isVideoTexture,D=void 0===f.__version||!0===s,M=S(i,v,m);if(i.isDepthTexture)b=6402,c?b=i.type===CP?36012:i.type===EP?33190:i.type===SP?35056:33189:i.type===CP&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===DP&&6402===b&&1012!==i.type&&i.type!==EP&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=EP,y=a.convert(i.type)),i.format===MP&&6402===b&&(b=34041,i.type!==SP&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=SP,y=a.convert(i.type))),D&&(A?n.texStorage2D(3553,1,b,v.width,v.height):n.texImage2D(3553,0,b,v.width,v.height,0,g,y,null));else if(i.isDataTexture)if(_.length>0&&m){A&&D&&n.texStorage2D(3553,M,b,_[0].width,_[0].height);for(var T=0,P=_.length;T<P;T++)d=_[T],A?n.texSubImage2D(3553,T,0,0,d.width,d.height,g,y,d.data):n.texImage2D(3553,T,b,d.width,d.height,0,g,y,d.data);i.generateMipmaps=!1}else A?(D&&n.texStorage2D(3553,M,b,v.width,v.height),n.texSubImage2D(3553,0,0,0,v.width,v.height,g,y,v.data)):n.texImage2D(3553,0,b,v.width,v.height,0,g,y,v.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){A&&D&&n.texStorage3D(35866,M,b,_[0].width,_[0].height,v.depth);for(var O=0,R=_.length;O<R;O++)d=_[O],i.format!==AP?null!==g?A?n.compressedTexSubImage3D(35866,O,0,0,0,d.width,d.height,v.depth,g,d.data,0,0):n.compressedTexImage3D(35866,O,b,d.width,d.height,v.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):A?n.texSubImage3D(35866,O,0,0,0,d.width,d.height,v.depth,g,y,d.data):n.texImage3D(35866,O,b,d.width,d.height,v.depth,0,g,y,d.data)}else{A&&D&&n.texStorage2D(3553,M,b,_[0].width,_[0].height);for(var F=0,B=_.length;F<B;F++)d=_[F],i.format!==AP?null!==g?A?n.compressedTexSubImage2D(3553,F,0,0,d.width,d.height,g,d.data):n.compressedTexImage2D(3553,F,b,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):A?n.texSubImage2D(3553,F,0,0,d.width,d.height,g,y,d.data):n.texImage2D(3553,F,b,d.width,d.height,0,g,y,d.data)}else if(i.isDataArrayTexture)A?(D&&n.texStorage3D(35866,M,b,v.width,v.height,v.depth),n.texSubImage3D(35866,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(35866,0,b,v.width,v.height,v.depth,0,g,y,v.data);else if(i.isData3DTexture)A?(D&&n.texStorage3D(32879,M,b,v.width,v.height,v.depth),n.texSubImage3D(32879,0,0,0,0,v.width,v.height,v.depth,g,y,v.data)):n.texImage3D(32879,0,b,v.width,v.height,v.depth,0,g,y,v.data);else if(i.isFramebufferTexture){if(D)if(A)n.texStorage2D(3553,M,b,v.width,v.height);else for(var L=v.width,z=v.height,U=0;U<M;U++)n.texImage2D(3553,U,b,L,z,0,g,y,null),L>>=1,z>>=1}else if(_.length>0&&m){A&&D&&n.texStorage2D(3553,M,b,_[0].width,_[0].height);for(var j=0,W=_.length;j<W;j++)d=_[j],A?n.texSubImage2D(3553,j,0,0,g,y,d):n.texImage2D(3553,j,b,g,y,d);i.generateMipmaps=!1}else A?(D&&n.texStorage2D(3553,M,b,v.width,v.height),n.texSubImage2D(3553,0,0,0,g,y,v)):n.texImage2D(3553,0,b,g,y,v);E(i,m)&&C(u),f.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function L(t,i,o,u,s){var l=a.convert(o.format,o.encoding),c=a.convert(o.type),f=k(o.internalFormat,l,c,o.encoding);r.get(i).__hasExternalTextures||(32879===s||35866===s?n.texImage3D(s,0,f,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(s,0,f,i.width,i.height,0,l,c,null)),n.bindFramebuffer(36160,t),W(i)?v.framebufferTexture2DMultisampleEXT(36160,u,s,r.get(o).__webglTexture,0,j(i)):(3553===s||s>=34069&&s<=34074)&&e.framebufferTexture2D(36160,u,s,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function z(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||W(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===CP?i=36012:o.type===EP&&(i=33190));var u=j(n);W(n)?v.renderbufferStorageMultisampleEXT(36161,u,i,n.width,n.height):e.renderbufferStorageMultisample(36161,u,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var s=j(n);r&&!1===W(n)?e.renderbufferStorageMultisample(36161,s,35056,n.width,n.height):W(n)?v.renderbufferStorageMultisampleEXT(36161,s,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var l=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<l.length;c++){var f=l[c],d=a.convert(f.format,f.encoding),h=a.convert(f.type),p=k(f.internalFormat,d,h,f.encoding),m=j(n);r&&!1===W(n)?e.renderbufferStorageMultisample(36161,m,p,n.width,n.height):W(n)?v.renderbufferStorageMultisampleEXT(36161,m,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function U(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=j(i);if(i.depthTexture.format===DP)W(i)?v.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==MP)throw new Error("Unknown depthTexture format");W(i)?v.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),z(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),z(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function j(e){return Math.min(p,e.samples)}function W(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function Z(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===$P||r!==jP&&(r===WP?!1===c?!0===t.has("EXT_sRGB")&&i===AP?(e.format=$P,e.minFilter=bP,e.generateMipmaps=!1):n=wO.sRGBToLinear(n):i===AP&&a===wP||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=P;return e>=f&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+f),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?B(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?B(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var u=I(t,i),s=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);var l=r.get(s);if(s.version!==l.__version||!0===u){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);for(var f=i.isCompressedTexture||i.image[0].isCompressedTexture,h=i.image[0]&&i.image[0].isDataTexture,p=[],v=0;v<6;v++)p[v]=f||h?h?i.image[v].image:i.image[v]:x(i.image[v],!1,!0,d),p[v]=Z(i,p[v]);var m,g=p[0],y=w(g)||c,b=a.convert(i.format,i.encoding),_=a.convert(i.type),A=k(i.internalFormat,b,_,i.encoding),D=c&&!0!==i.isVideoTexture,M=void 0===l.__version||!0===u,T=S(i,g,y);if(N(34067,i,y),f){D&&M&&n.texStorage2D(34067,T,A,g.width,g.height);for(var P=0;P<6;P++){m=p[P].mipmaps;for(var O=0;O<m.length;O++){var R=m[O];i.format!==AP?null!==b?D?n.compressedTexSubImage2D(34069+P,O,0,0,R.width,R.height,b,R.data):n.compressedTexImage2D(34069+P,O,A,R.width,R.height,0,R.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):D?n.texSubImage2D(34069+P,O,0,0,R.width,R.height,b,_,R.data):n.texImage2D(34069+P,O,A,R.width,R.height,0,b,_,R.data)}}}else{m=i.mipmaps,D&&M&&(m.length>0&&T++,n.texStorage2D(34067,T,A,p[0].width,p[0].height));for(var F=0;F<6;F++)if(h){D?n.texSubImage2D(34069+F,0,0,0,p[F].width,p[F].height,b,_,p[F].data):n.texImage2D(34069+F,0,A,p[F].width,p[F].height,0,b,_,p[F].data);for(var B=0;B<m.length;B++){var L=m[B].image[F].image;D?n.texSubImage2D(34069+F,B+1,0,0,L.width,L.height,b,_,L.data):n.texImage2D(34069+F,B+1,A,L.width,L.height,0,b,_,L.data)}}else{D?n.texSubImage2D(34069+F,0,0,0,b,_,p[F]):n.texImage2D(34069+F,0,A,b,_,p[F]);for(var z=0;z<m.length;z++){var U=m[z];D?n.texSubImage2D(34069+F,z+1,0,0,b,_,U.image[F]):n.texImage2D(34069+F,z+1,A,b,_,U.image[F])}}}E(i,y)&&C(34067),l.__version=s.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&L(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&U(e)},this.setupRenderTarget=function(t){var u=t.texture,s=r.get(t),l=r.get(u);t.addEventListener("dispose",M),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=u.version,o.memory.textures++);var f=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,h=w(t)||c;if(f){s.__webglFramebuffer=[];for(var p=0;p<6;p++)s.__webglFramebuffer[p]=e.createFramebuffer()}else{if(s.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===W(t)){var b=d?u:[u];s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,s.__webglMultisampledFramebuffer);for(var _=0;_<b.length;_++){var x=b[_];s.__webglColorRenderbuffer[_]=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer[_]);var S=a.convert(x.format,x.encoding),A=a.convert(x.type),D=k(x.internalFormat,S,A,x.encoding,!0===t.isXRRenderTarget),T=j(t);e.renderbufferStorageMultisample(36161,T,D,t.width,t.height),e.framebufferRenderbuffer(36160,36064+_,36161,s.__webglColorRenderbuffer[_])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),z(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(f){n.bindTexture(34067,l.__webglTexture),N(34067,u,h);for(var P=0;P<6;P++)L(s.__webglFramebuffer[P],t,u,36064,34069+P);E(u,h)&&C(34067),n.unbindTexture()}else if(d){for(var O=t.texture,R=0,F=O.length;R<F;R++){var I=O[R],B=r.get(I);n.bindTexture(3553,B.__webglTexture),N(3553,I,h),L(s.__webglFramebuffer,t,I,36064+R,3553),E(I,h)&&C(3553)}n.unbindTexture()}else{var Z=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?Z=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Z,l.__webglTexture),N(Z,u,h),L(s.__webglFramebuffer,t,u,36064,Z),E(u,h)&&C(Z),n.unbindTexture()}t.depthBuffer&&U(t)},this.updateRenderTargetMipmap=function(e){for(var t=w(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var u=i[a];if(E(u,t)){var s=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(u).__webglTexture;n.bindTexture(s,l),C(s),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===W(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,u=16384,s=[],l=t.stencilBuffer?33306:36096,f=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var h=0;h<i.length;h++)n.bindFramebuffer(36160,f.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+h,36161,null),n.bindFramebuffer(36160,f.__webglFramebuffer),e.framebufferTexture2D(36009,36064+h,3553,null,0);n.bindFramebuffer(36008,f.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,f.__webglFramebuffer);for(var p=0;p<i.length;p++){s.push(36064+p),t.depthBuffer&&s.push(l);var v=void 0!==f.__ignoreDepthValues&&f.__ignoreDepthValues;if(!1===v&&(t.depthBuffer&&(u|=256),t.stencilBuffer&&(u|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,f.__webglColorRenderbuffer[p]),!0===v&&(e.invalidateFramebuffer(36008,[l]),e.invalidateFramebuffer(36009,[l])),d){var g=r.get(i[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,g,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,u,9728),m&&e.invalidateFramebuffer(36008,s)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(var y=0;y<i.length;y++){n.bindFramebuffer(36160,f.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+y,36161,f.__webglColorRenderbuffer[y]);var b=r.get(i[y]).__webglTexture;n.bindFramebuffer(36160,f.__webglFramebuffer),e.framebufferTexture2D(36009,36064+y,3553,b,0)}n.bindFramebuffer(36009,f.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=L,this.useMultisampledRTT=W}function wB(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===wP)return 5121;if(1017===n)return 32819;if(1018===n)return 32820;if(1010===n)return 5120;if(1011===n)return 5122;if(1012===n)return 5123;if(1013===n)return 5124;if(n===EP)return 5125;if(n===CP)return 5126;if(n===kP)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return 6406;if(n===AP)return 6408;if(1024===n)return 6409;if(1025===n)return 6410;if(n===DP)return 6402;if(n===MP)return 34041;if(n===$P)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===n)return 6403;if(1029===n)return 36244;if(1030===n)return 33319;if(1031===n)return 33320;if(1033===n)return 36249;if(n===TP||n===PP||n===OP||n===RP)if(a===WP){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===TP)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===PP)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===OP)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===RP)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===TP)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===PP)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===OP)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===RP)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return a===WP?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return a===WP?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===FP){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===FP)return a===WP?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===FP)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===SP?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var EB=function(e){c(n,e);var t=v(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return u(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return(0,s.Z)(n)}(jF),CB=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,s.Z)(n)}(RR),kB={type:"move"},SB=function(){function e(){u(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,s.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new CB,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new CB,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new OO,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new OO),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new CB,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new OO,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new OO),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=E(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,u=this._grip,s=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(s&&e.hand){a=!0;var l,c=E(e.hand.values());try{for(c.s();!(l=c.n()).done;){var f=l.value,d=t.getJointPose(f,n),h=this._getHandJoint(s,f);null!==d&&(h.matrix.fromArray(d.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.jointRadius=d.radius),h.visible=null!==d}}catch(g){c.e(g)}finally{c.f()}var p=s.joints["index-finger-tip"],v=s.joints["thumb-tip"],m=p.position.distanceTo(v.position);s.inputState.pinching&&m>.025?(s.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!s.inputState.pinching&&m<=.015&&(s.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(u.matrix.fromArray(i.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),i.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(i.linearVelocity)):u.hasLinearVelocity=!1,i.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(i.angularVelocity)):u.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(kB)))}return null!==o&&(o.visible=null!==r),null!==u&&(u.visible=null!==i),null!==s&&(s.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new CB;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),AB=function(e){c(n,e);var t=v(n);function n(e,r,i,a,o,s,l,c,f,d){var h;if(u(this,n),(d=void 0!==d?d:DP)!==DP&&d!==MP)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&d===DP&&(i=EP),void 0===i&&d===MP&&(i=SP),(h=t.call(this,null,a,o,s,l,c,d,i,f)).isDepthTexture=!0,h.image={width:e,height:r},h.magFilter=void 0!==l?l:mP,h.minFilter=void 0!==c?c:mP,h.flipY=!1,h.generateMipmaps=!1,h}return(0,s.Z)(n)}(SO),DB=function(e){c(n,e);var t=v(n);function n(e,r){var i;u(this,n),i=t.call(this);var a=(0,p.Z)(i),o=null,s=1,l=null,c="local-floor",f=1,d=null,h=null,v=null,m=null,g=null,y=null,b=r.getContextAttributes(),_=null,x=null,w=[],C=[],k=new Set,S=new Map,A=new jF;A.layers.enable(1),A.viewport=new AO;var D=new jF;D.layers.enable(2),D.viewport=new AO;var M=[A,D],T=new EB;T.layers.enable(1),T.layers.enable(2);var P=null,O=null;function R(e){var t=C.indexOf(e.inputSource);if(-1!==t){var n=w[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function F(){o.removeEventListener("select",R),o.removeEventListener("selectstart",R),o.removeEventListener("selectend",R),o.removeEventListener("squeeze",R),o.removeEventListener("squeezestart",R),o.removeEventListener("squeezeend",R),o.removeEventListener("end",F),o.removeEventListener("inputsourceschange",N);for(var t=0;t<w.length;t++){var n=C[t];null!==n&&(C[t]=null,w[t].disconnect(n))}P=null,O=null,e.setRenderTarget(_),g=null,m=null,v=null,o=null,x=null,U.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function N(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=C.indexOf(n);r>=0&&(C[r]=null,w[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=C.indexOf(a);if(-1===o){for(var u=0;u<w.length;u++){if(u>=C.length){C.push(a),o=u;break}if(null===C[u]){C[u]=a,o=u;break}}if(-1===o)break}var s=w[o];s&&s.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=w[e];return void 0===t&&(t=new SB,w[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=w[e];return void 0===t&&(t=new SB,w[e]=t),t.getGripSpace()},i.getHand=function(e){var t=w[e];return void 0===t&&(t=new SB,w[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){s=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){c=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return d||l},i.setReferenceSpace=function(e){d=e},i.getBaseLayer=function(){return null!==m?m:g},i.getBinding=function(){return v},i.getFrame=function(){return y},i.getSession=function(){return o},i.setSession=function(){var t=Je($e().mark((function t(n){var i,u,h,p,y;return $e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=25;break}if(_=e.getRenderTarget(),o.addEventListener("select",R),o.addEventListener("selectstart",R),o.addEventListener("selectend",R),o.addEventListener("squeeze",R),o.addEventListener("squeezestart",R),o.addEventListener("squeezeend",R),o.addEventListener("end",F),o.addEventListener("inputsourceschange",N),!0===b.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||b.antialias,alpha:b.alpha,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s},g=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:g}),x=new DO(g.framebufferWidth,g.framebufferHeight,{format:AP,type:wP,encoding:e.outputEncoding,stencilBuffer:b.stencil})):(u=null,h=null,p=null,b.depth&&(p=b.stencil?35056:33190,u=b.stencil?MP:DP,h=b.stencil?SP:EP),y={colorFormat:32856,depthFormat:p,scaleFactor:s},v=new XRWebGLBinding(o,r),m=v.createProjectionLayer(y),o.updateRenderState({layers:[m]}),x=new DO(m.textureWidth,m.textureHeight,{format:AP,type:wP,depthTexture:new AB(m.textureWidth,m.textureHeight,h,void 0,void 0,void 0,void 0,void 0,void 0,u),stencilBuffer:b.stencil,encoding:e.outputEncoding,samples:b.antialias?4:0}),e.properties.get(x).__ignoreDepthValues=m.ignoreDepthValues),x.isXRRenderTarget=!0,this.setFoveation(f),d=null,t.next=20,o.requestReferenceSpace(c);case 20:l=t.sent,U.setContext(o),U.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var I=new OO,B=new OO;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){T.near=D.near=A.near=e.near,T.far=D.far=A.far=e.far,P===T.near&&O===T.far||(o.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,O=T.far);var t=e.parent,n=T.cameras;L(T,t);for(var r=0;r<n.length;r++)L(n[r],t);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),B.setFromMatrixPosition(n.matrixWorld);var r=I.distanceTo(B),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),u=i[14]/(i[10]+1),s=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],d=o*c,h=o*f,p=r/(-c+f),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=u+p,y=d-v,b=h+(r-v),_=s*u/g*m,x=l*u/g*m;e.projectionMatrix.makePerspective(y,b,_,x,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(T,A,D):T.projectionMatrix.copy(A.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);for(var r=e.children,i=0,a=r.length;i<a;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*eO*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,T,t)}},i.getCamera=function(){return T},i.getFoveation=function(){if(null!==m||null!==g)return f},i.setFoveation=function(e){f=e,null!==m&&(m.fixedFoveation=e),null!==g&&void 0!==g.fixedFoveation&&(g.fixedFoveation=e)},i.getPlanes=function(){return k};var z=null;var U=new QF;return U.setAnimationLoop((function(t,n){if(h=n.getViewerPose(d||l),y=n,null!==h){var r=h.views;null!==g&&(e.setRenderTargetFramebuffer(x,g.framebuffer),e.setRenderTarget(x));var i=!1;r.length!==T.cameras.length&&(T.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var u=r[o],s=null;if(null!==g)s=g.getViewport(u);else{var c=v.getViewSubImage(m,u);s=c.viewport,0===o&&(e.setRenderTargetTextures(x,c.colorTexture,m.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(x))}var f=M[o];void 0===f&&((f=new jF).layers.enable(o),f.viewport=new AO,M[o]=f),f.matrix.fromArray(u.transform.matrix),f.matrix.decompose(f.position,f.quaternion,f.scale),f.projectionMatrix.fromArray(u.projectionMatrix),f.projectionMatrixInverse.copy(f.projectionMatrix).invert(),f.viewport.set(s.x,s.y,s.width,s.height),0===o&&(T.matrix.copy(f.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===i&&T.cameras.push(f)}}for(var p=0;p<w.length;p++){var b=C[p],_=w[p];null!==b&&void 0!==_&&_.update(b,n,d||l)}if(z&&z(t,n),n.detectedPlanes){a.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var A,D=null,P=E(k);try{for(P.s();!(A=P.n()).done;){var O=A.value;n.detectedPlanes.has(O)||(null===D&&(D=[]),D.push(O))}}catch(j){P.e(j)}finally{P.f()}if(null!==D){var R,F=E(D);try{for(F.s();!(R=F.n()).done;){var N=R.value;k.delete(N),S.delete(N),a.dispatchEvent({type:"planeremoved",data:N})}}catch(j){F.e(j)}finally{F.f()}}var I,B=E(n.detectedPlanes);try{for(B.s();!(I=B.n()).done;){var L=I.value;if(k.has(L)){var U=S.get(L);L.lastChangedTime>U&&(S.set(L,L.lastChangedTime),a.dispatchEvent({type:"planechanged",data:L}))}else k.add(L),S.set(L,n.lastChangedTime),a.dispatchEvent({type:"planeadded",data:L})}}catch(j){B.e(j)}finally{B.f()}}y=null})),i.setAnimationLoop=function(e){z=e},i.dispose=function(){},i}return(0,s.Z)(n)}(KP);function MB(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===XT&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===XT&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,BF(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,u){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===XT&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,u)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function TB(e,t,n,r){var i={},a={},o=[],u=n.isWebGL2?e.getParameter(35375):0;function s(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var u=Array.isArray(n[t])?n[t]:[n[t]],s=Array.isArray(r)?r:[r],l=0;l<u.length;l++){var c=u[l];if(!1===c.equals(s[l]))return c.copy(s[l]),!0}return!1}function l(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,f){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var u=t[a],s={boundary:0,storage:0},c=Array.isArray(u.value)?u.value:[u.value],f=0,d=c.length;f<d;f++){var h=l(c[f]);s.boundary+=h.boundary,s.storage+=h.storage}if(u.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),u.__offset=n,a>0)0!==(i=n%r)&&r-i-s.boundary<0&&(n+=r-i,u.__offset=n);n+=s.storage}i=n%r,i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<u;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var h=f.program;r.updateUBOMapping(n,h);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,u=r.length;o<u;o++){var c=r[o];if(!0===s(c,o,a)){for(var f=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],h=0,p=0;p<d.length;p++){var v=d[p],m=l(v);"number"===typeof v?(c.__data[0]=v,e.bufferSubData(35345,f+h,c.__data)):v.isMatrix3?(c.__data[0]=v.elements[0],c.__data[1]=v.elements[1],c.__data[2]=v.elements[2],c.__data[3]=v.elements[0],c.__data[4]=v.elements[3],c.__data[5]=v.elements[4],c.__data[6]=v.elements[5],c.__data[7]=v.elements[0],c.__data[8]=v.elements[6],c.__data[9]=v.elements[7],c.__data[10]=v.elements[8],c.__data[11]=v.elements[0]):(v.toArray(c.__data,h),h+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,f,c.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var PB=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=hO("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,l=void 0===s||s,c=t.stencil,f=void 0===c||c,d=t.alpha,h=void 0!==d&&d,p=t.antialias,v=void 0!==p&&p,m=t.premultipliedAlpha,g=void 0===m||m,y=t.preserveDrawingBuffer,b=void 0!==y&&y,_=t.powerPreference,x=void 0===_?"default":_,w=t.failIfMajorPerformanceCaveat,E=void 0!==w&&w;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:h;var C=null,k=null,S=[],A=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=jP,this.useLegacyLights=!0,this.toneMapping=nP,this.toneMappingExposure=1;var D=this,M=!1,T=0,P=0,O=null,R=-1,F=null,N=new AO,I=new AO,B=null,L=i.width,z=i.height,U=1,j=null,W=null,Z=new AO(0,0,L,z),V=new AO(0,0,L,z),H=!1,G=new JF,q=!1,Y=!1,X=null,$=new sR,K=new OO,J={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Q(){return null===O?U:1}var ee,te,ne,re,ie,ae,oe,ue,se,le,ce,fe,de,he,pe,ve,me,ge,ye,be,_e,xe,we,Ee,Ce=o;function ke(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Se={alpha:!0,depth:l,stencil:f,antialias:v,premultipliedAlpha:g,preserveDrawingBuffer:b,powerPreference:x,failIfMajorPerformanceCaveat:E};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(VT)),i.addEventListener("webglcontextlost",Te,!1),i.addEventListener("webglcontextrestored",Pe,!1),i.addEventListener("webglcontextcreationerror",Oe,!1),null===Ce){var Ae=["webgl2","webgl","experimental-webgl"];if(!0===D.isWebGL1Renderer&&Ae.shift(),null===(Ce=ke(Ae,Se)))throw ke(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Ce.getShaderPrecisionFormat&&(Ce.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(fc){throw console.error("THREE.WebGLRenderer: "+fc.message),fc}function De(){ee=new DN(Ce),te=new lN(Ce,ee,t),ee.init(te),xe=new wB(Ce,ee,te),ne=new _B(Ce,ee,te),re=new PN,ie=new oB,ae=new xB(Ce,ee,ne,ie,te,xe,re),oe=new fN(D),ue=new AN(D),se=new eN(Ce,te),we=new uN(Ce,ee,se,te),le=new MN(Ce,se,re,we),ce=new NN(Ce,le,se,re),ye=new FN(Ce,te,ae),ve=new cN(ie),fe=new aB(D,oe,ue,ee,te,we,ve),de=new MB(D,ie),he=new cB,pe=new mB(ee,te),ge=new oN(D,oe,ue,ne,ce,n,g),me=new bB(D,ce,te),Ee=new TB(Ce,re,te,ne),be=new sN(Ce,ee,re,te),_e=new TN(Ce,ee,re,te),re.programs=fe.programs,D.capabilities=te,D.extensions=ee,D.properties=ie,D.renderLists=he,D.shadowMap=me,D.state=ne,D.info=re}De();var Me=new DB(D,Ce);function Te(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;var e=re.autoReset,t=me.enabled,n=me.autoUpdate,r=me.needsUpdate,i=me.type;De(),re.autoReset=e,me.enabled=t,me.autoUpdate=n,me.needsUpdate=r,me.type=i}function Oe(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Re(e){var t=e.target;t.removeEventListener("dispose",Re),function(e){(function(e){var t=ie.get(e).programs;void 0!==t&&(t.forEach((function(e){fe.releaseProgram(e)})),e.isShaderMaterial&&fe.releaseShaderCache(e))})(e),ie.remove(e)}(t)}this.xr=Me,this.getContext=function(){return Ce},this.getContextAttributes=function(){return Ce.getContextAttributes()},this.forceContextLoss=function(){var e=ee.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ee.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(e){void 0!==e&&(U=e,this.setSize(L,z,!1))},this.getSize=function(e){return e.set(L,z)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Me.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(L=e,z=t,i.width=Math.floor(e*U),i.height=Math.floor(t*U),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(L*U,z*U).floor()},this.setDrawingBufferSize=function(e,t,n){L=e,z=t,U=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(N)},this.getViewport=function(e){return e.copy(Z)},this.setViewport=function(e,t,n,r){e.isVector4?Z.set(e.x,e.y,e.z,e.w):Z.set(e,t,n,r),ne.viewport(N.copy(Z).multiplyScalar(U).floor())},this.getScissor=function(e){return e.copy(V)},this.setScissor=function(e,t,n,r){e.isVector4?V.set(e.x,e.y,e.z,e.w):V.set(e,t,n,r),ne.scissor(I.copy(V).multiplyScalar(U).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(e){ne.setScissorTest(H=e)},this.setOpaqueSort=function(e){j=e},this.setTransparentSort=function(e){W=e},this.getClearColor=function(e){return e.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),Ce.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Te,!1),i.removeEventListener("webglcontextrestored",Pe,!1),i.removeEventListener("webglcontextcreationerror",Oe,!1),he.dispose(),pe.dispose(),ie.dispose(),oe.dispose(),ue.dispose(),ce.dispose(),we.dispose(),Ee.dispose(),fe.dispose(),Me.dispose(),Me.removeEventListener("sessionstart",Ne),Me.removeEventListener("sessionend",Ie),X&&(X.dispose(),X=null),Be.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=J);var o=i.isMesh&&i.matrixWorld.determinant()<0,u=function(e,t,n,r,i){!0!==t.isScene&&(t=J);ae.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,u=null===O?D.outputEncoding:!0===O.isXRRenderTarget?O.texture.encoding:jP,s=(r.isMeshStandardMaterial?ue:oe).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,f=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,h=!!n.morphAttributes.color,p=r.toneMapped?D.toneMapping:nP,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,m=void 0!==v?v.length:0,g=ie.get(r),y=k.state.lights;if(!0===q&&(!0===Y||e!==F)){var b=e===F&&r.id===R;ve.setState(r,e,b)}var _=!1;r.version===g.__version?g.needsLights&&g.lightsStateVersion!==y.state.version||g.outputEncoding!==u||i.isInstancedMesh&&!1===g.instancing?_=!0:i.isInstancedMesh||!0!==g.instancing?i.isSkinnedMesh&&!1===g.skinning?_=!0:i.isSkinnedMesh||!0!==g.skinning?g.envMap!==s||!0===r.fog&&g.fog!==a?_=!0:void 0===g.numClippingPlanes||g.numClippingPlanes===ve.numPlanes&&g.numIntersection===ve.numIntersection?(g.vertexAlphas!==l||g.vertexTangents!==c||g.morphTargets!==f||g.morphNormals!==d||g.morphColors!==h||g.toneMapping!==p||!0===te.isWebGL2&&g.morphTargetsCount!==m)&&(_=!0):_=!0:_=!0:_=!0:(_=!0,g.__version=r.version);var x=g.currentProgram;!0===_&&(x=We(r,t,i));var w=!1,E=!1,C=!1,S=x.getUniforms(),A=g.uniforms;ne.useProgram(x.program)&&(w=!0,E=!0,C=!0);r.id!==R&&(R=r.id,E=!0);if(w||F!==e){if(S.setValue(Ce,"projectionMatrix",e.projectionMatrix),te.logarithmicDepthBuffer&&S.setValue(Ce,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),F!==e&&(F=e,E=!0,C=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var M=S.map.cameraPosition;void 0!==M&&M.setValue(Ce,K.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&S.setValue(Ce,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&S.setValue(Ce,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){S.setOptional(Ce,i,"bindMatrix"),S.setOptional(Ce,i,"bindMatrixInverse");var T=i.skeleton;T&&(te.floatVertexTextures?(null===T.boneTexture&&T.computeBoneTexture(),S.setValue(Ce,"boneTexture",T.boneTexture,ae),S.setValue(Ce,"boneTextureSize",T.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var P=n.morphAttributes;(void 0!==P.position||void 0!==P.normal||void 0!==P.color&&!0===te.isWebGL2)&&ye.update(i,n,x);(E||g.receiveShadow!==i.receiveShadow)&&(g.receiveShadow=i.receiveShadow,S.setValue(Ce,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(A.envMap.value=s,A.flipEnvMap.value=s.isCubeTexture&&!1===s.isRenderTargetTexture?-1:1);E&&(S.setValue(Ce,"toneMappingExposure",D.toneMappingExposure),g.needsLights&&(I=C,(N=A).ambientLightColor.needsUpdate=I,N.lightProbe.needsUpdate=I,N.directionalLights.needsUpdate=I,N.directionalLightShadows.needsUpdate=I,N.pointLights.needsUpdate=I,N.pointLightShadows.needsUpdate=I,N.spotLights.needsUpdate=I,N.spotLightShadows.needsUpdate=I,N.rectAreaLights.needsUpdate=I,N.hemisphereLights.needsUpdate=I),a&&!0===r.fog&&de.refreshFogUniforms(A,a),de.refreshMaterialUniforms(A,r,U,z,X),zI.upload(Ce,g.uniformsList,A,ae));var N,I;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(zI.upload(Ce,g.uniformsList,A,ae),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&S.setValue(Ce,"center",i.center);if(S.setValue(Ce,"modelViewMatrix",i.modelViewMatrix),S.setValue(Ce,"normalMatrix",i.normalMatrix),S.setValue(Ce,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var B=r.uniformsGroups,L=0,j=B.length;L<j;L++)if(te.isWebGL2){var W=B[L];Ee.update(W,x),Ee.bind(W,x)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return x}(e,t,n,r,i);ne.setMaterial(r,o);var s=n.index,l=1;!0===r.wireframe&&(s=le.getWireframeAttribute(n),l=2);var c=n.drawRange,f=n.attributes.position,d=c.start*l,h=(c.start+c.count)*l;null!==a&&(d=Math.max(d,a.start*l),h=Math.min(h,(a.start+a.count)*l)),null!==s?(d=Math.max(d,0),h=Math.min(h,s.count)):void 0!==f&&null!==f&&(d=Math.max(d,0),h=Math.min(h,f.count));var p=h-d;if(!(p<0||p===1/0)){var v;we.setup(i,r,u,n,s);var m=be;if(null!==s&&(v=se.get(s),(m=_e).setIndex(v)),i.isMesh)!0===r.wireframe?(ne.setLineWidth(r.wireframeLinewidth*Q()),m.setMode(1)):m.setMode(4);else if(i.isLine){var g=r.linewidth;void 0===g&&(g=1),ne.setLineWidth(g*Q()),i.isLineSegments?m.setMode(1):i.isLineLoop?m.setMode(2):m.setMode(3)}else i.isPoints?m.setMode(0):i.isSprite&&m.setMode(4);if(i.isInstancedMesh)m.renderInstances(d,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,y);m.renderInstances(d,p,b)}else m.render(d,p)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===$T&&!1===e.forceSinglePass?(e.side=XT,e.needsUpdate=!0,We(e,t,n),e.side=YT,e.needsUpdate=!0,We(e,t,n),e.side=$T):We(e,t,n)}(k=pe.get(e)).init(),A.push(k),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(k.pushLight(e),e.castShadow&&k.pushShadow(e))})),k.setupLights(D.useLegacyLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),A.pop(),k=null};var Fe=null;function Ne(){Be.stop()}function Ie(){Be.start()}var Be=new QF;function Le(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)k.pushLight(e),e.castShadow&&k.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||G.intersectsSprite(e)){r&&K.setFromMatrixPosition(e.matrixWorld).applyMatrix4($);var i=ce.update(e),a=e.material;a.visible&&C.push(e,i,a,n,K.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==re.render.frame&&(e.skeleton.update(),e.skeleton.frame=re.render.frame),!e.frustumCulled||G.intersectsObject(e))){r&&K.setFromMatrixPosition(e.matrixWorld).applyMatrix4($);var o=ce.update(e),u=e.material;if(Array.isArray(u))for(var s=o.groups,l=0,c=s.length;l<c;l++){var f=s[l],d=u[f.materialIndex];d&&d.visible&&C.push(e,o,d,n,K.z,f)}else u.visible&&C.push(e,o,u,n,K.z,null)}for(var h=e.children,p=0,v=h.length;p<v;p++)Le(h[p],t,n,r)}}function ze(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;k.setupLightsView(n),!0===q&&ve.setGlobalState(D.clippingPlanes,n),a.length>0&&function(e,t,n,r){if(null===X){var i=te.isWebGL2;X=new DO(1024,1024,{generateMipmaps:!0,type:ee.has("EXT_color_buffer_half_float")?kP:wP,minFilter:xP,samples:i&&!0===v?4:0})}var a=D.getRenderTarget();D.setRenderTarget(X),D.clear();var o=D.toneMapping;D.toneMapping=nP,Ue(e,n,r),ae.updateMultisampleRenderTarget(X),ae.updateRenderTargetMipmap(X);for(var u=!1,s=0,l=t.length;s<l;s++){var c=t[s],f=c.object,d=c.geometry,h=c.material,p=c.group;if(h.side===$T&&f.layers.test(r.layers)){var m=h.side;h.side=XT,h.needsUpdate=!0,je(f,n,r,d,h,p),h.side=m,h.needsUpdate=!0,u=!0}}!0===u&&(ae.updateMultisampleRenderTarget(X),ae.updateRenderTargetMipmap(X));D.setRenderTarget(a),D.toneMapping=o}(i,a,t,n),r&&ne.viewport(N.copy(r)),i.length>0&&Ue(i,t,n),a.length>0&&Ue(a,t,n),o.length>0&&Ue(o,t,n),ne.buffers.depth.setTest(!0),ne.buffers.depth.setMask(!0),ne.buffers.color.setMask(!0),ne.setPolygonOffset(!1)}function Ue(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],u=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;u.layers.test(n.layers)&&je(u,t,n,s,l,c)}}function je(e,t,n,r,i,a){e.onBeforeRender(D,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(D,t,n,r,e,a),!0===i.transparent&&i.side===$T&&!1===i.forceSinglePass?(i.side=XT,i.needsUpdate=!0,D.renderBufferDirect(n,t,r,i,e,a),i.side=YT,i.needsUpdate=!0,D.renderBufferDirect(n,t,r,i,e,a),i.side=$T):D.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(D,t,n,r,i,a)}function We(e,t,n){!0!==t.isScene&&(t=J);var r=ie.get(e),i=k.state.lights,a=k.state.shadowsArray,o=i.state.version,u=fe.getParameters(e,i.state,a,t,n),s=fe.getProgramCacheKey(u),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ue:oe).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Re),l=new Map,r.programs=l);var c=l.get(s);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Ze(e,u),c}else u.uniforms=fe.getUniforms(e),e.onBuild(n,u,D),e.onBeforeCompile(u,D),c=fe.acquireProgram(u,s),l.set(s,c),r.uniforms=u.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ve.uniform),Ze(e,u),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotLightMatrix.value=i.state.spotLightMatrix,f.spotLightMap.value=i.state.spotLightMap,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),h=zI.seqWithValue(d.seq,f);return r.currentProgram=c,r.uniformsList=h,c}function Ze(e,t){var n=ie.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Be.setAnimationLoop((function(e){Fe&&Fe(e)})),"undefined"!==typeof self&&Be.setContext(self),this.setAnimationLoop=function(e){Fe=e,Me.setAnimationLoop(e),null===e?Be.stop():Be.start()},Me.addEventListener("sessionstart",Ne),Me.addEventListener("sessionend",Ie),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==M){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Me.enabled&&!0===Me.isPresenting&&(!0===Me.cameraAutoUpdate&&Me.updateCamera(t),t=Me.getCamera()),!0===e.isScene&&e.onBeforeRender(D,e,t,O),(k=pe.get(e,A.length)).init(),A.push(k),$.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),G.setFromProjectionMatrix($),Y=this.localClippingEnabled,q=ve.init(this.clippingPlanes,Y),(C=he.get(e,S.length)).init(),S.push(C),Le(e,t,0,D.sortObjects),C.finish(),!0===D.sortObjects&&C.sort(j,W),!0===q&&ve.beginShadows();var n=k.state.shadowsArray;if(me.render(n,e,t),!0===q&&ve.endShadows(),!0===this.info.autoReset&&this.info.reset(),ge.render(C,e),k.setupLights(D.useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];ze(C,e,o,o.viewport)}else ze(C,e,t);null!==O&&(ae.updateMultisampleRenderTarget(O),ae.updateRenderTargetMipmap(O)),!0===e.isScene&&e.onAfterRender(D,e,t),we.resetDefaultState(),R=-1,F=null,A.pop(),k=A.length>0?A[A.length-1]:null,S.pop(),C=S.length>0?S[S.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(e,t,n){ie.get(e.texture).__webglTexture=t,ie.get(e.depthTexture).__webglTexture=n;var r=ie.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ee.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=ie.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;O=e,T=t,P=n;var r=!0,i=null,a=!1,o=!1;if(e){var u=ie.get(e);void 0!==u.__useDefaultFramebuffer?(ne.bindFramebuffer(36160,null),r=!1):void 0===u.__webglFramebuffer?ae.setupRenderTarget(e):u.__hasExternalTextures&&ae.rebindTextures(e,ie.get(e.texture).__webglTexture,ie.get(e.depthTexture).__webglTexture);var s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(o=!0);var l=ie.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],a=!0):i=te.isWebGL2&&e.samples>0&&!1===ae.useMultisampledRTT(e)?ie.get(e).__webglMultisampledFramebuffer:l,N.copy(e.viewport),I.copy(e.scissor),B=e.scissorTest}else N.copy(Z).multiplyScalar(U).floor(),I.copy(V).multiplyScalar(U).floor(),B=H;if(ne.bindFramebuffer(36160,i)&&te.drawBuffers&&r&&ne.drawBuffers(e,i),ne.viewport(N),ne.scissor(I),ne.setScissorTest(B),a){var c=ie.get(e.texture);Ce.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(o){var f=ie.get(e.texture),d=t||0;Ce.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,d)}R=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var u=ie.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(u=u[o]),u){ne.bindFramebuffer(36160,u);try{var s=e.texture,l=s.format,c=s.type;if(l!==AP&&xe.convert(l)!==Ce.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===kP&&(ee.has("EXT_color_buffer_half_float")||te.isWebGL2&&ee.has("EXT_color_buffer_float"));if(c!==wP&&xe.convert(c)!==Ce.getParameter(35738)&&(c!==CP||!(te.isWebGL2||ee.has("OES_texture_float")||ee.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ce.readPixels(t,n,r,i,xe.convert(l),xe.convert(c),a)}finally{var d=null!==O?ie.get(O).__webglFramebuffer:null;ne.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ae.setTexture2D(t,0),Ce.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),ne.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=xe.convert(n.format),u=xe.convert(n.type);ae.setTexture2D(n,0),Ce.pixelStorei(37440,n.flipY),Ce.pixelStorei(37441,n.premultiplyAlpha),Ce.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?Ce.texSubImage2D(3553,r,e.x,e.y,i,a,o,u,t.image.data):t.isCompressedTexture?Ce.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Ce.texSubImage2D(3553,r,e.x,e.y,o,u,t.image),0===r&&n.generateMipmaps&&Ce.generateMipmap(3553),ne.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(D.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,u=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=xe.convert(r.format),c=xe.convert(r.type);if(r.isData3DTexture)ae.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ae.setTexture2DArray(r,0),a=35866}Ce.pixelStorei(37440,r.flipY),Ce.pixelStorei(37441,r.premultiplyAlpha),Ce.pixelStorei(3317,r.unpackAlignment);var f=Ce.getParameter(3314),d=Ce.getParameter(32878),h=Ce.getParameter(3316),p=Ce.getParameter(3315),v=Ce.getParameter(32877),m=n.isCompressedTexture?n.mipmaps[0]:n.image;Ce.pixelStorei(3314,m.width),Ce.pixelStorei(32878,m.height),Ce.pixelStorei(3316,e.min.x),Ce.pixelStorei(3315,e.min.y),Ce.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?Ce.texSubImage3D(a,i,t.x,t.y,t.z,o,u,s,l,c,m.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ce.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,u,s,l,m.data)):Ce.texSubImage3D(a,i,t.x,t.y,t.z,o,u,s,l,c,m),Ce.pixelStorei(3314,f),Ce.pixelStorei(32878,d),Ce.pixelStorei(3316,h),Ce.pixelStorei(3315,p),Ce.pixelStorei(32877,v),0===i&&r.generateMipmaps&&Ce.generateMipmap(a),ne.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ae.setTextureCube(e,0):e.isData3DTexture?ae.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ae.setTexture2DArray(e,0):ae.setTexture2D(e,0),ne.unbindTexture()},this.resetState=function(){T=0,P=0,O=null,ne.reset(),we.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}return(0,s.Z)(e,[{key:"physicallyCorrectLights",get:function(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}}]),e}(),OB=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(PB);OB.prototype.isWebGL1Renderer=!0;var RB,FB=function(){function e(t,n){u(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=YP,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=tO()}return(0,s.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=tO()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=tO()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),NB=new OO,IB=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];u(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return(0,s.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)NB.fromBufferAttribute(this,t),NB.applyMatrix4(e),this.setXYZ(t,NB.x,NB.y,NB.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)NB.fromBufferAttribute(this,t),NB.applyNormalMatrix(e),this.setXYZ(t,NB.x,NB.y,NB.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)NB.fromBufferAttribute(this,t),NB.transformDirection(e),this.setXYZ(t,NB.x,NB.y,NB.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=sO(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=uO(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=uO(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=uO(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=uO(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=sO(t,this.array),n=sO(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=sO(t,this.array),n=sO(n,this.array),r=sO(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=sO(t,this.array),n=sO(n,this.array),r=sO(r,this.array),i=sO(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new rF(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),BB=function(e){c(n,e);var t=v(n);function n(e){var r;return u(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new JR(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,s.Z)(n,[{key:"copy",value:function(e){return Oa(f(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(qR),LB=new OO,zB=new OO,UB=new OO,jB=new lO,WB=new lO,ZB=new sR,VB=new OO,HB=new OO,GB=new OO,qB=new lO,YB=new lO,XB=new lO,$B=function(e){c(n,e);var t=v(n);function n(e){var r;if(u(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===RB){RB=new pF;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new FB(i,5);RB.setIndex([0,1,2,0,2,3]),RB.setAttribute("position",new IB(a,3,0,!1)),RB.setAttribute("uv",new IB(a,2,3,!1))}return r.geometry=RB,r.material=void 0!==e?e:new BB,r.center=new lO(.5,.5),r}return(0,s.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),zB.setFromMatrixScale(this.matrixWorld),ZB.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),UB.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&zB.multiplyScalar(-UB.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;KB(VB.set(-.5,-.5,0),UB,a,zB,n,r),KB(HB.set(.5,-.5,0),UB,a,zB,n,r),KB(GB.set(.5,.5,0),UB,a,zB,n,r),qB.set(0,0),YB.set(1,0),XB.set(1,1);var o=e.ray.intersectTriangle(VB,HB,GB,!1,LB);if(null!==o||(KB(HB.set(-.5,.5,0),UB,a,zB,n,r),YB.set(0,1),null!==(o=e.ray.intersectTriangle(VB,GB,HB,!1,LB)))){var u=e.ray.origin.distanceTo(LB);u<e.near||u>e.far||t.push({distance:u,point:LB.clone(),uv:HR.getInterpolation(LB,VB,HB,GB,qB,YB,XB,new lO),face:null,object:this})}}},{key:"copy",value:function(e,t){return Oa(f(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(RR);function KB(e,t,n,r,i,a){jB.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(WB.x=a*jB.x-i*jB.y,WB.y=i*jB.x+a*jB.y):WB.copy(jB),e.copy(t),e.x+=WB.x,e.y+=WB.y,e.applyMatrix4(ZB)}function JB(e,t,n){return eL(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function QB(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function eL(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var tL=function(){function e(t,n,r,i){u(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,s.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var u=t[1];e<u&&(n=2,i=u);for(var s=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===s)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),nL=function(e){c(n,e);var t=v(n);function n(e,r,i,a){var o;return u(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:LP,endingEnd:LP},o}return(0,s.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],u=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case zP:i=e,o=2*t-n;break;case UP:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===u)switch(this.getSettings_().endingEnd){case zP:a=e,u=2*n-t;break;case UP:a=1,u=n+r[1]-r[0];break;default:a=e-1,u=t}var s=.5*(n-t),l=this.valueSize;this._weightPrev=s/(t-o),this._weightNext=s/(u-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,u=e*o,s=u-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,d=this._weightNext,h=(n-t)/(r-t),p=h*h,v=p*h,m=-f*v+2*f*p-f*h,g=(1+f)*v+(-1.5-2*f)*p+(-.5+f)*h+1,y=(-1-d)*v+(1.5+d)*p+.5*h,b=d*v-d*p,_=0;_!==o;++_)i[_]=m*a[l+_]+g*a[s+_]+y*a[u+_]+b*a[c+_];return i}}]),n}(tL),rL=function(e){c(n,e);var t=v(n);function n(e,r,i,a){return u(this,n),t.call(this,e,r,i,a)}return(0,s.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,u=e*o,s=u-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[s+f]*c+a[u+f]*l;return i}}]),n}(tL),iL=function(e){c(n,e);var t=v(n);function n(e,r,i,a){return u(this,n),t.call(this,e,r,i,a)}return(0,s.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(tL),aL=function(){function e(t,n,r,i){if(u(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=QB(n,this.TimeBufferType),this.values=QB(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,s.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new iL(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new rL(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new nL(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case NP:t=this.InterpolantFactoryMethodDiscrete;break;case IP:t=this.InterpolantFactoryMethodLinear;break;case BP:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return NP;case this.InterpolantFactoryMethodLinear:return IP;case this.InterpolantFactoryMethodSmooth:return BP}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=JB(n,i,a),this.values=JB(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var u=n[o];if("number"===typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,u),e=!1;break}if(null!==a&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,u,a),e=!1;break}a=u}if(void 0!==r&&eL(r))for(var s=0,l=r.length;s!==l;++s){var c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=JB(this.times),t=JB(this.values),n=this.getValueSize(),r=this.getInterpolation()===BP,i=e.length-1,a=1,o=1;o<i;++o){var u=!1,s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)u=!0;else for(var l=o*n,c=l-n,f=l+n,d=0;d!==n;++d){var h=t[l+d];if(h!==t[c+d]||h!==t[f+d]){u=!0;break}}if(u){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=JB(e,0,a),this.values=JB(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=JB(this.times,0),t=JB(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:QB(e.times,Array),values:QB(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();aL.prototype.TimeBufferType=Float32Array,aL.prototype.ValueBufferType=Float32Array,aL.prototype.DefaultInterpolation=IP;var oL=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(aL);oL.prototype.ValueTypeName="bool",oL.prototype.ValueBufferType=Array,oL.prototype.DefaultInterpolation=NP,oL.prototype.InterpolantFactoryMethodLinear=void 0,oL.prototype.InterpolantFactoryMethodSmooth=void 0;var uL=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(aL);uL.prototype.ValueTypeName="color";var sL=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(aL);sL.prototype.ValueTypeName="number";var lL=function(e){c(n,e);var t=v(n);function n(e,r,i,a){return u(this,n),t.call(this,e,r,i,a)}return(0,s.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,u=(n-t)/(r-t),s=e*o,l=s+o;s!==l;s+=4)PO.slerpFlat(i,0,a,s-o,a,s,u);return i}}]),n}(tL),cL=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new lL(this.times,this.values,this.getValueSize(),e)}}]),n}(aL);cL.prototype.ValueTypeName="quaternion",cL.prototype.DefaultInterpolation=IP,cL.prototype.InterpolantFactoryMethodSmooth=void 0;var fL=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(aL);fL.prototype.ValueTypeName="string",fL.prototype.ValueBufferType=Array,fL.prototype.DefaultInterpolation=NP,fL.prototype.InterpolantFactoryMethodLinear=void 0,fL.prototype.InterpolantFactoryMethodSmooth=void 0;var dL=function(e){c(n,e);var t=v(n);function n(){return u(this,n),t.apply(this,arguments)}return(0,s.Z)(n)}(aL);dL.prototype.ValueTypeName="vector";Error;var hL="\\[\\]\\.:\\/",pL=new RegExp("["+hL+"]","g"),vL="[^"+hL+"]",mL="[^"+hL.replace("\\.","")+"]",gL=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",vL)+/(WCOD+)?/.source.replace("WCOD",mL)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vL)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vL)+"$"),yL=["material","materials","bones","map"],bL=function(){function e(t,n,r){u(this,e);var i=r||_L.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,s.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),_L=function(){function e(t,n,r){u(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,s.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var u=0;u<t.length;u++)if(t[u].name===o){o=u;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(pL,"")}},{key:"parseTrackName",value:function(e){var t=gL.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==yL.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();_L.Composite=bL,_L.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},_L.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},_L.prototype.GetterByBindingType=[_L.prototype._getValue_direct,_L.prototype._getValue_array,_L.prototype._getValue_arrayElement,_L.prototype._getValue_toArray],_L.prototype.SetterByBindingTypeAndVersioning=[[_L.prototype._setValue_direct,_L.prototype._setValue_direct_setNeedsUpdate,_L.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_L.prototype._setValue_array,_L.prototype._setValue_array_setNeedsUpdate,_L.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_L.prototype._setValue_arrayElement,_L.prototype._setValue_arrayElement_setNeedsUpdate,_L.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_L.prototype._setValue_fromArray,_L.prototype._setValue_fromArray_setNeedsUpdate,_L.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);function xL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TL(r.key),r)}}function wL(e){return wL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wL(e)}function EL(e,t){return EL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},EL(e,t)}function CL(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kL(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(pW){return!1}}();return function(){var n,r=wL(e);if(t){var i=wL(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CL(this,n)}}function SL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||DL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AL(e){return function(e){if(Array.isArray(e))return ML(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||DL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DL(e,t){if(e){if("string"===typeof e)return ML(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ML(e,t):void 0}}function ML(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TL(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:VT}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=VT);var PL="undefined"!==typeof window&&window.THREE?window.THREE:{LinearFilter:bP,Sprite:$B,SpriteMaterial:BB,Texture:SO},OL=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EL(e,t)}(a,e);var t,n,r,i=kL(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 1)";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,new PL.SpriteMaterial))._text="".concat(t),e._textHeight=n,e._color=r,e._backgroundColor=!1,e._padding=0,e._borderWidth=0,e._borderRadius=0,e._borderColor="white",e._strokeWidth=0,e._strokeColor="white",e._fontFace="system-ui",e._fontSize=90,e._fontWeight="normal",e._canvas=document.createElement("canvas"),e._genCanvas(),e}return t=a,n=[{key:"text",get:function(){return this._text},set:function(e){this._text=e,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(e){this._textHeight=e,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding=e,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(e){this._borderRadius=e,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(e){this._fontFace=e,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight=e,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(e){this._strokeWidth=e,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(e){this._strokeColor=e,this._genCanvas()}},{key:"_genCanvas",value:function(){var e=this,t=this._canvas,n=t.getContext("2d"),r=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],i=r.map((function(t){return t*e.fontSize*.1})),a=(Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius]).map((function(t){return t*e.fontSize*.1})),o=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],u=o.map((function(t){return t*e.fontSize*.1})),s=this.text.split("\n"),l="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);n.font=l;var c=Math.max.apply(Math,AL(s.map((function(e){return n.measureText(e).width})))),f=this.fontSize*s.length;if(t.width=c+2*i[0]+2*u[0],t.height=f+2*i[1]+2*u[1],this.borderWidth){if(n.strokeStyle=this.borderColor,i[0]){var d=i[0]/2;n.lineWidth=i[0],n.beginPath(),n.moveTo(d,a[0]),n.lineTo(d,t.height-a[3]),n.moveTo(t.width-d,a[1]),n.lineTo(t.width-d,t.height-a[2]),n.stroke()}if(i[1]){var h=i[1]/2;n.lineWidth=i[1],n.beginPath(),n.moveTo(Math.max(i[0],a[0]),h),n.lineTo(t.width-Math.max(i[0],a[1]),h),n.moveTo(Math.max(i[0],a[3]),t.height-h),n.lineTo(t.width-Math.max(i[0],a[2]),t.height-h),n.stroke()}if(this.borderRadius){var p=Math.max.apply(Math,AL(i)),v=p/2;n.lineWidth=p,n.beginPath(),[!!a[0]&&[a[0],v,v,a[0]],!!a[1]&&[t.width-a[1],t.width-v,v,a[1]],!!a[2]&&[t.width-a[2],t.width-v,t.height-v,t.height-a[2]],!!a[3]&&[a[3],v,t.height-v,t.height-a[3]]].filter((function(e){return e})).forEach((function(e){var t=SL(e,4),r=t[0],i=t[1],a=t[2],o=t[3];n.moveTo(r,a),n.quadraticCurveTo(i,a,i,o)})),n.stroke()}}this.backgroundColor&&(n.fillStyle=this.backgroundColor,this.borderRadius?(n.beginPath(),n.moveTo(i[0],a[0]),[[i[0],a[0],t.width-a[1],i[1],i[1],i[1]],[t.width-i[0],t.width-i[0],t.width-i[0],i[1],a[1],t.height-a[2]],[t.width-i[0],t.width-a[2],a[3],t.height-i[1],t.height-i[1],t.height-i[1]],[i[0],i[0],i[0],t.height-i[1],t.height-a[3],a[0]]].forEach((function(e){var t=SL(e,6),r=t[0],i=t[1],a=t[2],o=t[3],u=t[4],s=t[5];n.quadraticCurveTo(r,o,i,u),n.lineTo(a,s)})),n.closePath(),n.fill()):n.fillRect(i[0],i[1],t.width-2*i[0],t.height-2*i[1])),n.translate.apply(n,AL(i)),n.translate.apply(n,AL(u)),n.font=l,n.fillStyle=this.color,n.textBaseline="bottom";var m=this.strokeWidth>0;m&&(n.lineWidth=this.strokeWidth*this.fontSize/10,n.strokeStyle=this.strokeColor),s.forEach((function(t,r){var i=(c-n.measureText(t).width)/2,a=(r+1)*e.fontSize;m&&n.strokeText(t,i,a),n.fillText(t,i,a)})),this.material.map&&this.material.map.dispose();var g=this.material.map=new PL.Texture(t);g.minFilter=PL.LinearFilter,g.needsUpdate=!0;var y=this.textHeight*s.length+2*r[1]+2*o[1];this.scale.set(y*t.width/t.height,y,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(e){return PL.Sprite.prototype.copy.call(this,e),this.color=e.color,this.backgroundColor=e.backgroundColor,this.padding=e.padding,this.borderWidth=e.borderWidth,this.borderColor=e.borderColor,this.fontFace=e.fontFace,this.fontSize=e.fontSize,this.fontWeight=e.fontWeight,this.strokeWidth=e.strokeWidth,this.strokeColor=e.strokeColor,this}}],n&&xL(t.prototype,n),r&&xL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(PL.Sprite),RL=r(5195);var FL=e.createContext(),NL={variant:"body"},IL="tbody",BL=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,o=void 0===a?IL:a,u=(0,Kg.Z)(t,["classes","className","component"]);return e.createElement(FL.Provider,{value:NL},e.createElement(o,(0,$g.Z)({className:(0,Jg.default)(r.root,i),ref:n,role:o===IL?null:"rowgroup"},u)))})),LL=(0,Qg.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(BL);function zL(e){return e.substring(2).toLowerCase()}var UL=function(t){var n=t.children,r=t.disableReactTree,i=void 0!==r&&r,a=t.mouseEvent,o=void 0===a?"onClick":a,u=t.onClickAway,s=t.touchEvent,l=void 0===s?"onTouchEnd":s,c=e.useRef(!1),f=e.useRef(null),d=e.useRef(!1),h=e.useRef(!1);e.useEffect((function(){return setTimeout((function(){d.current=!0}),0),function(){d.current=!1}}),[]);var p=e.useCallback((function(e){f.current=ty.findDOMNode(e)}),[]),v=(0,oy.Z)(n.ref,p),m=(0,fy.Z)((function(e){var t=h.current;if(h.current=!1,d.current&&f.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(c.current)c.current=!1;else{var n;if(e.composedPath)n=e.composedPath().indexOf(f.current)>-1;else n=!(0,iy.Z)(f.current).documentElement.contains(e.target)||f.current.contains(e.target);n||!i&&t||u(e)}})),g=function(e){return function(t){h.current=!0;var r=n.props[e];r&&r(t)}},y={ref:v};return!1!==l&&(y[l]=g(l)),e.useEffect((function(){if(!1!==l){var e=zL(l),t=(0,iy.Z)(f.current),n=function(){c.current=!0};return t.addEventListener(e,m),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,m),t.removeEventListener("touchmove",n)}}}),[m,l]),!1!==o&&(y[o]=g(o)),e.useEffect((function(){if(!1!==o){var e=zL(o),t=(0,iy.Z)(f.current);return t.addEventListener(e,m),function(){t.removeEventListener(e,m)}}}),[m,o]),e.createElement(e.Fragment,null,e.cloneElement(n,y))},jL=e.forwardRef((function(t,n){var r=t.action,i=t.classes,a=t.className,o=t.message,u=t.role,s=void 0===u?"alert":u,l=(0,Kg.Z)(t,["action","classes","className","message","role"]);return e.createElement(Jy,(0,$g.Z)({role:s,square:!0,elevation:6,className:(0,Jg.default)(i.root,a),ref:n},l),e.createElement("div",{className:i.message},o),r?e.createElement("div",{className:i.action},r):null)})),WL=(0,Qg.Z)((function(e){var t="light"===e.palette.type?.8:.98,n=(0,I_._4)(e.palette.background.default,t);return{root:(0,$g.Z)({},e.typography.body2,(0,Qe.Z)({color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiSnackbarContent"})(jL),ZL=e.forwardRef((function(t,n){var r=t.action,i=t.anchorOrigin,a=(i=void 0===i?{vertical:"bottom",horizontal:"center"}:i).vertical,o=i.horizontal,u=t.autoHideDuration,s=void 0===u?null:u,l=t.children,c=t.classes,f=t.className,d=t.ClickAwayListenerProps,h=t.ContentProps,p=t.disableWindowBlurListener,v=void 0!==p&&p,m=t.message,g=t.onClose,y=t.onEnter,b=t.onEntered,_=t.onEntering,x=t.onExit,w=t.onExited,E=t.onExiting,C=t.onMouseEnter,k=t.onMouseLeave,S=t.open,A=t.resumeHideDuration,D=t.TransitionComponent,M=void 0===D?$b:D,T=t.transitionDuration,P=void 0===T?{enter:Uy.x9.enteringScreen,exit:Uy.x9.leavingScreen}:T,O=t.TransitionProps,R=(0,Kg.Z)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),F=e.useRef(),N=e.useState(!0),I=N[0],B=N[1],L=(0,fy.Z)((function(){g&&g.apply(void 0,arguments)})),z=(0,fy.Z)((function(e){g&&null!=e&&(clearTimeout(F.current),F.current=setTimeout((function(){L(null,"timeout")}),e))}));e.useEffect((function(){return S&&z(s),function(){clearTimeout(F.current)}}),[S,s,z]);var U=function(){clearTimeout(F.current)},j=e.useCallback((function(){null!=s&&z(null!=A?A:.5*s)}),[s,A,z]);return e.useEffect((function(){if(!v&&S)return window.addEventListener("focus",j),window.addEventListener("blur",U),function(){window.removeEventListener("focus",j),window.removeEventListener("blur",U)}}),[v,j,S]),!S&&I?null:e.createElement(UL,(0,$g.Z)({onClickAway:function(e){g&&g(e,"clickaway")}},d),e.createElement("div",(0,$g.Z)({className:(0,Jg.default)(c.root,c["anchorOrigin".concat((0,ey.Z)(a)).concat((0,ey.Z)(o))],f),onMouseEnter:function(e){C&&C(e),U()},onMouseLeave:function(e){k&&k(e),j()},ref:n},R),e.createElement(M,(0,$g.Z)({appear:!0,in:S,onEnter:(0,cy.Z)((function(){B(!1)}),y),onEntered:b,onEntering:_,onExit:x,onExited:(0,cy.Z)((function(){B(!0)}),w),onExiting:E,timeout:P,direction:"top"===a?"down":"up"},O),l||e.createElement(WL,(0,$g.Z)({message:m,action:r},h)))))})),VL=(0,Qg.Z)((function(e){var t={top:8},n={bottom:8},r={justifyContent:"flex-end"},i={justifyContent:"flex-start"},a={top:24},o={bottom:24},u={right:24},s={left:24},l={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:(0,$g.Z)({},t,(0,Qe.Z)({},e.breakpoints.up("sm"),(0,$g.Z)({},a,l))),anchorOriginBottomCenter:(0,$g.Z)({},n,(0,Qe.Z)({},e.breakpoints.up("sm"),(0,$g.Z)({},o,l))),anchorOriginTopRight:(0,$g.Z)({},t,r,(0,Qe.Z)({},e.breakpoints.up("sm"),(0,$g.Z)({left:"auto"},a,u))),anchorOriginBottomRight:(0,$g.Z)({},n,r,(0,Qe.Z)({},e.breakpoints.up("sm"),(0,$g.Z)({left:"auto"},o,u))),anchorOriginTopLeft:(0,$g.Z)({},t,i,(0,Qe.Z)({},e.breakpoints.up("sm"),(0,$g.Z)({right:"auto"},a,s))),anchorOriginBottomLeft:(0,$g.Z)({},n,i,(0,Qe.Z)({},e.breakpoints.up("sm"),(0,$g.Z)({right:"auto"},o,s)))}}),{flip:!1,name:"MuiSnackbar"})(ZL),HL=r(7351);function GL(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function qL(e){var t=function(t){var n=e(t);return t.css?(0,$g.Z)({},(0,HL.Z)(n,e((0,$g.Z)({theme:t.theme},t.css))),GL(t.css,[e.filterProps])):t.sx?(0,$g.Z)({},(0,HL.Z)(n,e((0,$g.Z)({theme:t.theme},t.sx))),GL(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,o.Z)(e.filterProps)),t}var YL=qL;var XL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,HL.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},$L=r(6086);function KL(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var JL=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=KL(e.theme,i)||{};return(0,$L.k)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=KL(o,e)||e,a&&(t=a(t))),!1===r?t:(0,Qe.Z)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function QL(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var ez=XL(JL({prop:"border",themeKey:"borders",transform:QL}),JL({prop:"borderTop",themeKey:"borders",transform:QL}),JL({prop:"borderRight",themeKey:"borders",transform:QL}),JL({prop:"borderBottom",themeKey:"borders",transform:QL}),JL({prop:"borderLeft",themeKey:"borders",transform:QL}),JL({prop:"borderColor",themeKey:"palette"}),JL({prop:"borderRadius",themeKey:"shape"})),tz=XL(JL({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),JL({prop:"display"}),JL({prop:"overflow"}),JL({prop:"textOverflow"}),JL({prop:"visibility"}),JL({prop:"whiteSpace"})),nz=XL(JL({prop:"flexBasis"}),JL({prop:"flexDirection"}),JL({prop:"flexWrap"}),JL({prop:"justifyContent"}),JL({prop:"alignItems"}),JL({prop:"alignContent"}),JL({prop:"order"}),JL({prop:"flex"}),JL({prop:"flexGrow"}),JL({prop:"flexShrink"}),JL({prop:"alignSelf"}),JL({prop:"justifyItems"}),JL({prop:"justifySelf"})),rz=XL(JL({prop:"gridGap"}),JL({prop:"gridColumnGap"}),JL({prop:"gridRowGap"}),JL({prop:"gridColumn"}),JL({prop:"gridRow"}),JL({prop:"gridAutoFlow"}),JL({prop:"gridAutoColumns"}),JL({prop:"gridAutoRows"}),JL({prop:"gridTemplateColumns"}),JL({prop:"gridTemplateRows"}),JL({prop:"gridTemplateAreas"}),JL({prop:"gridArea"})),iz=XL(JL({prop:"position"}),JL({prop:"zIndex",themeKey:"zIndex"}),JL({prop:"top"}),JL({prop:"right"}),JL({prop:"bottom"}),JL({prop:"left"})),az=XL(JL({prop:"color",themeKey:"palette"}),JL({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),oz=JL({prop:"boxShadow",themeKey:"shadows"});function uz(e){return e<=1?"".concat(100*e,"%"):e}var sz=JL({prop:"width",transform:uz}),lz=JL({prop:"maxWidth",transform:uz}),cz=JL({prop:"minWidth",transform:uz}),fz=JL({prop:"height",transform:uz}),dz=JL({prop:"maxHeight",transform:uz}),hz=JL({prop:"minHeight",transform:uz}),pz=(JL({prop:"size",cssProperty:"width",transform:uz}),JL({prop:"size",cssProperty:"height",transform:uz}),XL(sz,lz,cz,fz,dz,hz,JL({prop:"boxSizing"}))),vz=r(9908),mz=XL(JL({prop:"fontFamily",themeKey:"typography"}),JL({prop:"fontSize",themeKey:"typography"}),JL({prop:"fontStyle",themeKey:"typography"}),JL({prop:"fontWeight",themeKey:"typography"}),JL({prop:"letterSpacing"}),JL({prop:"lineHeight"}),JL({prop:"textAlign"})),gz=r(4928);function yz(t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,a=(0,Kg.Z)(r,["name"]);var o,u=i,s="function"===typeof n?function(e){return{root:function(t){return n((0,$g.Z)({theme:e},t))}}}:{root:n},l=(0,gz.Z)(s,(0,$g.Z)({Component:t,name:i||t.displayName,classNamePrefix:u},a));n.filterProps&&(o=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var c=e.forwardRef((function(n,r){var i=n.children,a=n.className,u=n.clone,s=n.component,c=(0,Kg.Z)(n,["children","className","clone","component"]),f=l(n),d=(0,Jg.default)(f.root,a),h=c;if(o&&(h=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(h,o)),u)return e.cloneElement(i,(0,$g.Z)({className:(0,Jg.default)(i.props.className,d)},h));if("function"===typeof i)return i((0,$g.Z)({className:d},h));var p=s||t;return e.createElement(p,(0,$g.Z)({ref:r,className:d},h),i)}));return ym()(c,t),c}}var bz=function(e){var t=yz(e);return function(e,n){return t(e,(0,$g.Z)({defaultTheme:jy.Z},n))}},_z=YL(XL(ez,tz,nz,rz,iz,az,oz,pz,vz.Z,mz)),xz=bz("div")(_z,{name:"MuiBox"}),wz=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,o=void 0===a?"tr":a,u=t.hover,s=void 0!==u&&u,l=t.selected,c=void 0!==l&&l,f=(0,Kg.Z)(t,["classes","className","component","hover","selected"]),d=e.useContext(FL);return e.createElement(o,(0,$g.Z)({ref:n,className:(0,Jg.default)(r.root,i,d&&{head:r.head,footer:r.footer}[d.variant],s&&r.hover,c&&r.selected),role:"tr"===o?null:"row"},f))})),Ez=(0,Qg.Z)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,I_.Fq)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(wz);var Cz=e.createContext(),kz="table",Sz=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,o=void 0===a?kz:a,u=t.padding,s=void 0===u?"normal":u,l=t.size,c=void 0===l?"medium":l,f=t.stickyHeader,d=void 0!==f&&f,h=(0,Kg.Z)(t,["classes","className","component","padding","size","stickyHeader"]),p=e.useMemo((function(){return{padding:s,size:c,stickyHeader:d}}),[s,c,d]);return e.createElement(Cz.Provider,{value:p},e.createElement(o,(0,$g.Z)({role:o===kz?null:"table",ref:n,className:(0,Jg.default)(r.root,i,d&&r.stickyHeader)},h)))})),Az=(0,Qg.Z)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,$g.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(Sz),Dz={variant:"head"},Mz="thead",Tz=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,o=void 0===a?Mz:a,u=(0,Kg.Z)(t,["classes","className","component"]);return e.createElement(FL.Provider,{value:Dz},e.createElement(o,(0,$g.Z)({className:(0,Jg.default)(r.root,i),ref:n,role:o===Mz?null:"rowgroup"},u)))})),Pz=(0,Qg.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(Tz),Oz=e.forwardRef((function(t,n){var r,i,a=t.align,o=void 0===a?"inherit":a,u=t.classes,s=t.className,l=t.component,c=t.padding,f=t.scope,d=t.size,h=t.sortDirection,p=t.variant,v=(0,Kg.Z)(t,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),m=e.useContext(Cz),g=e.useContext(FL),y=g&&"head"===g.variant;l?(i=l,r=y?"columnheader":"cell"):i=y?"th":"td";var b=f;!b&&y&&(b="col");var _=c||(m&&m.padding?m.padding:"normal"),x=d||(m&&m.size?m.size:"medium"),w=p||g&&g.variant,E=null;return h&&(E="asc"===h?"ascending":"descending"),e.createElement(i,(0,$g.Z)({ref:n,className:(0,Jg.default)(u.root,u[w],s,"inherit"!==o&&u["align".concat((0,ey.Z)(o))],"normal"!==_&&u["padding".concat((0,ey.Z)(_))],"medium"!==x&&u["size".concat((0,ey.Z)(x))],"head"===w&&m&&m.stickyHeader&&u.stickyHeader),"aria-sort":E,role:r,scope:b},v))})),Rz=(0,Qg.Z)((function(e){return{root:(0,$g.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,I_.$n)((0,I_.Fq)(e.palette.divider,1),.88):(0,I_._j)((0,I_.Fq)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(Oz),Fz=r(3057),Nz=r(2772),Iz=r(3594),Bz=r(4241);var Lz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,gz.Z)(e,(0,$g.Z)({defaultTheme:jy.Z},t))},zz=(0,x_.Z)(e.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Uz=(0,x_.Z)(e.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),jz=(0,x_.Z)(e.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Wz=(0,x_.Z)(e.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Zz=(0,x_.Z)(e.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Vz={success:e.createElement(zz,{fontSize:"inherit"}),warning:e.createElement(Uz,{fontSize:"inherit"}),error:e.createElement(jz,{fontSize:"inherit"}),info:e.createElement(Wz,{fontSize:"inherit"})},Hz=e.createElement(Zz,{fontSize:"small"}),Gz=e.forwardRef((function(t,n){var r=t.action,i=t.children,a=t.classes,o=t.className,u=t.closeText,s=void 0===u?"Close":u,l=t.color,c=t.icon,f=t.iconMapping,d=void 0===f?Vz:f,h=t.onClose,p=t.role,v=void 0===p?"alert":p,m=t.severity,g=void 0===m?"success":m,y=t.variant,b=void 0===y?"standard":y,_=(0,Kg.Z)(t,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return e.createElement(Jy,(0,$g.Z)({role:v,square:!0,elevation:0,className:(0,Jg.default)(a.root,a["".concat(b).concat((0,ey.Z)(l||g))],o),ref:n},_),!1!==c?e.createElement("div",{className:a.icon},c||d[g]||Vz[g]):null,e.createElement("div",{className:a.message},i),null!=r?e.createElement("div",{className:a.action},r):null,null==r&&h?e.createElement("div",{className:a.action},e.createElement(K_,{size:"small","aria-label":s,title:s,color:"inherit",onClick:h},Hz)):null)})),qz=(0,Qg.Z)((function(e){var t="light"===e.palette.type?I_._j:I_.$n,n="light"===e.palette.type?I_.$n:I_._j;return{root:(0,$g.Z)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(Gz),Yz=Lz({root:{"& > *":{borderBottom:"unset"}},table:{minWidth:650},snackbar:{bottom:"104px"}});var Xz=function(t){var n=t.nodes,r=em().currentUser,i=Yz(),u=(0,e.useState)(0),s=(0,a.Z)(u,2),l=s[0],c=s[1],f=(0,e.useState)([{id:1,name:"",level:1}]),d=(0,a.Z)(f,2),h=d[0],p=d[1];(0,e.useEffect)((function(){var e=n.map((function(e,t){return{key:"node-".concat(t+1),name:e.id.trim(),level:e.level,id:t+1}}));p(e)}),[n]);var v=e.useState(!1),m=(0,a.Z)(v,2),g=m[0],y=m[1],b=e.useState(!1),_=(0,a.Z)(b,2),x=_[0],w=_[1],E=e.useState(!0),C=(0,a.Z)(E,2),k=C[0],S=C[1],A=e.useState(!1),D=(0,a.Z)(A,2),M=D[0],T=D[1],P=function(e,t){"clickaway"!==t&&y(!1)},O=function(){p([].concat((0,o.Z)(h),[{id:h.length+1,name:"",level:0}])),w(!0)},R=function(){w(!x),p(h),S(!0),y(!0),h.forEach((function(e){Mv(Sv($v,"stories/".concat(r.uid,"/graph/nodes/").concat(e.id-1)),{id:e.name})}))},F=function(e){c(e),T(!0)},N=function(){T(!1)};return(0,Kv.jsxs)(LL,{children:[(0,Kv.jsx)(VL,{open:g,autoHideDuration:2e3,onClose:P,className:i.snackbar,children:(0,Kv.jsx)(qz,{onClose:P,severity:"success",children:"Record saved successfully!"})}),(0,Kv.jsxs)(xz,{margin:1,children:[(0,Kv.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,Kv.jsx)("div",{children:x?(0,Kv.jsxs)("div",{children:[(0,Kv.jsxs)(Q_,{onClick:O,children:[(0,Kv.jsx)(Nz.Z,{onClick:O}),"ADD"]}),0!==h.length&&(0,Kv.jsx)("div",{children:k?(0,Kv.jsxs)(Q_,{disabled:!0,align:"right",onClick:R,children:[(0,Kv.jsx)(Iz.Z,{}),"SAVE"]}):(0,Kv.jsxs)(Q_,{align:"right",onClick:R,children:[(0,Kv.jsx)(Iz.Z,{}),"SAVE"]})})]}):(0,Kv.jsxs)("div",{children:[(0,Kv.jsxs)(Q_,{onClick:O,children:[(0,Kv.jsx)(Nz.Z,{onClick:O}),"ADD"]}),(0,Kv.jsxs)(Q_,{align:"right",onClick:function(e){w(!x)},children:[(0,Kv.jsx)(RL.Z,{}),"EDIT"]})]})})}),(0,Kv.jsx)(Ez,{align:"center"}),(0,Kv.jsxs)(Az,{className:i.table,size:"small","aria-label":"a dense table",children:[(0,Kv.jsx)("caption",{children:"Nodes"}),(0,Kv.jsx)(Pz,{children:(0,Kv.jsxs)(Ez,{children:[(0,Kv.jsx)(Rz,{align:"left",children:"ID"}),(0,Kv.jsx)(Rz,{align:"center",children:"Name"}),(0,Kv.jsx)(Rz,{align:"center",children:"Level"}),(0,Kv.jsx)(Rz,{align:"center",children:" Delete "})]})}),(0,Kv.jsx)(LL,{children:h.map((function(e,t){return(0,Kv.jsx)("div",{children:(0,Kv.jsx)(Ez,{children:x?(0,Kv.jsx)("div",{children:(0,Kv.jsx)(Rz,{padding:"none",align:"center",children:(0,Kv.jsx)("input",{value:e.name,name:"name",onChange:function(e){return function(e,t){S(!1);var n=e.target,r=n.name,i=n.value,a=(0,o.Z)(h);a[t][r]=i,p(a)}(e,t)}})},"edit-name-".concat(t))}):(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)(Rz,{scope:"row",align:"left",children:e.id},"id-".concat(t)),(0,Kv.jsx)(Rz,{scope:"row",align:"center",children:e.name},"name-".concat(t)),(0,Kv.jsx)(Rz,{scope:"row",align:"center",children:e.level},"level-".concat(t)),(0,Kv.jsxs)(Rz,{scope:"row",align:"center",children:[x?(0,Kv.jsx)(Q_,{className:"mr10",onClick:F,children:(0,Kv.jsx)(Bz.Z,{})}):(0,Kv.jsx)(Q_,{className:"mr10",onClick:function(){return F(e.id)},children:(0,Kv.jsx)(Fz.Z,{})}),M&&(0,Kv.jsx)("div",{children:(0,Kv.jsxs)(tb,{open:M,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Kv.jsx)(db,{id:"alert-dialog-title",children:"Confirm Delete"}),(0,Kv.jsx)(ab,{children:(0,Kv.jsx)(cb,{id:"alert-dialog-description",children:"Are you sure you want to delete this row?"})}),(0,Kv.jsxs)(rb,{children:[(0,Kv.jsx)(Q_,{onClick:function(){return function(){var e=(0,o.Z)(h);e.splice(l-1,1),p(e),T(!1),Dv(Sv($v,"stories/".concat(r.uid,"/graph/nodes/").concat(l-1)))}()},color:"primary",autoFocus:!0,children:"Yes"}),(0,Kv.jsx)(Q_,{onClick:N,color:"primary",autoFocus:!0,children:"No"})]})]})})]},"buttons-".concat(t))]})},t)})}))})]})]})]})},$z=r(4993),Kz=Lz({root:{"& > *":{borderBottom:"unset"}},table:{minWidth:650},snackbar:{bottom:"104px"}});var Jz=function(t){var n=t.links,r=t.nodes,i=em().currentUser,u=Kz(),s=(0,e.useState)(""),l=(0,a.Z)(s,2),c=(l[0],l[1]),f=(0,e.useState)(""),d=(0,a.Z)(f,2),h=(d[0],d[1]),p=(0,e.useState)(0),v=(0,a.Z)(p,2),m=v[0],g=v[1],y=(0,e.useState)([{id:0,source:"",link:"",target:""}]),b=(0,a.Z)(y,2),_=b[0],x=b[1];(0,e.useEffect)((function(){var e=n.map((function(e,t){return{key:"link-".concat(t+1),source:e.source.id||e.source,link:e.link,target:e.target.id||e.target,id:t+1}}));x(e)}),[n]);var w=e.useState(!1),E=(0,a.Z)(w,2),C=E[0],k=E[1],S=e.useState(!1),A=(0,a.Z)(S,2),D=A[0],M=A[1],T=e.useState(!0),P=(0,a.Z)(T,2),O=P[0],R=P[1],F=e.useState(!1),N=(0,a.Z)(F,2),I=N[0],B=N[1],L=(0,e.useState)([]),z=(0,a.Z)(L,2),U=z[0],j=z[1];(0,e.useEffect)((function(){j(_)}),[_]);var W=function(e,t){"clickaway"!==t&&k(!1)},Z=function(){x([].concat((0,o.Z)(_),[{id:_.length+1,source:"",link:"",target:""}])),M(!0)},V=function(){M(!D),x(_),R(!0),k(!0),_.forEach((function(e){Mv(Sv($v,"stories/".concat(i.uid,"/graph/links/").concat(e.id-1)),{source:e.source.trim(),link:e.link.trim(),target:e.target.trim()})}))},H=function(e){g(e),B(!0)},G=function(){B(!1)};return(0,Kv.jsxs)(LL,{children:[(0,Kv.jsx)(VL,{open:C,autoHideDuration:2e3,onClose:W,className:u.snackbar,children:(0,Kv.jsx)(qz,{onClose:W,severity:"success",children:"Record saved successfully!"})}),(0,Kv.jsxs)(xz,{margin:1,children:[(0,Kv.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,Kv.jsx)("div",{children:D?(0,Kv.jsxs)("div",{children:[(0,Kv.jsxs)(Q_,{onClick:Z,children:[(0,Kv.jsx)(Nz.Z,{onClick:Z}),"ADD"]}),0!==_.length&&(0,Kv.jsxs)("div",{children:[O?(0,Kv.jsxs)(Q_,{disabled:!0,align:"right",onClick:V,children:[(0,Kv.jsx)(Iz.Z,{}),"SAVE"]}):(0,Kv.jsxs)(Q_,{align:"right",onClick:V,children:[(0,Kv.jsx)(Iz.Z,{}),"SAVE"]}),(0,Kv.jsxs)(Q_,{onClick:function(){x(U),M(!1)},children:[(0,Kv.jsx)($z.Z,{}),"CANCEL"]})]})]}):(0,Kv.jsxs)("div",{children:[(0,Kv.jsxs)(Q_,{onClick:Z,children:[(0,Kv.jsx)(Nz.Z,{onClick:Z}),"ADD"]}),(0,Kv.jsxs)(Q_,{align:"right",onClick:function(e){M(!D)},children:[(0,Kv.jsx)(RL.Z,{}),"EDIT"]})]})})}),(0,Kv.jsx)(Ez,{align:"center"}),(0,Kv.jsxs)(Az,{className:u.table,size:"small","aria-label":"a dense table",children:[(0,Kv.jsx)("caption",{children:"Links"}),(0,Kv.jsx)(Pz,{children:(0,Kv.jsxs)(Ez,{children:[(0,Kv.jsx)(Rz,{align:"left",children:"ID"}),(0,Kv.jsx)(Rz,{align:"center",children:"Source"}),(0,Kv.jsx)(Rz,{align:"center",children:"Link"}),(0,Kv.jsx)(Rz,{align:"center",children:"Target"}),(0,Kv.jsx)(Rz,{align:"center",children:"Delete"})]},"TableRow")}),(0,Kv.jsx)(LL,{children:_.map((function(e,t){return(0,Kv.jsx)("div",{children:(0,Kv.jsx)(Ez,{children:D?(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)(Rz,{padding:"none",children:(0,Kv.jsxs)("select",{style:{width:"100px"},name:"source",value:e.source,onChange:function(e){return function(e,t){R(!1),c(e.target.value);var n=e.target,r=n.name,i=n.value,a=(0,o.Z)(_);a[t][r]=i,x(a)}(e,t)},children:[(0,Kv.jsx)("option",{value:"",children:e.source}),r.map((function(e){return(0,Kv.jsx)("option",{children:e.id})}))]})},"edit-source-".concat(t)),(0,Kv.jsx)(Rz,{padding:"none",align:"center",children:(0,Kv.jsx)("input",{value:e.link,name:"link",onChange:function(e){return function(e,t){R(!1);var n=e.target,r=n.name,i=n.value,a=(0,o.Z)(_);a[t][r]=i,x(a)}(e,t)}})},"edit-link-".concat(t)),(0,Kv.jsx)(Rz,{padding:"none",children:(0,Kv.jsxs)("select",{style:{width:"100px"},name:"target",value:e.target,onChange:function(e){return function(e,t){R(!1),h(e.target.value);var n=e.target,r=n.name,i=n.value,a=(0,o.Z)(_);a[t][r]=i,x(a)}(e,t)},children:[(0,Kv.jsx)("option",{value:"",children:e.target}),r.map((function(e){return(0,Kv.jsx)("option",{children:e.id})}))]})},"edit-target-".concat(t))]}):(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)(Rz,{scope:"row",align:"left",children:e.id},"id-".concat(t)),(0,Kv.jsx)(Rz,{scope:"row",align:"center",children:e.source},"source-".concat(t)),(0,Kv.jsx)(Rz,{scope:"row",align:"center",children:e.link},"link-".concat(t)),(0,Kv.jsx)(Rz,{scope:"row",align:"center",children:e.target},"target-".concat(t)),(0,Kv.jsxs)(Rz,{scope:"row",align:"center",children:[D?(0,Kv.jsx)(Q_,{className:"mr10",onClick:H,children:(0,Kv.jsx)(Bz.Z,{})}):(0,Kv.jsx)(Q_,{className:"mr10",onClick:function(){return H(e.id)},children:(0,Kv.jsx)(Fz.Z,{})}),I&&(0,Kv.jsx)("div",{children:(0,Kv.jsxs)(tb,{open:I,onClose:G,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Kv.jsx)(db,{id:"alert-dialog-title",children:"Confirm Delete"}),(0,Kv.jsx)(ab,{children:(0,Kv.jsx)(cb,{id:"alert-dialog-description",children:"Are you sure you want to delete this row?"})}),(0,Kv.jsxs)(rb,{children:[(0,Kv.jsx)(Q_,{onClick:function(){return function(){var e=(0,o.Z)(_);e.splice(m-1,1),x(e),B(!1),Mv(Sv($v,"stories/".concat(i.uid,"/graph/links/").concat(m-1)),null)}()},color:"primary",autoFocus:!0,children:"Yes"}),(0,Kv.jsx)(Q_,{onClick:G,color:"primary",autoFocus:!0,children:"No"})]})]})})]},"buttons-".concat(t))]})},t)})}))})]})]})]})},Qz=function(e){var t=e.data,n=e.getNodeSize,r=e.handleNodeClick;return(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)(ZT,{graphData:t,nodeAutoColorBy:"level",nodeVal:function(e){return n(e.level)},nodeLabel:function(e){return e.id},linkDirectionalArrowLength:3.5,linkDirectionalArrowRelPos:1,linkCurvature:.25,linkLabel:function(e){return e.link},linkThreeObjectExtend:!0,linkThreeObject:function(e){var t=new OL(e.name);return t.color="lightgrey",t.textHeight=1.5,t},onNodeClick:r}),(0,Kv.jsx)(Xz,{nodes:t.nodes}),(0,Kv.jsx)(Jz,{links:t.links,nodes:t.nodes})]})};var eU=function(){var t=em().currentUser,n=t?t.uid:null,r=Sv($v,"stories/".concat(n,"/graph/")),i=(0,e.useState)({nodes:[{id:"Unknown1",level:1,text:""},{id:"Unknown2",level:1,text:""}],links:[{link:"Unknown",source:"Unknown1",target:"Unknown2"}]}),u=(0,a.Z)(i,2),s=u[0],l=u[1],c=(0,e.useState)({}),f=(0,a.Z)(c,2),d=f[0],h=f[1],p=(0,e.useState)(d?d.text:"None."),v=(0,a.Z)(p,2),m=v[0],g=v[1];(0,e.useEffect)((function(){d&&d.text&&g(d.text)}),[m,d]);var y=(0,e.useCallback)((function(){var e,t,r={nodes:s.nodes.map((function(e){return e.id===d.id?dn(dn({},e),{},{text:m}):e})),links:s.links},i=jv(Sv($v,"stories/".concat(n,"/graph/nodes")),function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rp("orderByChild","path",e,!1),new zv(e)}("id"),(e=d.id,Op("equalTo","key",t,!0),new Uv(e,t)));Nv(i,(function(e){e.forEach((function(e){var t=e.key;Tv(Sv($v,"stories/".concat(n,"/graph/nodes/").concat(t)),{text:m})}))})),l(r)}),[s,d,m,n]),b=(0,e.useCallback)((function(e){if(e){h(e);var t=new Set([e.id]);s.links.forEach((function(n){var r;if(n.source.id===e.id||n.source===e.id)t.add((null===(r=n.target)||void 0===r?void 0:r.id)||n.target);else if(n.target.id===e.id||n.target===e.id){var i;t.add((null===(i=n.source)||void 0===i?void 0:i.id)||n.source)}}));var n=s.nodes.filter((function(e){return t.has(e.id)||e.id===d.id})).map((function(e){return dn({},e)})),r=s.links.filter((function(e){var n,r;return t.has((null===(n=e.source)||void 0===n?void 0:n.id)||e.source)&&t.has((null===(r=e.target)||void 0===r?void 0:r.id)||e.target)})).map((function(e){var t,n;return{link:e.link,source:(null===(t=e.source)||void 0===t?void 0:t.id)||e.source,target:(null===(n=e.target)||void 0===n?void 0:n.id)||e.target}}));l({nodes:n,links:r}),g(e.text||"")}}),[s,d]),_=function(e){var t=new Map,n=new Set,r=new Set,i=function(e,t){return e.source===t.target&&e.target===t.source},a=function(t){e.links.splice(e.links.findIndex((function(e){return e===t})),1)},u=new Set(e.nodes.map((function(e){return e.id})));e.links.forEach((function(t){e.nodes.some((function(e){return e.id===t.source}))&&e.nodes.some((function(e){return e.id===t.target}))?(u.delete(t.target),e.links.some((function(e){return i(t,e)}))&&(u.add(t.source),a(e.links.find((function(e){return i(t,e)&&e.source!==t.source}))))):a(t)}));for(var s=Array.from(u,(function(e){return{id:e,level:1}})),l=function(){var i=s.shift(),a=i.id,u=i.level;r.add(a);var l,c=(l=a,e.links.filter((function(e){return e.source===l&&!r.has(e.target)}))),f=c.map((function(e){return{id:e.target,level:u+1}}));s.push.apply(s,(0,o.Z)(f)),t.has(a)?t.get(a)>u&&t.set(a,u):t.set(a,u),c.forEach((function(e){r.has(e.target)?n.add(JSON.stringify({link:e.link,source:e.source,target:e.target})):n.add(JSON.stringify(e))}))};s.length>0;)l();var c=Array.from(n,(function(e){return JSON.parse(e)})),f={};t.forEach((function(e,t){f[t]=e}));var d=e.nodes.filter((function(e){return t.has(e.id)})).map((function(e){return{id:e.id,level:t.get(e.id),text:e.text||""}}));return{nodes:d,links:c}};function x(e){if(!e.exists())return(0,Kv.jsx)("h4",{children:"No Data Available."});var t=e.val(),r=_(t),i=t.nodes.filter((function(e){return!r.nodes.some((function(t){return t.id===e.id}))})),a=r.nodes.map((function(e){return dn(dn({},e),{},{hidden:!1})})),o=r.links.map((function(e){return{link:e.link,source:e.source,target:e.target}}));l({nodes:a,links:o}),g(""),h({}),i.forEach((function(e){Mv(Sv($v,"stories/".concat(n,"/graph/nodes/").concat(e.id)),dn(dn({},e),{},{hidden:!0}))})),Mv(Sv($v,"stories/".concat(n,"/graph")),{nodes:a,links:o})}return(0,Kv.jsxs)("div",{children:[(0,Kv.jsx)("button",{onClick:function(){Nv(r,x)},children:"RenderGraph"}),(0,Kv.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,Kv.jsxs)("div",{style:{position:"relative"},children:[(0,Kv.jsx)(Qz,{data:s,getNodeSize:function(e){return 10/e},handleNodeClick:b}),d&&void 0!==d.id&&(0,Kv.jsxs)("div",{style:{position:"absolute",left:"70%",top:"50%",height:"500%",marginLeft:"10px"},children:[(0,Kv.jsx)("textarea",{type:"text",value:m,placeholder:"This is where you can enter the details about ".concat(null===d||void 0===d?void 0:d.id,"."),onChange:function(e){g((function(t){return e.target.value}))}}),(0,Kv.jsx)("br",{}),(0,Kv.jsx)("button",{onClick:y,children:"Save"})]})]})})]})};function tU(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=tU(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function nU(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=tU(e))&&(r&&(r+=" "),r+=t);return r}Math.max,Math.min,Math.round;r(77),"undefined"!==typeof window&&window.document&&window.document.createElement?e.useLayoutEffect:e.useEffect;var rU=["breakpoint","fluid","children","className","tag"],iU=["center","children","className","end","lg","md","offsetLg","offsetMd","offsetSm","order","size","sm","start","tag","xl","xxl","xs"],aU=["className","color","pill","light","dot","tag","children","notification"],oU=["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onMouseDown"],uU=["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"],sU=["className","children","shadow","toolbar","size","vertical","tag"],lU=["className","children","tag","color","grow","size"],cU=["className","children","border","background","tag","shadow","alignment"],fU=["className","children","border","background","tag"],dU=["className","children","tag"],hU=["className","children","tag"],pU=["className","children","tag"],vU=["className","children","tag"],mU=["className","children","border","background","tag"],gU=["className","children","tag"],yU=["className","children","tag"],bU=["className","tag","horizontal","horizontalSize","light","numbered","children","small"],_U=["className","tag","active","disabled","action","color","children","noBorders"],xU=["around","between","bottom","center","children","className","evenly","end","middle","start","tag","top"],wU=["className","children","tag","variant","color","blockquote","note","noteColor","listUnStyled","listInLine"],EU=["className","color","uppercase","bold","children"],CU=["className","active","current","children"],kU=["className","children","light","dark","scrolling","fixed","sticky","scrollingNavbarOffset","color","transparent","expand","tag","bgColor"],SU=["children","className","disabled","active","tag"],AU=["className","children","tag"],DU=["children","className","active","text","tag"],MU=["children","className","right","fullWidth","left","tag"],TU=["children","className","tag"],PU=["children","bgColor","color","className"],OU=["children","size","circle","center","end","start","className"],RU=["children","className","tag"],FU=["children","className","active","disabled"],NU=["animated","children","className","style","tag","valuenow","valuemax","striped","bgColor","valuemin","width"],IU=["className","children","tag","height","style"],BU=["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","type","onBlur","readonly"],LU=["className","inputRef","labelClass","wrapperClass","labelStyle","wrapperTag","wrapperStyle","label","inline","btn","id","btnColor","disableWrapper","toggleSwitch"],zU=["className","children","show","id","navbar","tag","collapseRef","style"],UU=["className","centered","children","size","scrollable","tag"],jU=["className","children","tag"],WU=["className","children","tag"],ZU=["className","children","tag"],VU=["className","children","tag"],HU=["className","children","tag"],GU=["className","children","noBorder","textBefore","textAfter","noWrap","tag","textTag","textClass","size","textProps"],qU=["className","children","isValidated","onReset","onSubmit"],YU=["className","fill","pills","justify","children"],XU=["className","children","style"],$U=["className","color","active","onShow","onHide","children"],KU=["className","tag","children"],JU=["className","tag","show","children"],QU=["fade","className","dark","children","interval","keyboard","touch","showControls","showIndicators","onSlide"],ej=["alwaysOpen","borderless","className","flush","initialActive","tag","children","onChange"],tj=["className","bodyClassName","bodyStyle","headerClassName","collapseId","headerTitle","headerStyle","btnClassName","tag","children"];!function(){try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".dropdown-menu .active{color:#16181b;background-color:#eee}.dropdown-menu [data-active=true] a.dropdown-item,.dropdown-menu .dropdown-item:focus,.dropdown-menu li:focus .dropdown-item :not(.disabled){color:#16181b;background-color:#eee}.dropdown-menu li:focus{outline:none}.dropdown-menu.dropdown-menu-dark [data-active=true] a.dropdown-item,.dropdown-menu.dropdown-menu-dark .dropdown-item:focus,.dropdown-menu.dropdown-menu-dark li:focus .dropdown-item{color:#fff;background-color:#1266f1}.btn-group.dropstart>.dropdown-menu{right:0!important}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}}();var nj=e.forwardRef((function(e,t){var n=e.breakpoint,r=e.fluid,i=e.children,a=e.className,o=e.tag,u=(0,Kg.Z)(e,rU),s=nU("".concat(r?"container-fluid":"container".concat(n?"-"+n:"")),a);return(0,Kv.jsx)(o,dn(dn({className:s},u),{},{ref:t,children:i}))}));nj.defaultProps={tag:"div"};var rj=e.forwardRef((function(e,t){var n=e.center,r=e.children,i=e.className,a=e.end,o=e.lg,u=e.md,s=e.offsetLg,l=e.offsetMd,c=e.offsetSm,f=e.order,d=e.size,h=e.sm,p=e.start,v=e.tag,m=e.xl,g=e.xxl,y=e.xs,b=(0,Kg.Z)(e,iU),_=nU(d&&"col-".concat(d),y&&"col-xs-".concat(y),h&&"col-sm-".concat(h),u&&"col-md-".concat(u),o&&"col-lg-".concat(o),m&&"col-xl-".concat(m),g&&"col-xxl-".concat(g),d||y||h||u||o||m||g?"":"col",f&&"order-".concat(f),p&&"align-self-start",n&&"align-self-center",a&&"align-self-end",c&&"offset-sm-".concat(c),l&&"offset-md-".concat(l),s&&"offset-lg-".concat(s),i);return(0,Kv.jsx)(v,dn(dn({className:_,ref:t},b),{},{children:r}))}));rj.defaultProps={tag:"div"};var ij=e.forwardRef((function(e,t){var n=e.className,r=e.color,i=e.pill,a=e.light,o=e.dot,u=e.tag,s=e.children,l=e.notification,c=(0,Kg.Z)(e,aU),f=nU("badge",a?r&&"badge-".concat(r):r&&"bg-".concat(r),o&&"badge-dot",i&&"rounded-pill",l&&"badge-notification",n);return(0,Kv.jsx)(u,dn(dn({className:f,ref:t},c),{},{children:s}))}));ij.defaultProps={tag:"span",color:"primary"};var aj=function(t){var n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t)),r=(0,e.useState)(!1),i=(0,a.Z)(r,2),o=i[0],u=i[1],s=nU("ripple-wave",o&&"active");return(0,e.useEffect)((function(){var e=setTimeout((function(){u(!0)}),50);return function(){clearTimeout(e)}}),[]),(0,Kv.jsx)("div",dn({className:s},n))},oj=e.forwardRef((function(t,n){var r=t.className,i=t.rippleTag,o=t.rippleCentered,u=t.rippleDuration,s=t.rippleUnbound,l=t.rippleRadius,c=t.rippleColor,f=t.children,d=t.onMouseDown,h=(0,Kg.Z)(t,oU),p=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.useRef();return e.useEffect((function(){n.forEach((function(e){e&&("function"==typeof e?e(i.current):e.current=i.current)}))}),[n]),i}(n,(0,e.useRef)(null)),v=[0,0,0],m=["primary","secondary","success","danger","warning","info","light","dark"],g=(0,e.useState)([]),y=(0,a.Z)(g,2),b=y[0],_=y[1],x=(0,e.useState)(!1),w=(0,a.Z)(x,2),E=w[0],C=w[1],k=nU("ripple","ripple-surface",s&&"ripple-surface-unbound",E&&"ripple-surface-".concat(c),r),S=function(){if(m.find((function(e){return e===(null==c?void 0:c.toLowerCase())})))return C(!0);var e=A(c).join(",");return"radial-gradient(circle, ".concat("rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e)),")")},A=function(e){return"transparent"===e.toLowerCase()?v:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n||(t.style.color=e,t.style.color===n||""===t.style.color)?v:(e=getComputedStyle(t).color,document.body.removeChild(t),e)}(e)),0===e.indexOf("rgb")?function(e){return e=e.match(/[.\d]+/g).map((function(e){return+Number(e)})),e.length=3,e}(e):v)},D=function(e){var t,n=null==(t=p.current)?void 0:t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,a=n.height,s=n.width,c={delay:u&&.5*u,duration:u&&u-.5*u},f=function(e){var t=e.offsetX,n=e.offsetY,r=e.height,i=e.width,a=n<=r/2,o=t<=i/2,u=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},s=n===r/2&&t===i/2,l=!0===a&&!1===o,c=!0===a&&!0===o,f=!1===a&&!0===o,d=!1===a&&!1===o,h={topLeft:u(t,n),topRight:u(i-t,n),bottomLeft:u(t,r-n),bottomRight:u(i-t,r-n)},p=0;return s||d?p=h.topLeft:f?p=h.topRight:c?p=h.bottomRight:l&&(p=h.bottomLeft),2*p}({offsetX:o?a/2:r,offsetY:o?s/2:i,height:a,width:s}),d=l||f/2,h={left:"".concat(o?s/2-d:r-d,"px"),top:"".concat(o?a/2-d:i-d,"px"),height:"".concat(l?2*l:f,"px"),width:"".concat(l?2*l:f,"px"),transitionDelay:"0s, ".concat(c.delay,"ms"),transitionDuration:"".concat(u,"ms, ").concat(c.duration,"ms")};return E?h:dn(dn({},h),{},{backgroundImage:"".concat(S())})};return(0,e.useEffect)((function(){var e=setTimeout((function(){b.length>0&&_(b.splice(1,b.length-1))}),u);return function(){clearTimeout(e)}}),[u,b]),(0,Kv.jsxs)(i,dn(dn({className:k,onMouseDown:function(e){return function(e){var t=D(e),n=b.concat(t);_(n),d&&d(e)}(e)},ref:p},h),{},{children:[f,b.map((function(e,t){return(0,Kv.jsx)(aj,{style:e},t)}))]}))}));oj.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var uj=e.forwardRef((function(t,n){var r=t.className,i=t.color,o=t.outline,u=t.children,s=t.rounded,l=t.disabled,c=t.floating,f=t.size,d=t.href,h=t.block,p=t.active,v=t.toggle,m=t.noRipple,g=t.tag,y=(0,Kg.Z)(t,uU),b=(0,e.useState)(p||!1),_=(0,a.Z)(b,2),x=_[0],w=_[1],E=i&&["light","link"].includes(i)||o?"dark":"light",C=nU("none"!==i&&"btn","none"!==i?o?i?"btn-outline-".concat(i):"btn-outline-primary":i?"btn-".concat(i):"btn-primary":"",s&&"btn-rounded",c&&"btn-floating",f&&"btn-".concat(f),"".concat((d||"button"!==g)&&l?"disabled":""),h&&"btn-block",x&&"active",r);return d&&"a"!==g&&(g="a"),["hr","img","input"].includes(g)||m?(0,Kv.jsx)(g,dn(dn({className:C,onClick:v?function(){w(!x)}:void 0,disabled:!(!l||"button"!==g)||void 0,href:d,ref:n},y),{},{children:u})):(0,Kv.jsx)(oj,dn(dn({rippleTag:g,rippleColor:E,className:C,onClick:v?function(){w(!x)}:void 0,disabled:!(!l||"button"!==g)||void 0,href:d,ref:n},y),{},{children:u}))}));uj.defaultProps={tag:"button",role:"button",color:"primary"};var sj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.shadow,a=e.toolbar,o=e.size,u=e.vertical,s=e.tag,l=(0,Kg.Z)(e,sU),c=nU(a?"btn-toolbar":u?"btn-group-vertical":"btn-group",i&&"shadow-".concat(i),o&&"btn-group-".concat(o),n);return(0,Kv.jsx)(s,dn(dn({className:c,ref:t},l),{},{children:r}))}));sj.defaultProps={tag:"div",role:"group"};var lj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=e.color,o=e.grow,u=e.size,s=(0,Kg.Z)(e,lU),l=nU("".concat(o?"spinner-grow":"spinner-border"),a&&"text-".concat(a),"".concat(u?o?"spinner-grow-"+u:"spinner-border-"+u:""),n);return(0,Kv.jsx)(i,dn(dn({className:l,ref:t},s),{},{children:r}))}));lj.defaultProps={tag:"div"};var cj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.border,a=e.background,o=e.tag,u=e.shadow,s=e.alignment,l=(0,Kg.Z)(e,cU),c=nU("card",i&&"border border-".concat(i),a&&"bg-".concat(a),u&&"shadow-".concat(u),s&&"text-".concat(s),n);return(0,Kv.jsx)(o,dn(dn({className:c,ref:t},l),{},{children:r}))}));cj.defaultProps={tag:"div"};var fj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.border,a=e.background,o=e.tag,u=(0,Kg.Z)(e,fU),s=nU("card-header",i&&"border-".concat(i),a&&"bg-".concat(a),n);return(0,Kv.jsx)(o,dn(dn({className:s},u),{},{ref:t,children:r}))}));fj.defaultProps={tag:"div"};var dj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,dU),o=nU("card-subtitle",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));dj.defaultProps={tag:"p"};var hj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,hU),o=nU("card-title",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));hj.defaultProps={tag:"h5"};var pj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,pU),o=nU("card-text",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));pj.defaultProps={tag:"p"};var vj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,vU),o=nU("card-body",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));vj.defaultProps={tag:"div"};var mj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.border,a=e.background,o=e.tag,u=(0,Kg.Z)(e,mU),s=nU("card-footer",i&&"border-".concat(i),a&&"bg-".concat(a),n);return(0,Kv.jsx)(o,dn(dn({className:s},u),{},{ref:t,children:r}))}));mj.defaultProps={tag:"div"};var gj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,gU),o=nU("card-img-overlay",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));gj.defaultProps={tag:"div"};var yj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,yU),o=nU("card-group",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));yj.defaultProps={tag:"div"};var bj=e.forwardRef((function(e,t){var n=e.className,r=e.tag,i=e.horizontal,a=e.horizontalSize,o=e.light,u=e.numbered,s=e.children,l=e.small,c=(0,Kg.Z)(e,bU),f=nU("list-group",i&&(a?"list-group-horizontal-".concat(a):"list-group-horizontal"),o&&"list-group-light",u&&"list-group-numbered",l&&"list-group-small",n);return(0,Kv.jsx)(r,dn(dn({className:f,ref:t},c),{},{children:s}))}));bj.defaultProps={tag:"ul"};var _j=e.forwardRef((function(e,t){var n=e.className,r=e.tag,i=e.active,a=e.disabled,o=e.action,u=e.color,s=e.children,l=e.noBorders,c=(0,Kg.Z)(e,_U),f="button"===r,d=nU("list-group-item",i&&"active",a&&!f&&"disabled",o&&"list-group-item-action",u&&"list-group-item-".concat(u),l&&"border-0",n);return(0,Kv.jsx)(r,dn(dn({className:d,disabled:f&&a,ref:t},c),{},{children:s}))}));_j.defaultProps={tag:"li"};var xj=e.forwardRef((function(e,t){var n=e.around,r=e.between,i=e.bottom,a=e.center,o=e.children,u=e.className,s=e.evenly,l=e.end,c=e.middle,f=e.start,d=e.tag,h=e.top,p=(0,Kg.Z)(e,xU),v=nU("row",n&&"justify-content-around",r&&"justify-content-between",i&&"align-self-end",a&&"justify-content-center",s&&"justifty-content-evenly",l&&"justify-content-end",c&&"align-self-center",f&&"justify-content-start",h&&"align-self-start",u);return(0,Kv.jsx)(d,dn(dn({className:v},p),{},{ref:t,children:o}))}));xj.defaultProps={tag:"div"};var wj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=e.variant,o=e.color,u=e.blockquote,s=e.note,l=e.noteColor,c=e.listUnStyled,f=e.listInLine,d=(0,Kg.Z)(e,wU),h=nU(a&&a,u&&"blockquote",s&&"note",o&&"text-".concat(o),l&&"note-".concat(l),c&&"list-unstyled",f&&"list-inline",n);return u&&(i="blockquote"),(c||f)&&(i="ul"),(0,Kv.jsx)(i,dn(dn({className:h,ref:t},d),{},{children:r}))}));wj.defaultProps={tag:"p"};e.forwardRef((function(e,t){var n=e.className,r=e.color,i=e.uppercase,a=e.bold,o=e.children,u=(0,Kg.Z)(e,EU),s=nU("breadcrumb",a&&"font-weight-bold",r&&"text-".concat(r),i&&"text-uppercase",n);return(0,Kv.jsx)("nav",{"aria-label":"breadcrumb",children:(0,Kv.jsx)("ol",dn(dn({className:s,ref:t},u),{},{children:o}))})}));var Ej=e.forwardRef((function(e,t){var n=e.className,r=e.active,i=e.current,a=e.children,o=(0,Kg.Z)(e,CU),u=nU("breadcrumb-item",r&&"active",n);return(0,Kv.jsx)("li",dn(dn({className:u,ref:t,"aria-current":r&&i},o),{},{children:a}))}));Ej.defaultProps={current:"page"};var Cj=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.light,u=t.dark,s=t.scrolling,l=t.fixed,c=t.sticky,f=t.scrollingNavbarOffset,d=t.color,h=t.transparent,p=t.expand,v=t.tag,m=t.bgColor,g=(0,Kg.Z)(t,kU),y=(0,e.useState)(!1),b=(0,a.Z)(y,2),_=b[0],x=b[1],w=nU((0,Qe.Z)({"navbar-light":o,"navbar-dark":u,"scrolling-navbar":s||f,"top-nav-collapse":_},"text-".concat(d),d&&h?_:d),l&&"fixed-".concat(l),c&&"sticky-top","navbar",p&&function(e){if(!1!==e)return"navbar-expand-".concat(e)}(p),m&&"bg-".concat(m),r),E=(0,e.useCallback)((function(){f&&window.pageYOffset>f?x(!0):x(!1)}),[f]);return(0,e.useEffect)((function(){return(s||f)&&window.addEventListener("scroll",E),function(){window.removeEventListener("scroll",E)}}),[E,s,f]),(0,Kv.jsx)(v,dn(dn({className:w,role:"navigation"},g),{},{ref:n,children:i}))}));Cj.defaultProps={tag:"nav"};var kj=e.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.disabled,a=e.active,o=e.tag,u=(0,Kg.Z)(e,SU),s=nU("nav-link",i?"disabled":a?"active":"",r);return(0,Kv.jsx)(o,dn(dn({"data-test":"nav-link",className:s,style:{cursor:"pointer"},ref:t},u),{},{children:n}))}));kj.defaultProps={tag:"a",active:!1,className:"",disabled:!1};var Sj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,AU),o=nU("navbar-brand",n);return(0,Kv.jsx)(i,dn(dn({className:o,ref:t},a),{},{children:r}))}));Sj.defaultProps={tag:"a"};var Aj=e.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.active,a=e.text,o=e.tag,u=(0,Kg.Z)(e,DU),s=nU("nav-item",i&&"active",a&&"navbar-text",r);return(0,Kv.jsx)(o,dn(dn({},u),{},{className:s,ref:t,children:n}))}));Aj.defaultProps={tag:"li"};var Dj=e.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.right,a=e.fullWidth,o=e.left,u=e.tag,s=(0,Kg.Z)(e,MU),l=nU("navbar-nav",a&&"w-100",i&&"ms-auto",o&&"me-auto",r);return(0,Kv.jsx)(u,dn(dn({className:l,ref:t},s),{},{children:n}))}));Dj.defaultProps={tag:"ul",fullWidth:!0};var Mj=e.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.tag,a=(0,Kg.Z)(e,TU),o=nU("navbar-toggler",r);return(0,Kv.jsx)(i,dn(dn({},a),{},{className:o,ref:t,children:n}))}));Mj.defaultProps={tag:"button"};e.forwardRef((function(e,t){var n=e.children,r=e.bgColor,i=e.color,a=e.className,o=(0,Kg.Z)(e,PU),u=nU(r&&"bg-".concat(r),i&&"text-".concat(i),a);return(0,Kv.jsx)("footer",dn(dn({className:u},o),{},{ref:t,children:n}))})),e.forwardRef((function(e,t){var n=e.children,r=e.size,i=e.circle,a=e.center,o=e.end,u=e.start,s=e.className,l=(0,Kg.Z)(e,OU),c=nU("pagination",a&&"justify-content-center",i&&"pagination-circle",o&&"justify-content-end",r&&"pagination-".concat(r),u&&"justify-content-start",s);return(0,Kv.jsx)("ul",dn(dn({className:c},l),{},{ref:t,children:n}))}));var Tj=e.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.tag,a=(0,Kg.Z)(e,RU),o=nU("page-link",r);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:n}))}));Tj.defaultProps={tag:"a"};e.forwardRef((function(e,t){var n=e.children,r=e.className,i=e.active,a=e.disabled,o=(0,Kg.Z)(e,FU),u=nU("page-item",i&&"active",a&&"disabled",r);return(0,Kv.jsx)("li",dn(dn({className:u},o),{},{ref:t,children:n}))}));var Pj=e.forwardRef((function(e,t){var n,r=e.animated,i=e.children,a=e.className,o=e.style,u=e.tag,s=e.valuenow,l=e.valuemax,c=e.striped,f=e.bgColor,d=e.valuemin,h=e.width,p=(0,Kg.Z)(e,NU),v=nU("progress-bar",f&&"bg-".concat(f),c&&"progress-bar-striped",r&&"progress-bar-animated",a),m=dn({width:"".concat(h,"%")},o);return(0,Kv.jsx)(u,dn(dn({className:v,style:m,ref:t,role:"progressbar"},p),{},{"aria-valuenow":null!==(n=Number(h))&&void 0!==n?n:s,"aria-valuemin":Number(d),"aria-valuemax":Number(l),children:i}))}));Pj.defaultProps={tag:"div"};var Oj=e.forwardRef((function(t,n){var r=t.className,i=t.children,a=t.tag,o=t.height,u=t.style,s=(0,Kg.Z)(t,IU),l=nU("progress",r),c=dn({height:"".concat(o,"px")},u);return(0,Kv.jsx)(a,dn(dn({className:l,ref:n,style:c},s),{},{children:e.Children.map(i,(function(t){return e.isValidElement(t)&&t.type===Pj?t:void console.error("Progress component only allows ProgressBar as child")}))}))}));Oj.defaultProps={tag:"div"};var Rj=e.forwardRef((function(t,n){var r,i,o=t.className,u=t.size,s=t.contrast,l=t.value,c=t.defaultValue,f=t.id,d=t.labelClass,h=t.wrapperClass,p=t.wrapperStyle,v=t.wrapperTag,m=t.label,g=t.onChange,y=t.children,b=t.labelRef,_=t.labelStyle,x=t.type,w=t.onBlur,E=t.readonly,C=(0,Kg.Z)(t,BU),k=(0,e.useState)(l||c),S=(0,a.Z)(k,2),A=S[0],D=S[1],M=(0,e.useState)(0),T=(0,a.Z)(M,2),P=T[0],O=T[1],R=(0,e.useState)(!1),F=(0,a.Z)(R,2),N=F[0],I=F[1],B=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return B.current}));var L=(0,e.useRef)(null),z=b||L,U=nU("form-outline",s&&"form-white",h),j=nU("form-control",N&&"active","date"===x&&"active",u&&"form-control-".concat(u),o),W=nU("form-label",d);(0,e.useEffect)((function(){B.current&&(B.current.value.length>0?I(!0):I(!1))}),[null==(r=B.current)?void 0:r.value]),(0,e.useEffect)((function(){void 0!==l&&(l.toString().length>0?I(!0):I(!1))}),[l]),(0,e.useEffect)((function(){void 0!==c&&(c.toString().length>0?I(!0):I(!1))}),[c]);var Z=(0,e.useCallback)((function(){var e;null!=(e=z.current)&&e.clientWidth&&O(.8*z.current.clientWidth+8)}),[z]);(0,e.useEffect)((function(){Z()}),[null==(i=z.current)?void 0:i.clientWidth,Z]);var V=(0,e.useCallback)((function(e){B.current&&(void 0!==A&&A.toString().length>0||void 0!==l&&l.toString().length>0||B.current.value.length>0?I(!0):I(!1),w&&w(e))}),[A,l,w]);return(0,Kv.jsxs)(v,{className:U,style:p,children:[(0,Kv.jsx)("input",dn({type:x,readOnly:E,className:j,onBlur:V,onChange:function(e){D(e.target.value),null==g||g(e)},onFocus:Z,value:l,defaultValue:c,id:f,ref:B},C)),m&&(0,Kv.jsx)("label",{className:W,style:_,htmlFor:f,ref:z,children:m}),(0,Kv.jsxs)("div",{className:"form-notch",children:[(0,Kv.jsx)("div",{className:"form-notch-leading"}),(0,Kv.jsx)("div",{className:"form-notch-middle",style:{width:P}}),(0,Kv.jsx)("div",{className:"form-notch-trailing"})]}),y]})}));Rj.defaultProps={wrapperTag:"div",readonly:!1};var Fj=function(e){var t=e.className,n=e.inputRef,r=e.labelClass,i=e.wrapperClass,a=e.labelStyle,o=e.wrapperTag,u=e.wrapperStyle,s=e.label,l=e.inline,c=e.btn,f=e.id,d=e.btnColor,h=e.disableWrapper,p=e.toggleSwitch,v=(0,Kg.Z)(e,LU),m="form-check-input",g="form-check-label";c&&(m="btn-check",g=d?"btn btn-".concat(d):"btn btn-primary");var y=nU(s&&!c&&"form-check",l&&!c&&"form-check-inline",p&&"form-switch",i),b=nU(m,t),_=nU(g,r),x=(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)("input",dn({className:b,id:f,ref:n},v)),s&&(0,Kv.jsx)("label",{className:_,style:a,htmlFor:f,children:s})]});return(0,Kv.jsx)(Kv.Fragment,{children:h?x:(0,Kv.jsx)(o,{style:u,className:y,children:x})})};Fj.defaultProps={wrapperTag:"div"};var Nj=function(t){var n=t.className,r=t.children,i=t.show,o=t.id,u=t.navbar,s=t.tag,l=t.collapseRef,c=t.style,f=(0,Kg.Z)(t,zU),d=(0,e.useState)(!1),h=(0,a.Z)(d,2),p=h[0],v=h[1],m=(0,e.useState)(void 0),g=(0,a.Z)(m,2),y=g[0],b=g[1],_=(0,e.useState)(!1),x=(0,a.Z)(_,2),w=x[0],E=x[1],C=nU(w?"collapsing":"collapse",!w&&p&&"show",u&&"navbar-collapse",n),k=(0,e.useRef)(null),S=null!==l&&void 0!==l?l:k,A=(0,e.useCallback)((function(){p&&b(void 0)}),[p]);return(0,e.useEffect)((function(){var e;void 0===y&&p&&b(null==(e=null==S?void 0:S.current)?void 0:e.scrollHeight)}),[y,p,S]),(0,e.useEffect)((function(){v(i),p&&E(!0);var e=setTimeout((function(){E(!1)}),350);return function(){clearTimeout(e)}}),[i,p]),(0,e.useEffect)((function(){var e;b(p?null==(e=null==S?void 0:S.current)?void 0:e.scrollHeight:0)}),[p,S]),(0,e.useEffect)((function(){return window.addEventListener("resize",A),function(){window.removeEventListener("resize",A)}}),[A]),(0,Kv.jsx)(s,dn(dn({style:dn({height:y},c),id:o,className:C},f),{},{ref:S,children:r}))};Nj.defaultProps={tag:"div"};(0,e.createContext)(null);var Ij=e.forwardRef((function(e,t){var n=e.className,r=e.centered,i=e.children,a=e.size,o=e.scrollable,u=e.tag,s=(0,Kg.Z)(e,UU),l=nU("modal-dialog",o&&"modal-dialog-scrollable",r&&"modal-dialog-centered",a&&"modal-".concat(a),n);return(0,Kv.jsx)(u,dn(dn({className:l},s),{},{ref:t,children:i}))}));Ij.defaultProps={tag:"div"};var Bj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,jU),o=nU("modal-content",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));Bj.defaultProps={tag:"div"};var Lj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,WU),o=nU("modal-header",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));Lj.defaultProps={tag:"div"};var zj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,ZU),o=nU("modal-title",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));zj.defaultProps={tag:"h5"};var Uj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,VU),o=nU("modal-body",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));Uj.defaultProps={tag:"div"};var jj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.tag,a=(0,Kg.Z)(e,HU),o=nU("modal-footer",n);return(0,Kv.jsx)(i,dn(dn({className:o},a),{},{ref:t,children:r}))}));jj.defaultProps={tag:"div"};e.createContext({activeElement:null,setTargets:null});var Wj=function(t){var n=t.value,r=t.min,i=t.max,o=t.showThumb,u=Number(n),s=(0,e.useState)(100*(u||0-Number(r))/(Number(i)-Number(r))),l=(0,a.Z)(s,2),c=l[0],f=l[1],d=nU("thumb",o&&"thumb-active");return(0,e.useEffect)((function(){f(100*(Number(n)-Number(r))/(Number(i)-Number(r)))}),[n,i,r]),(0,Kv.jsx)("span",{className:d,style:{left:"calc(".concat(c,"% + (").concat(8-.15*c,"px))")},children:(0,Kv.jsx)("span",{className:"thumb-value",children:n})})};Wj.defaultProps={min:"0",max:"100"};var Zj=e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.noBorder,a=e.textBefore,o=e.textAfter,u=e.noWrap,s=e.tag,l=e.textTag,c=e.textClass,f=e.size,d=e.textProps,h=(0,Kg.Z)(e,GU),p=nU("input-group",u&&"flex-nowrap",f&&"input-group-".concat(f),n),v=nU("input-group-text",i&&"border-0",c),m=function(e){return(0,Kv.jsx)(Kv.Fragment,{children:e&&Array.isArray(e)?e.map((function(e,t){return(0,Kv.jsx)(l,dn(dn({className:v},d),{},{children:e}),t)})):(0,Kv.jsx)(l,dn(dn({className:v},d),{},{children:e}))})};return(0,Kv.jsxs)(s,dn(dn({className:p,ref:t},h),{},{children:[a&&m(a),r,o&&m(o)]}))}));Zj.defaultProps={tag:"div",textTag:"span"};var Vj=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.isValidated,u=t.onReset,s=t.onSubmit,l=(0,Kg.Z)(t,qU),c=(0,e.useState)(o),f=(0,a.Z)(c,2),d=f[0],h=f[1],p=nU("needs-validation",d&&"was-validated",r);return(0,Kv.jsx)("form",dn(dn({className:p,onSubmit:function(e){e.preventDefault(),h(!0),s&&s(e)},onReset:function(e){e.preventDefault(),h(!1),u&&u(e)},ref:n},l),{},{children:i}))}));Vj.defaultProps={noValidate:!0};e.forwardRef((function(e,t){var n=e.className,r=e.fill,i=e.pills,a=e.justify,o=e.children,u=(0,Kg.Z)(e,YU),s=nU("nav",i?"nav-pills":"nav-tabs",r&&"nav-fill",a&&"nav-justified",n);return(0,Kv.jsx)("ul",dn(dn({className:s,ref:t},u),{},{children:o}))})),e.forwardRef((function(e,t){var n=e.className,r=e.children,i=e.style,a=(0,Kg.Z)(e,XU),o=nU("nav-item",n);return(0,Kv.jsx)("li",dn(dn({className:o,style:dn({cursor:"pointer"},i),role:"presentation",ref:t},a),{},{children:r}))})),e.forwardRef((function(t,n){var r=t.className,i=t.color,a=t.active,o=t.onShow,u=t.onHide,s=t.children,l=(0,Kg.Z)(t,$U),c=nU("nav-link",a&&"active",i&&"bg-".concat(i),r);return(0,e.useEffect)((function(){a?null==o||o():null==u||u()}),[a]),(0,Kv.jsx)("a",dn(dn({className:c,ref:n},l),{},{children:s}))}));var Hj=e.forwardRef((function(e,t){var n=e.className,r=e.tag,i=e.children,a=(0,Kg.Z)(e,KU),o=nU("tab-content",n);return(0,Kv.jsx)(r,dn(dn({className:o,ref:t},a),{},{children:i}))}));Hj.defaultProps={tag:"div"};var Gj=e.forwardRef((function(t,n){var r=t.className,i=t.tag,o=t.show,u=t.children,s=(0,Kg.Z)(t,JU),l=(0,e.useState)(!1),c=(0,a.Z)(l,2),f=c[0],d=c[1],h=nU("tab-pane","fade",f&&"show",o&&"active",r);return(0,e.useEffect)((function(){var e;return o?e=setTimeout((function(){d(!0)}),100):d(!1),function(){clearTimeout(e)}}),[o]),(0,Kv.jsx)(i,dn(dn({className:h,role:"tabpanel",ref:n},s),{},{children:u}))}));Gj.defaultProps={tag:"div"};var qj=(0,e.createContext)({active:0}),Yj=function(t){var n=t.imagesCount,r=t.to,i=(0,e.useContext)(qj).active;return(0,Kv.jsx)("ol",{className:"carousel-indicators",children:Array.from(Array(n)).map((function(e,t){return(0,Kv.jsx)("li",{"data-mdb-target":t,className:nU(i===t&&"active"),onClick:function(){return r(t)}},t)}))})},Xj=function(e){var t=e.move;return(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsxs)("a",{role:"button",className:"carousel-control-prev",onClick:function(){return t("prev")},children:[(0,Kv.jsx)("span",{className:"carousel-control-prev-icon"}),(0,Kv.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),(0,Kv.jsxs)("a",{role:"button",className:"carousel-control-next",onClick:function(){return t("next")},children:[(0,Kv.jsx)("span",{className:"carousel-control-next-icon"}),(0,Kv.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})},$j=function(e){"function"==typeof e&&e()},Kj=function(e){if(!e)return 0;var t=window.getComputedStyle(e),n=t.transitionDuration,r=t.transitionDelay,i=Number.parseFloat(n),a=Number.parseFloat(r);return i||a?(n=n.split(",")[0],r=r.split(",")[0],1e3*(Number.parseFloat(n)+Number.parseFloat(r))):0},Jj=function(e,t){var n=!1,r=t+5;e.addEventListener("transitionend",(function t(){n=!0,e.removeEventListener("transitionend",t)})),setTimeout((function(){n||function(e){e.dispatchEvent(new Event("transitionend"))}(e)}),r)};(function(t){var n=t.fade,r=t.className,i=t.dark,o=t.children,u=t.interval,s=t.keyboard,l=t.touch,c=t.showControls,f=t.showIndicators,d=t.onSlide,h=(0,Kg.Z)(t,QU),p=(0,e.useRef)([]),v=(0,e.useRef)(null),m=(0,e.useRef)(0),g=(0,e.useRef)(!1),y=(0,e.useState)(0),b=(0,a.Z)(y,2),_=b[0],x=b[1],w=(0,e.useState)(0),E=(0,a.Z)(w,2),C=E[0],k=E[1],S=(0,e.useState)({initialX:0,initialY:0}),A=(0,a.Z)(S,2),D=A[0],M=A[1],T=(0,e.useState)(!1),P=(0,a.Z)(T,2),O=P[0],R=P[1],F=(0,e.useRef)(null),N=nU("carousel","slide",n&&"carousel-fade",i&&"carousel-dark",r),I=function(){v.current&&(clearInterval(v.current),v.current=null)},B=(0,e.useCallback)((function(e,t){if(void 0!==t)m.current=t,x(t);else{var n=_===C-1?0:_+1,r=0===_?C-1:_-1;m.current="next"===e?n:r,x("next"===e?n:r)}}),[_,C]),L=(0,e.useCallback)((function(e,t,n){var r;R(!0);var i=p.current[_],a=Boolean(v.current),o="next"===e,u=o?"carousel-item-start":"carousel-item-end",s=o?"carousel-item-next":"carousel-item-prev";t.classList.contains("active")?g.current=!1:(B(e,n),i&&t&&(g.current=!0,a&&I(),null!=(r=F.current)&&r.classList.contains("slide")?(t.classList.add(s),function(e){e.offsetHeight}(t),i.classList.add(u),t.classList.add(u),function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])$j(e);else{var n=Kj(t);t.addEventListener("transitionend",(function(){return $j(e)}),{once:!0}),Jj(t,n)}}((function(){R(!1),t.classList.remove(u,s),t.classList.add("active"),i.classList.remove("active",s,u),g.current=!1}),i,!0)):(i.classList.remove("active"),t.classList.add("active"),g.current=!1)))}),[F,_,B]),z=function(e){g.current||(g.current=!0,setTimeout((function(){g.current=!1}),e))},U=(0,e.useCallback)((function(e){var t="prev"===e,n=(m.current+(t?-1:1))%C,r=p.current;return-1===n?r[C-1]:r[n]}),[C]),j=(0,e.useCallback)((function(e){if(!g.current){z(600);var t=U(e);L(e,t)}}),[U,L]),W=(0,e.useCallback)((function(){var e=document,t=e.visibilityState,n=e.hidden;if(t)return n||!function(e){var t=getComputedStyle(e),n=getComputedStyle(null==e?void 0:e.parentNode);return"none"!==t.display&&"none"!==n.display&&"hidden"!==t.visibility}(F.current)?void 0:j("next");j("next")}),[F,j]),Z=(0,e.useCallback)((function(){v.current&&(clearInterval(v.current),v.current=null),v.current=setInterval(W,u)}),[W,u]),V=(0,e.useCallback)((function(e){switch(e.key){case"ArrowLeft":e.preventDefault(),j("prev");break;case"ArrowRight":e.preventDefault(),j("next")}}),[j]);return(0,e.useEffect)((function(){if(s)return window.addEventListener("keydown",V),function(){window.removeEventListener("keydown",V)}}),[V,s]),(0,e.useEffect)((function(){var e=function(e){return Array.from(null==e?void 0:e.querySelectorAll(".carousel-item"))}(F.current);p.current=e,k(e.length)}),[F]),(0,e.useEffect)((function(){null==d||d()}),[O,d]),(0,e.useEffect)((function(){Z()}),[Z]),(0,Kv.jsx)("div",dn(dn({onTouchStart:function(e){l&&M({initialX:e.touches[0].clientX,initialY:e.touches[0].clientY})},onTouchMove:function(e){g.current=!0;var t=D.initialX,n=D.initialY;if(t&&n){var r=t-e.touches[0].clientX,i=n-e.touches[0].clientY;Math.abs(r)>Math.abs(i)&&j(r>0?"prev":"next"),M({initialX:0,initialY:0})}},onTouchEnd:function(){g.current=!1},onMouseEnter:I,onMouseLeave:Z,className:N,ref:F},h),{},{children:(0,Kv.jsx)("div",{className:"carousel-inner",children:(0,Kv.jsxs)(qj.Provider,{value:{active:_},children:[f&&(0,Kv.jsx)(Yj,{to:function(e){if(!(g.current||(z(700),e>C-1||e<0))){var t=function(e){return{direction:e>m.current?"next":"prev",nextElement:p.current[e]}}(e),n=t.direction,r=t.nextElement;L(n,r,e)}},imagesCount:C}),o,c&&(0,Kv.jsx)(Xj,{move:j})]})})}))}).defaultProps={fade:!1,interval:5e3,touch:!0,keyboard:!1};var Qj=e.createContext({activeItem:0,setActiveItem:null,alwaysOpen:!1,initialActive:0}),eW=e.forwardRef((function(t,n){var r=t.alwaysOpen,i=t.borderless,o=t.className,u=t.flush,s=t.initialActive,l=t.tag,c=t.children,f=t.onChange,d=(0,Kg.Z)(t,ej),h=nU("accordion",u&&"accordion-flush",i&&"accordion-borderless",o),p=(0,e.useState)(s),v=(0,a.Z)(p,2),m=v[0],g=v[1];return(0,e.useEffect)((function(){m&&f&&f(m)}),[f,m]),(0,Kv.jsx)(l,dn(dn({className:h,ref:n},d),{},{children:(0,Kv.jsx)(Qj.Provider,{value:{activeItem:m,setActiveItem:g,alwaysOpen:r,initialActive:s},children:c})}))}));eW.defaultProps={tag:"div",initialActive:0};var tW=e.forwardRef((function(t,n){var r=t.className,i=t.bodyClassName,o=t.bodyStyle,u=t.headerClassName,s=t.collapseId,l=t.headerTitle,c=t.headerStyle,f=t.btnClassName,d=t.tag,h=t.children,p=(0,Kg.Z)(t,tj),v=(0,e.useContext)(Qj),m=v.activeItem,g=v.setActiveItem,y=v.alwaysOpen,b=v.initialActive,_=(0,e.useState)(b),x=(0,a.Z)(_,2),w=x[0],E=x[1],C=nU("accordion-item",r),k=nU("accordion-header",u),S=nU("accordion-body",i),A=nU("accordion-button",y?s!==w&&"collapsed":s!==m&&"collapsed",f);return(0,Kv.jsxs)(d,dn(dn({className:C,ref:n},p),{},{children:[(0,Kv.jsx)("h2",{className:k,style:c,children:(0,Kv.jsx)("button",{onClick:function(){return function(e){y?E(e!==w?e:0):g(e!==m?e:0)}(s)},className:A,type:"button",children:l})}),(0,Kv.jsx)(Nj,{id:s.toString(),show:y?w===s:m===s,children:(0,Kv.jsx)("div",{className:S,style:o,children:h})})]}))}));tW.defaultProps={tag:"div"};var nW=r(2426),rW=r.n(nW),iW=r(9962),aW=r.n(iW);var oW=function(){var t=em().currentUser,n=t?t.uid:null,r=Sv($v,"stories/".concat(n,"/timeline/")),i=(0,e.useState)([]),u=(0,a.Z)(i,2),s=u[0],l=u[1],c=(0,e.useState)(null),f=(0,a.Z)(c,2),d=f[0],h=f[1],p=(0,e.useState)(!1),v=(0,a.Z)(p,2),m=v[0],g=v[1],y=(0,e.useState)(!1),b=(0,a.Z)(y,2),_=b[0],x=b[1],w=(0,e.useState)(null),E=(0,a.Z)(w,2),C=E[0],k=E[1],S=(0,e.useState)({date:"",title:"",description:"",isMainEvent:!1}),A=(0,a.Z)(S,2),D=A[0],M=A[1],T=(0,e.useState)(!1),P=(0,a.Z)(T,2),O=P[0],R=P[1],F=[{index:0,date:"02/06/2022",title:"The First Murder",isMainEvent:!0,description:"Tom, a student at X university, is found dead in his room."},{index:1,date:"05/06/2022",title:"James Enters the Scene",isMainEvent:!1,description:"Tom's parents employ private detective James to find justice for their son."},{index:2,date:"07/06/2022",title:"Tom's Crime Scene",isMainEvent:!1,description:"James visits the crime scene."},{index:3,date:"08/06/2022",title:"The Second Murder",isMainEvent:!0,description:"Another student, Lea, is found dead in the kitchens."}];(0,e.useEffect)((function(){var e=Nv(r,(function(e){var t=e.val();if(t){var n=Object.keys(t).map((function(e,n){return dn(dn({},t[e]),{},{id:e,index:n})}));l(n)}else l(F)}));return function(){e()}}),[]);var N=function(){M({date:"",title:"",description:""}),R(!1)};return(0,Kv.jsxs)(nj,{fluid:!0,className:"py-5",children:[(0,Kv.jsx)(xj,{children:(0,Kv.jsx)(rj,{lg:"9",children:(0,Kv.jsxs)("div",{className:"horizontal-timeline",children:[(0,Kv.jsx)("div",{className:"position-relative",children:O?(0,Kv.jsxs)("div",{className:"position-relative",children:[(0,Kv.jsx)("div",{className:"event-date mb-2",children:(0,Kv.jsx)("input",{type:"text",className:"form-control",placeholder:"Date (dd/mm/yyyy)",value:D.date,onChange:function(e){return M(dn(dn({},D),{},{date:e.target.value}))},pattern:"\\d{2}/\\d{2}/\\d{4}",required:!0})}),(0,Kv.jsx)("div",{className:"pb-4",children:(0,Kv.jsx)("input",{type:"text",className:"form-control",placeholder:"Title",value:D.title,onChange:function(e){return M(dn(dn({},D),{},{title:e.target.value}))},required:!0})}),(0,Kv.jsx)("div",{className:"pb-4",children:(0,Kv.jsxs)("select",{className:"form-control",value:D.isMainEvent,onChange:function(e){return M(dn(dn({},D),{},{isMainEvent:"true"===e.target.value}))},children:[(0,Kv.jsx)("option",{value:!1,children:"Not a main event"}),(0,Kv.jsx)("option",{value:!0,children:"Main event"})]})}),(0,Kv.jsx)("div",{className:"pb-4",children:(0,Kv.jsx)("textarea",{className:"form-control",placeholder:"Description",value:D.description,onChange:function(e){return M(dn(dn({},D),{},{description:e.target.value}))},cols:"40",rows:"20",required:!0})}),(0,Kv.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Kv.jsx)(uj,{onClick:function(){if(rW()(D.date,"DD/MM/YYYY",!0).isValid()&&D.title&&D.description){l([].concat((0,o.Z)(s),[D]).sort((function(e,t){return rW()(e.date,"DD/MM/YYYY").diff(rW()(t.date,"DD/MM/YYYY"))}))),M({date:"",title:"",description:"",isMainEvent:!1}),R(!1);var e=Sv($v,"stories/".concat(n,"/timeline/"));Pv(jv(e)).then((function(t){t.exists()||Mv(e,{});var n=function(e,t){e=Kt(e),Np("push",e._path),Mp("push",t,e._path,!0);var n,r=qp(e._repo),i=mv(r),a=Av(e,i),o=Av(e,i);return n=null!=t?Mv(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}(e);Mv(n,D)})).catch((function(e){console.log(e)}))}},size:"sm",children:"Save"}),(0,Kv.jsx)(uj,{onClick:N,size:"sm",color:"secondary",children:"Cancel"})]}),(0,Kv.jsx)("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:N})]}):(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsx)(uj,{onClick:function(){R(!0)},size:"sm",className:"add-event-btn",children:"Add Event"}),(0,Kv.jsx)(uj,{onClick:function(){g(!m)},size:"sm",className:"delete-event-btn",children:m?"Done":"Delete Events"})]})}),(0,Kv.jsx)(aW(),{axis:"x",children:(0,Kv.jsx)(wj,{listInLine:!0,className:"items",children:s.sort((function(e,t){return rW()(e.date,"DD/MM/YYYY").diff(rW()(t.date,"DD/MM/YYYY"))})).map((function(e){return(0,Kv.jsx)("li",{className:"items-list",children:(0,Kv.jsxs)("div",{className:"px-4",children:[(0,Kv.jsxs)("div",{className:"circle ".concat(e.isMainEvent?"main-event":""," ").concat(m?"deleting":""),onClick:function(t){return function(e,t){m&&"delete-icon"===t&&(k(e),x(!0)),h(d===e.index?null:e.index)}(e,t.target.getAttribute("data-target"))},children:[m&&(0,Kv.jsx)(Fz.Z,{className:"delete-icon","data-target":"delete-icon",fontSize:"small"}),(0,Kv.jsx)("span",{className:"event-date",children:e.date}),(0,Kv.jsx)("br",{}),(0,Kv.jsx)("span",{className:"event-title",style:{fontWeight:"bold"},children:e.title})]}),d===e.index&&(0,Kv.jsx)("div",{className:"description-container",children:(0,Kv.jsx)("textarea",{cols:"40",rows:"20",className:"description",value:e.description,readOnly:!0})})]})},e.index)}))})})]})})}),(0,Kv.jsxs)(tb,{open:_,onClose:function(){return x(!1)},children:[(0,Kv.jsx)(db,{children:"Delete Event"}),(0,Kv.jsx)(ab,{children:(0,Kv.jsx)(cb,{children:"Are you sure you want to delete this event?"})}),(0,Kv.jsxs)(rb,{children:[(0,Kv.jsx)(uj,{color:"secondary",onClick:function(){return x(!1)},children:"No"}),(0,Kv.jsx)(uj,{color:"primary",onClick:function(){var e=s.filter((function(e){return e.id!==C.id}));l(e),Dv(Sv($v,"stories/".concat(n,"/timeline/").concat(C.id))),x(!1)},children:"Yes"})]})]})]})},uW=r(85),sW=r.n(uW),lW=r(8573),cW=r.n(lW),fW=r(3038),dW=r.n(fW);function hW(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function pW(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function vW(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return pW(n.overflowY,t)||pW(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function mW(e,t,n,r,i,a,o,u){return a<e&&o>t||a>e&&o<t?0:a<=e&&u<=n||o>=t&&u>=n?a-e-r:o>t&&u<n||a<e&&u>n?o-t+i:0}var gW=function(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,u=t.skipOverflowHiddenElements,s="function"==typeof o?o:function(e){return e!==o};if(!hW(e))throw new TypeError("Invalid target");for(var l,c,f=document.scrollingElement||document.documentElement,d=[],h=e;hW(h)&&s(h);){if((h=null==(c=(l=h).parentElement)?l.getRootNode().host||null:c)===f){d.push(h);break}null!=h&&h===document.body&&vW(h)&&!vW(document.documentElement)||null!=h&&vW(h,u)&&d.push(h)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,y=e.getBoundingClientRect(),b=y.height,_=y.width,x=y.top,w=y.right,E=y.bottom,C=y.left,k="start"===i||"nearest"===i?x:"end"===i?E:x+b/2,S="center"===a?C+_/2:"end"===a?w:C,A=[],D=0;D<d.length;D++){var M=d[D],T=M.getBoundingClientRect(),P=T.height,O=T.width,R=T.top,F=T.right,N=T.bottom,I=T.left;if("if-needed"===r&&x>=0&&C>=0&&E<=v&&w<=p&&x>=R&&E<=N&&C>=I&&w<=F)return A;var B=getComputedStyle(M),L=parseInt(B.borderLeftWidth,10),z=parseInt(B.borderTopWidth,10),U=parseInt(B.borderRightWidth,10),j=parseInt(B.borderBottomWidth,10),W=0,Z=0,V="offsetWidth"in M?M.offsetWidth-M.clientWidth-L-U:0,H="offsetHeight"in M?M.offsetHeight-M.clientHeight-z-j:0,G="offsetWidth"in M?0===M.offsetWidth?0:O/M.offsetWidth:0,q="offsetHeight"in M?0===M.offsetHeight?0:P/M.offsetHeight:0;if(f===M)W="start"===i?k:"end"===i?k-v:"nearest"===i?mW(g,g+v,v,z,j,g+k,g+k+b,b):k-v/2,Z="start"===a?S:"center"===a?S-p/2:"end"===a?S-p:mW(m,m+p,p,L,U,m+S,m+S+_,_),W=Math.max(0,W+g),Z=Math.max(0,Z+m);else{W="start"===i?k-R-z:"end"===i?k-N+j+H:"nearest"===i?mW(R,N,P,z,j+H,k,k+b,b):k-(R+P/2)+H/2,Z="start"===a?S-I-L:"center"===a?S-(I+O/2)+V/2:"end"===a?S-F+U+V:mW(I,F,O,L,U+V,S,S+_,_);var Y=M.scrollLeft,X=M.scrollTop;k+=X-(W=Math.max(0,Math.min(X+W/q,M.scrollHeight-P/q+H))),S+=Y-(Z=Math.max(0,Math.min(Y+Z/G,M.scrollWidth-O/G+V)))}A.push({el:M,top:W,left:Z})}return A};function yW(e){return e===Object(e)&&0!==Object.keys(e).length}var bW=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(yW(t)&&"function"===typeof t.behavior)return t.behavior(n?gW(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:yW(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(gW(e,r),r.behavior)}};function _W(e){return"[object Object]"===Object.prototype.toString.call(e)}function xW(e){var t,n;return!1!==_W(e)&&(void 0===(t=e.constructor)||!1!==_W(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}function wW(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function EW(e){return!!e&&!!e[cZ]}function CW(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===fZ}(e)||Array.isArray(e)||!!e[lZ]||!!(null===(t=e.constructor)||void 0===t?void 0:t[lZ])||PW(e)||OW(e))}function kW(e,t,n){void 0===n&&(n=!1),0===SW(e)?(n?Object.keys:dZ)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function SW(e){var t=e[cZ];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:PW(e)?2:OW(e)?3:0}function AW(e,t){return 2===SW(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function DW(e,t){return 2===SW(e)?e.get(t):e[t]}function MW(e,t,n){var r=SW(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function TW(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function PW(e){return aZ&&e instanceof Map}function OW(e){return oZ&&e instanceof Set}function RW(e){return e.o||e.t}function FW(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=hZ(e);delete t[cZ];for(var n=dZ(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function NW(e,t){return void 0===t&&(t=!1),BW(e)||EW(e)||!CW(e)||(SW(e)>1&&(e.set=e.add=e.clear=e.delete=IW),Object.freeze(e),t&&kW(e,(function(e,t){return NW(t,!0)}),!0)),e}function IW(){wW(2)}function BW(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function LW(e){var t=pZ[e];return t||wW(18,e),t}function zW(){return rZ}function UW(e,t){t&&(LW("Patches"),e.u=[],e.s=[],e.v=t)}function jW(e){WW(e),e.p.forEach(VW),e.p=null}function WW(e){e===rZ&&(rZ=e.l)}function ZW(e){return rZ={p:[],l:rZ,h:e,m:!0,_:0}}function VW(e){var t=e[cZ];0===t.i||1===t.i?t.j():t.g=!0}function HW(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||LW("ES5").S(t,e,r),r?(n[cZ].P&&(jW(t),wW(4)),CW(e)&&(e=GW(t,e),t.l||YW(t,e)),t.u&&LW("Patches").M(n[cZ].t,e,t.u,t.s)):e=GW(t,n,[]),jW(t),t.u&&t.v(t.u,t.s),e!==sZ?e:void 0}function GW(e,t,n){if(BW(t))return t;var r=t[cZ];if(!r)return kW(t,(function(i,a){return qW(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return YW(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=FW(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),kW(a,(function(t,a){return qW(e,r,i,t,a,n,o)})),YW(e,i,!1),n&&e.u&&LW("Patches").N(r,n,e.u,e.s)}return r.o}function qW(e,t,n,r,i,a,o){if(EW(i)){var u=GW(e,i,a&&t&&3!==t.i&&!AW(t.R,r)?a.concat(r):void 0);if(MW(n,r,u),!EW(u))return;e.m=!1}else o&&n.add(i);if(CW(i)&&!BW(i)){if(!e.h.D&&e._<1)return;GW(e,i),t&&t.A.l||YW(e,i)}}function YW(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&NW(t,n)}function XW(e,t){var n=e[cZ];return(n?RW(n):e)[t]}function $W(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function KW(e){e.P||(e.P=!0,e.l&&KW(e.l))}function JW(e){e.o||(e.o=FW(e.t))}function QW(e,t,n){var r=PW(t)?LW("MapSet").F(t,n):OW(t)?LW("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:zW(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=vZ;n&&(i=[r],a=mZ);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):LW("ES5").J(t,n);return(n?n.A:zW()).p.push(r),r}function eZ(e){return EW(e)||wW(22,e),function e(t){if(!CW(t))return t;var n,r=t[cZ],i=SW(t);if(r){if(!r.P&&(r.i<4||!LW("ES5").K(r)))return r.t;r.I=!0,n=tZ(t,i),r.I=!1}else n=tZ(t,i);return kW(n,(function(t,i){r&&DW(r.t,t)===i||MW(n,t,e(i))})),3===i?new Set(n):n}(e)}function tZ(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return FW(e)}var nZ,rZ,iZ="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),aZ="undefined"!=typeof Map,oZ="undefined"!=typeof Set,uZ="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,sZ=iZ?Symbol.for("immer-nothing"):((nZ={})["immer-nothing"]=!0,nZ),lZ=iZ?Symbol.for("immer-draftable"):"__$immer_draftable",cZ=iZ?Symbol.for("immer-state"):"__$immer_state",fZ=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),dZ="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,hZ=Object.getOwnPropertyDescriptors||function(e){var t={};return dZ(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},pZ={},vZ={get:function(e,t){if(t===cZ)return e;var n=RW(e);if(!AW(n,t))return function(e,t,n){var r,i=$W(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!CW(r)?r:r===XW(e.t,t)?(JW(e),e.o[t]=QW(e.A.h,r,e)):r},has:function(e,t){return t in RW(e)},ownKeys:function(e){return Reflect.ownKeys(RW(e))},set:function(e,t,n){var r=$W(RW(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=XW(RW(e),t),a=null==i?void 0:i[cZ];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(TW(n,i)&&(void 0!==n||AW(e.t,t)))return!0;JW(e),KW(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==XW(e.t,t)||t in e.t?(e.R[t]=!1,JW(e),KW(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=RW(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){wW(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){wW(12)}},mZ={};kW(vZ,(function(e,t){mZ[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),mZ.deleteProperty=function(e,t){return mZ.set.call(this,e,t,void 0)},mZ.set=function(e,t,n){return vZ.set.call(this,e[0],t,n,e[0])};var gZ=function(){function e(e){var t=this;this.O=uZ,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&wW(6),void 0!==r&&"function"!=typeof r&&wW(7),CW(e)){var u=ZW(t),s=QW(t,e,void 0),l=!0;try{o=n(s),l=!1}finally{l?jW(u):WW(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return UW(u,r),HW(e,u)}),(function(e){throw jW(u),e})):(UW(u,r),HW(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===sZ&&(o=void 0),t.D&&NW(o,!0),r){var c=[],f=[];LW("Patches").M(e,o,c,f),r(c,f)}return o}wW(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){CW(e)||wW(8),EW(e)&&(e=eZ(e));var t=ZW(this),n=QW(this,e,void 0);return n[cZ].C=!0,WW(t),n},t.finishDraft=function(e,t){var n=(e&&e[cZ]).A;return UW(n,t),HW(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!uZ&&wW(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=LW("Patches").$;return EW(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),yZ=new gZ,bZ=yZ.produce,_Z=(yZ.produceWithPatches.bind(yZ),yZ.setAutoFreeze.bind(yZ),yZ.setUseProxies.bind(yZ),yZ.applyPatches.bind(yZ),yZ.createDraft.bind(yZ)),xZ=yZ.finishDraft.bind(yZ),wZ=$e().mark(sH),EZ=$e().mark(pH),CZ=$e().mark(KH),kZ=function(e,t){var n=e.current,r=e.affinity;if(null!=n){var i=NZ.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}},SZ=function(e,t){var n=e.current,r=e.affinity;if(null!=n){var i=mV.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}},AZ=function(e,t){var n=e.current,r=e.affinity;if(null!=n){var i=qZ.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}},DZ=new WeakMap,MZ=new WeakMap,TZ=new WeakMap,PZ=new WeakMap,OZ=new WeakMap,RZ=new WeakMap,FZ=new WeakMap,NZ={ancestors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reverse,r=void 0!==n&&n,i=NZ.levels(e,t);return i=r?i.slice(1):i.slice(0,-1)},common:function(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter:function(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return NZ.equals(r,i)&&a>o},endsAt:function(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return NZ.equals(r,i)},endsBefore:function(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),a=e[n],o=t[n];return NZ.equals(r,i)&&a<o},equals:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},hasPrevious:function(e){return e[e.length-1]>0},isAfter:function(e,t){return 1===NZ.compare(e,t)},isAncestor:function(e,t){return e.length<t.length&&0===NZ.compare(e,t)},isBefore:function(e,t){return-1===NZ.compare(e,t)},isChild:function(e,t){return e.length===t.length+1&&0===NZ.compare(e,t)},isCommon:function(e,t){return e.length<=t.length&&0===NZ.compare(e,t)},isDescendant:function(e,t){return e.length>t.length&&0===NZ.compare(e,t)},isParent:function(e,t){return e.length+1===t.length&&0===NZ.compare(e,t)},isPath:function(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])},isSibling:function(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&NZ.equals(n,r)},levels:function(e){for(var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,n=void 0!==t&&t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next:function(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath:function(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent:function(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous:function(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative:function(e,t){if(!NZ.isAncestor(t,e)&&!NZ.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=(0,o.Z)(e),i=n.affinity,a=void 0===i?"forward":i;if(0===e.length)return r;switch(t.type){case"insert_node":var u=t.path;(NZ.equals(u,r)||NZ.endsBefore(u,r)||NZ.isAncestor(u,r))&&(r[u.length-1]+=1);break;case"remove_node":var s=t.path;if(NZ.equals(s,r)||NZ.isAncestor(s,r))return null;NZ.endsBefore(s,r)&&(r[s.length-1]-=1);break;case"merge_node":var l=t.path,c=t.position;NZ.equals(l,r)||NZ.endsBefore(l,r)?r[l.length-1]-=1:NZ.isAncestor(l,r)&&(r[l.length-1]-=1,r[l.length]+=c);break;case"split_node":var f=t.path,d=t.position;if(NZ.equals(f,r)){if("forward"===a)r[r.length-1]+=1;else if("backward"!==a)return null}else NZ.endsBefore(f,r)?r[f.length-1]+=1:NZ.isAncestor(f,r)&&e[f.length]>=d&&(r[f.length-1]+=1,r[f.length]-=d);break;case"move_node":var h=t.path,p=t.newPath;if(NZ.equals(h,p))return r;if(NZ.isAncestor(h,r)||NZ.equals(h,r)){var v=p.slice();return NZ.endsBefore(h,p)&&h.length<p.length&&(v[h.length-1]-=1),v.concat(r.slice(h.length))}NZ.isSibling(h,p)&&(NZ.isAncestor(p,r)||NZ.equals(p,r))?NZ.endsBefore(h,r)?r[h.length-1]-=1:r[h.length-1]+=1:NZ.endsBefore(p,r)||NZ.equals(p,r)||NZ.isAncestor(p,r)?(NZ.endsBefore(h,r)&&(r[h.length-1]-=1),r[p.length-1]+=1):NZ.endsBefore(h,r)&&(NZ.equals(p,r)&&(r[p.length-1]+=1),r[h.length-1]-=1)}return r}};function IZ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BZ(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zZ={transform:function(e,t){e.children=_Z(e.children);var n=e.selection&&_Z(e.selection);try{n=function(e,t,n){switch(n.type){case"insert_node":var r=n.path,i=n.node,u=QZ.parent(e,r),s=r[r.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(u.children.splice(s,0,i),t){var l,c=E(qZ.points(t));try{for(c.s();!(l=c.n()).done;){var f=(0,a.Z)(l.value,2),d=f[0];t[f[1]]=mV.transform(d,n)}}catch(Ve){c.e(Ve)}finally{c.f()}}break;case"insert_text":var h=n.path,p=n.offset,v=n.text;if(0===v.length)break;var m=QZ.leaf(e,h),g=m.text.slice(0,p),y=m.text.slice(p);if(m.text=g+v+y,t){var b,_=E(qZ.points(t));try{for(_.s();!(b=_.n()).done;){var x=(0,a.Z)(b.value,2),w=x[0];t[x[1]]=mV.transform(w,n)}}catch(Ve){_.e(Ve)}finally{_.f()}}break;case"merge_node":var C=n.path,k=QZ.get(e,C),S=NZ.previous(C),A=QZ.get(e,S),D=QZ.parent(e,C),M=C[C.length-1];if(fV.isText(k)&&fV.isText(A))A.text+=k.text;else{if(fV.isText(k)||fV.isText(A))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(C,"] to nodes of different interfaces: ").concat(yV.stringify(k)," ").concat(yV.stringify(A)));var T;(T=A.children).push.apply(T,(0,o.Z)(k.children))}if(D.children.splice(M,1),t){var P,O=E(qZ.points(t));try{for(O.s();!(P=O.n()).done;){var R=(0,a.Z)(P.value,2),F=R[0];t[R[1]]=mV.transform(F,n)}}catch(Ve){O.e(Ve)}finally{O.f()}}break;case"move_node":var N=n.path,I=n.newPath;if(NZ.isAncestor(N,I))throw new Error("Cannot move a path [".concat(N,"] to new path [").concat(I,"] because the destination is inside itself."));var B=QZ.get(e,N),L=QZ.parent(e,N),z=N[N.length-1];L.children.splice(z,1);var U=NZ.transform(N,n),j=QZ.get(e,NZ.parent(U)),W=U[U.length-1];if(j.children.splice(W,0,B),t){var Z,V=E(qZ.points(t));try{for(V.s();!(Z=V.n()).done;){var H=(0,a.Z)(Z.value,2),G=H[0];t[H[1]]=mV.transform(G,n)}}catch(Ve){V.e(Ve)}finally{V.f()}}break;case"remove_node":var q=n.path,Y=q[q.length-1];if(QZ.parent(e,q).children.splice(Y,1),t){var X,$=E(qZ.points(t));try{for($.s();!(X=$.n()).done;){var K=(0,a.Z)(X.value,2),J=K[0],Q=K[1],ee=mV.transform(J,n);if(null!=t&&null!=ee)t[Q]=ee;else{var te,ne=void 0,re=void 0,ie=E(QZ.texts(e));try{for(ie.s();!(te=ie.n()).done;){var ae=(0,a.Z)(te.value,2),oe=ae[0],ue=ae[1];if(-1!==NZ.compare(ue,q)){re=[oe,ue];break}ne=[oe,ue]}}catch(Ve){ie.e(Ve)}finally{ie.f()}var se=!1;ne&&re&&(se=NZ.equals(re[1],q)?!NZ.hasPrevious(re[1]):NZ.common(ne[1],q).length<NZ.common(re[1],q).length),ne&&!se?(J.path=ne[1],J.offset=ne[0].text.length):re?(J.path=re[1],J.offset=0):t=null}}}catch(Ve){$.e(Ve)}finally{$.f()}}break;case"remove_text":var le=n.path,ce=n.offset,fe=n.text;if(0===fe.length)break;var de=QZ.leaf(e,le),he=de.text.slice(0,ce),pe=de.text.slice(ce+fe.length);if(de.text=he+pe,t){var ve,me=E(qZ.points(t));try{for(me.s();!(ve=me.n()).done;){var ge=(0,a.Z)(ve.value,2),ye=ge[0];t[ge[1]]=mV.transform(ye,n)}}catch(Ve){me.e(Ve)}finally{me.f()}}break;case"set_node":var be=n.path,_e=n.properties,xe=n.newProperties;if(0===be.length)throw new Error("Cannot set properties on the root node!");var we=QZ.get(e,be);for(var Ee in xe){if("children"===Ee||"text"===Ee)throw new Error('Cannot set the "'.concat(Ee,'" property of nodes!'));var Ce=xe[Ee];null==Ce?delete we[Ee]:we[Ee]=Ce}for(var ke in _e)xe.hasOwnProperty(ke)||delete we[ke];break;case"set_selection":var Se=n.newProperties;if(null==Se)t=Se;else{if(null==t){if(!qZ.isRange(Se))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(yV.stringify(Se)," when there is no current selection."));t=LZ({},Se)}for(var Ae in Se){var De=Se[Ae];if(null==De){if("anchor"===Ae||"focus"===Ae)throw new Error('Cannot remove the "'.concat(Ae,'" selection property'));delete t[Ae]}else t[Ae]=De}}break;case"split_node":var Me=n.path,Te=n.position,Pe=n.properties;if(0===Me.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Me,"] because the root node cannot be split."));var Oe,Re=QZ.get(e,Me),Fe=QZ.parent(e,Me),Ne=Me[Me.length-1];if(fV.isText(Re)){var Ie=Re.text.slice(0,Te),Be=Re.text.slice(Te);Re.text=Ie,Oe=LZ(LZ({},Pe),{},{text:Be})}else{var Le=Re.children.slice(0,Te),ze=Re.children.slice(Te);Re.children=Le,Oe=LZ(LZ({},Pe),{},{children:ze})}if(Fe.children.splice(Ne+1,0,Oe),t){var Ue,je=E(qZ.points(t));try{for(je.s();!(Ue=je.n()).done;){var We=(0,a.Z)(Ue.value,2),Ze=We[0];t[We[1]]=mV.transform(Ze,n)}}catch(Ve){je.e(Ve)}finally{je.f()}}}return t}(e,n,t)}finally{e.children=xZ(e.children),e.selection=n?EW(n)?xZ(n):n:null}}},UZ={delete:function(e,t){e.delete(t)},insertFragment:function(e,t,n){e.insertFragment(t,n)},insertText:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};iV.withoutNormalizing(e,(function(){var r=n.voids,i=void 0!==r&&r,a=n.at,o=void 0===a?e.selection:a;if(o){if(NZ.isPath(o)&&(o=iV.range(e,o)),qZ.isRange(o))if(qZ.isCollapsed(o))o=o.anchor;else{var u=qZ.end(o);if(!i&&iV.void(e,{at:u}))return;var s=qZ.start(o),l=iV.pointRef(e,s),c=iV.pointRef(e,u);ZZ.delete(e,{at:o,voids:i});var f=l.unref(),d=c.unref();o=f||d,ZZ.setSelection(e,{anchor:o,focus:o})}if(!(!i&&iV.void(e,{at:o})||iV.elementReadOnly(e,{at:o}))){var h=o,p=h.path,v=h.offset;t.length>0&&e.apply({type:"insert_text",path:p,offset:v,text:t})}}}))}};function jZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jZ(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ZZ=WZ(WZ(WZ(WZ({},zZ),{insertNodes:function(e,t,n){e.insertNodes(t,n)},liftNodes:function(e,t){e.liftNodes(t)},mergeNodes:function(e,t){e.mergeNodes(t)},moveNodes:function(e,t){e.moveNodes(t)},removeNodes:function(e,t){e.removeNodes(t)},setNodes:function(e,t,n){e.setNodes(t,n)},splitNodes:function(e,t){e.splitNodes(t)},unsetNodes:function(e,t,n){e.unsetNodes(t,n)},unwrapNodes:function(e,t){e.unwrapNodes(t)},wrapNodes:function(e,t,n){e.wrapNodes(t,n)}}),{collapse:function(e,t){e.collapse(t)},deselect:function(e){e.deselect()},move:function(e,t){e.move(t)},select:function(e,t){e.select(t)},setPoint:function(e,t,n){e.setPoint(t,n)},setSelection:function(e,t){e.setSelection(t)}}),UZ);function VZ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var HZ=["anchor","focus"];function GZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qZ={edges:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).reverse,n=void 0!==t&&t,r=e.anchor,i=e.focus;return qZ.isBackward(e)===n?[r,i]:[i,r]},end:function(e){var t=qZ.edges(e),n=(0,a.Z)(t,2)[1];return n},equals:function(e,t){return mV.equals(e.anchor,t.anchor)&&mV.equals(e.focus,t.focus)},includes:function(e,t){if(qZ.isRange(t)){if(qZ.includes(e,t.anchor)||qZ.includes(e,t.focus))return!0;var n=qZ.edges(e),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=qZ.edges(t),s=(0,a.Z)(u,2),l=s[0],c=s[1];return mV.isBefore(i,l)&&mV.isAfter(o,c)}var f=qZ.edges(e),d=(0,a.Z)(f,2),h=d[0],p=d[1],v=!1,m=!1;return mV.isPoint(t)?(v=mV.compare(t,h)>=0,m=mV.compare(t,p)<=0):(v=NZ.compare(t,h.path)>=0,m=NZ.compare(t,p.path)<=0),v&&m},intersection:function(e,t){var n=VZ(e,HZ),r=qZ.edges(e),i=(0,a.Z)(r,2),o=i[0],u=i[1],s=qZ.edges(t),l=(0,a.Z)(s,2),c=l[0],f=l[1],d=mV.isBefore(o,c)?c:o,h=mV.isBefore(u,f)?u:f;return mV.isBefore(h,d)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GZ(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:d,focus:h},n)},isBackward:function(e){var t=e.anchor,n=e.focus;return mV.isAfter(t,n)},isCollapsed:function(e){var t=e.anchor,n=e.focus;return mV.equals(t,n)},isExpanded:function(e){return!qZ.isCollapsed(e)},isForward:function(e){return!qZ.isBackward(e)},isRange:function(e){return xW(e)&&mV.isPoint(e.anchor)&&mV.isPoint(e.focus)},points:$e().mark((function e(t){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[t.anchor,"anchor"];case 2:return e.next=4,[t.focus,"focus"];case 4:case"end":return e.stop()}}),e)})),start:function(e){var t=qZ.edges(e),n=(0,a.Z)(t,1)[0];return n},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return bZ(e,(function(e){if(null===e)return null;var r,i,a=n.affinity,o=void 0===a?"inward":a;if("inward"===o){var u=qZ.isCollapsed(e);qZ.isForward(e)?(r="forward",i=u?r:"backward"):(r="backward",i=u?r:"forward")}else"outward"===o?qZ.isForward(e)?(r="backward",i="forward"):(r="forward",i="backward"):(r=o,i=o);var s=mV.transform(e.anchor,t,{affinity:r}),l=mV.transform(e.focus,t,{affinity:i});if(!s||!l)return null;e.anchor=s,e.focus=l}))}},YZ=function(e){return xW(e)&&QZ.isNodeList(e.children)&&!iV.isEditor(e)},XZ={isAncestor:function(e){return xW(e)&&QZ.isNodeList(e.children)},isElement:YZ,isElementList:function(e){return Array.isArray(e)&&e.every((function(e){return XZ.isElement(e)}))},isElementProps:function(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return YZ(e)&&e[n]===t},matches:function(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},$Z=["children"],KZ=["text"],JZ=new WeakMap,QZ={ancestor:function(e,t){var n=QZ.get(e,t);if(fV.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(yV.stringify(n)));return n},ancestors:$e().mark((function e(t,n){var r,i,a,o,u,s,l=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=l.length>2&&void 0!==l[2]?l[2]:{},i=E(NZ.ancestors(n,r)),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=12;break}return o=a.value,u=QZ.ancestor(t,o),s=[u,o],e.next=10,s;case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),i.e(e.t0);case 17:return e.prev=17,i.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})),child:function(e,t){if(fV.isText(e))throw new Error("Cannot get the child of a text node: ".concat(yV.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(yV.stringify(e)));return n},children:$e().mark((function(e,t){var n,r,i,a,o,u,s,l=arguments;return $e().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:n=(l.length>2&&void 0!==l[2]?l[2]:{}).reverse,r=void 0!==n&&n,i=QZ.ancestor(e,t),a=i.children,o=r?a.length-1:0;case 5:if(!(r?o>=0:o<a.length)){c.next=13;break}return u=QZ.child(i,o),s=t.concat(o),c.next=10,[u,s];case 10:o=r?o-1:o+1,c.next=5;break;case 13:case"end":return c.stop()}}),a)})),common:function(e,t,n){var r=NZ.common(t,n);return[QZ.get(e,r),r]},descendant:function(e,t){var n=QZ.get(e,t);if(iV.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(yV.stringify(n)));return n},descendants:$e().mark((function e(t){var n,r,i,o,u,s,l=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=E(QZ.nodes(t,n)),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(o=(0,a.Z)(i.value,2),u=o[0],0===(s=o[1]).length){e.next=9;break}return e.next=9,[u,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),elements:$e().mark((function e(t){var n,r,i,o,u,s,l=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=E(QZ.nodes(t,n)),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(o=(0,a.Z)(i.value,2),u=o[0],s=o[1],!XZ.isElement(u)){e.next=9;break}return e.next=9,[u,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),extractProps:function(e){return XZ.isAncestor(e)?VZ(e,$Z):VZ(e,KZ)},first:function(e,t){for(var n=t.slice(),r=QZ.get(e,n);r&&!fV.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment:function(e,t){if(fV.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(yV.stringify(e)));var n=bZ({children:e.children},(function(e){var n,r=qZ.edges(t),i=(0,a.Z)(r,2),o=i[0],u=i[1],s=QZ.nodes(e,{reverse:!0,pass:function(e){var n=(0,a.Z)(e,2)[1];return!qZ.includes(t,n)}}),l=E(s);try{for(l.s();!(n=l.n()).done;){var c=(0,a.Z)(n.value,2)[1];if(!qZ.includes(t,c)){var f=QZ.parent(e,c),d=c[c.length-1];f.children.splice(d,1)}if(NZ.equals(c,u.path)){var h=QZ.leaf(e,c);h.text=h.text.slice(0,u.offset)}if(NZ.equals(c,o.path)){var p=QZ.leaf(e,c);p.text=p.text.slice(o.offset)}}}catch(v){l.e(v)}finally{l.f()}iV.isEditor(e)&&(e.selection=null)}));return n.children},get:function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(fV.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(yV.stringify(e)));n=n.children[i]}return n},has:function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(fV.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode:function(e){return fV.isText(e)||XZ.isElement(e)||iV.isEditor(e)},isNodeList:function(e){if(!Array.isArray(e))return!1;var t=JZ.get(e);if(void 0!==t)return t;var n=e.every((function(e){return QZ.isNode(e)}));return JZ.set(e,n),n},last:function(e,t){for(var n=t.slice(),r=QZ.get(e,n);r&&!fV.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf:function(e,t){var n=QZ.get(e,t);if(!fV.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(yV.stringify(n)));return n},levels:$e().mark((function e(t,n){var r,i,a,o,u,s=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=s.length>2&&void 0!==s[2]?s[2]:{},i=E(NZ.levels(n,r)),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=11;break}return o=a.value,u=QZ.get(t,o),e.next=9,[u,o];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),i.e(e.t0);case 16:return e.prev=16,i.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])})),matches:function(e,t){return XZ.isElement(e)&&XZ.isElementProps(t)&&XZ.matches(e,t)||fV.isText(e)&&fV.isTextProps(t)&&fV.matches(e,t)},nodes:$e().mark((function e(t){var n,r,i,a,o,u,s,l,c,f,d,h,p,v=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(n=v.length>1&&void 0!==v[1]?v[1]:{}).pass,i=n.reverse,a=void 0!==i&&i,o=n.from,u=void 0===o?[]:o,s=n.to,l=new Set,c=[],f=t;case 6:if(!s||!(a?NZ.isBefore(c,s):NZ.isAfter(c,s))){e.next=9;break}return e.abrupt("break",37);case 9:if(l.has(f)){e.next=12;break}return e.next=12,[f,c];case 12:if(l.has(f)||fV.isText(f)||0===f.children.length||null!=r&&!1!==r([f,c])){e.next=19;break}return l.add(f),d=a?f.children.length-1:0,NZ.isAncestor(c,u)&&(d=u[c.length]),c=c.concat(d),f=QZ.get(t,c),e.abrupt("continue",6);case 19:if(0!==c.length){e.next=21;break}return e.abrupt("break",37);case 21:if(a){e.next=27;break}if(h=NZ.next(c),!QZ.has(t,h)){e.next=27;break}return c=h,f=QZ.get(t,c),e.abrupt("continue",6);case 27:if(!a||0===c[c.length-1]){e.next=32;break}return p=NZ.previous(c),c=p,f=QZ.get(t,c),e.abrupt("continue",6);case 32:c=NZ.parent(c),f=QZ.get(t,c),l.add(f),e.next=6;break;case 37:case"end":return e.stop()}}),e)})),parent:function(e,t){var n=NZ.parent(t),r=QZ.get(e,n);if(fV.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:function(e){return fV.isText(e)?e.text:e.children.map(QZ.string).join("")},texts:$e().mark((function e(t){var n,r,i,o,u,s,l=arguments;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},r=E(QZ.nodes(t,n)),e.prev=2,r.s();case 4:if((i=r.n()).done){e.next=11;break}if(o=(0,a.Z)(i.value,2),u=o[0],s=o[1],!fV.isText(u)){e.next=9;break}return e.next=9,[u,s];case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[2,13,16,19]])}))};function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nV={isNodeOperation:function(e){return nV.isOperation(e)&&e.type.endsWith("_node")},isOperation:function(e){if(!xW(e))return!1;switch(e.type){case"insert_node":case"remove_node":return NZ.isPath(e.path)&&QZ.isNode(e.node);case"insert_text":case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&NZ.isPath(e.path);case"merge_node":return"number"===typeof e.position&&NZ.isPath(e.path)&&xW(e.properties);case"move_node":return NZ.isPath(e.path)&&NZ.isPath(e.newPath);case"set_node":return NZ.isPath(e.path)&&xW(e.properties)&&xW(e.newProperties);case"set_selection":return null===e.properties&&qZ.isRange(e.newProperties)||null===e.newProperties&&qZ.isRange(e.properties)||xW(e.properties)&&xW(e.newProperties);case"split_node":return NZ.isPath(e.path)&&"number"===typeof e.position&&xW(e.properties);default:return!1}},isOperationList:function(e){return Array.isArray(e)&&e.every((function(e){return nV.isOperation(e)}))},isSelectionOperation:function(e){return nV.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation:function(e){return nV.isOperation(e)&&e.type.endsWith("_text")},inverse:function(e){switch(e.type){case"insert_node":return tV(tV({},e),{},{type:"remove_node"});case"insert_text":return tV(tV({},e),{},{type:"remove_text"});case"merge_node":return tV(tV({},e),{},{type:"split_node",path:NZ.previous(e.path)});case"move_node":var t=e.newPath,n=e.path;if(NZ.equals(t,n))return e;if(NZ.isSibling(n,t))return tV(tV({},e),{},{path:t,newPath:n});var r=NZ.transform(n,e),i=NZ.transform(NZ.next(n),e);return tV(tV({},e),{},{path:r,newPath:i});case"remove_node":return tV(tV({},e),{},{type:"insert_node"});case"remove_text":return tV(tV({},e),{},{type:"insert_text"});case"set_node":var a=e.properties,o=e.newProperties;return tV(tV({},e),{},{properties:o,newProperties:a});case"set_selection":var u=e.properties,s=e.newProperties;return tV(tV({},e),{},null==u?{properties:s,newProperties:null}:null==s?{properties:null,newProperties:u}:{properties:s,newProperties:u});case"split_node":return tV(tV({},e),{},{type:"merge_node",path:NZ.next(e.path)})}}},rV=new WeakMap,iV={above:function(e,t){return e.above(t)},addMark:function(e,t,n){e.addMark(t,n)},after:function(e,t,n){return e.after(t,n)},before:function(e,t,n){return e.before(t,n)},deleteBackward:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===t?"character":t;e.deleteBackward(n)},deleteForward:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).unit,n=void 0===t?"character":t;e.deleteForward(n)},deleteFragment:function(e,t){e.deleteFragment(t)},edges:function(e,t){return e.edges(t)},elementReadOnly:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.elementReadOnly(t)},end:function(e,t){return e.end(t)},first:function(e,t){return e.first(t)},fragment:function(e,t){return e.fragment(t)},hasBlocks:function(e,t){return e.hasBlocks(t)},hasInlines:function(e,t){return e.hasInlines(t)},hasPath:function(e,t){return e.hasPath(t)},hasTexts:function(e,t){return e.hasTexts(t)},insertBreak:function(e){e.insertBreak()},insertFragment:function(e,t){e.insertFragment(t)},insertNode:function(e,t){e.insertNode(t)},insertSoftBreak:function(e){e.insertSoftBreak()},insertText:function(e,t){e.insertText(t)},isBlock:function(e,t){return e.isBlock(t)},isEdge:function(e,t,n){return e.isEdge(t,n)},isEditor:function(e){return function(e){var t=rV.get(e);if(void 0!==t)return t;if(!xW(e))return!1;var n="function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertSoftBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isElementReadOnly&&"function"===typeof e.isInline&&"function"===typeof e.isSelectable&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&"function"===typeof e.getDirtyPaths&&(null===e.marks||xW(e.marks))&&(null===e.selection||qZ.isRange(e.selection))&&QZ.isNodeList(e.children)&&nV.isOperationList(e.operations);return rV.set(e,n),n}(e)},isElementReadOnly:function(e,t){return e.isElementReadOnly(t)},isEmpty:function(e,t){return e.isEmpty(t)},isEnd:function(e,t,n){return e.isEnd(t,n)},isInline:function(e,t){return e.isInline(t)},isNormalizing:function(e){return e.isNormalizing()},isSelectable:function(e,t){return e.isSelectable(t)},isStart:function(e,t,n){return e.isStart(t,n)},isVoid:function(e,t){return e.isVoid(t)},last:function(e,t){return e.last(t)},leaf:function(e,t,n){return e.leaf(t,n)},levels:function(e,t){return e.levels(t)},marks:function(e){return e.getMarks()},next:function(e,t){return e.next(t)},node:function(e,t,n){return e.node(t,n)},nodes:function(e,t){return e.nodes(t)},normalize:function(e,t){e.normalize(t)},parent:function(e,t,n){return e.parent(t,n)},path:function(e,t,n){return e.path(t,n)},pathRef:function(e,t,n){return e.pathRef(t,n)},pathRefs:function(e){return e.pathRefs()},point:function(e,t,n){return e.point(t,n)},pointRef:function(e,t,n){return e.pointRef(t,n)},pointRefs:function(e){return e.pointRefs()},positions:function(e,t){return e.positions(t)},previous:function(e,t){return e.previous(t)},range:function(e,t,n){return e.range(t,n)},rangeRef:function(e,t,n){return e.rangeRef(t,n)},rangeRefs:function(e){return e.rangeRefs()},removeMark:function(e,t){e.removeMark(t)},setNormalizing:function(e,t){e.setNormalizing(t)},start:function(e,t){return e.start(t)},string:function(e,t,n){return e.string(t,n)},unhangRange:function(e,t,n){return e.unhangRange(t,n)},void:function(e,t){return e.void(t)},withoutNormalizing:function(e,t){e.withoutNormalizing(t)}},aV=function(e,t){var n,r=E(iV.pathRefs(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;kZ(i,t)}}catch(x){r.e(x)}finally{r.f()}var a,o=E(iV.pointRefs(e));try{for(o.s();!(a=o.n()).done;){var u=a.value;SZ(u,t)}}catch(x){o.e(x)}finally{o.f()}var s,l=E(iV.rangeRefs(e));try{for(l.s();!(s=l.n()).done;){var c=s.value;AZ(c,t)}}catch(x){l.e(x)}finally{l.f()}var f,d,h=DZ.get(e)||[],p=MZ.get(e)||new Set,v=function(e){if(e){var t=e.join(",");d.has(t)||(d.add(t),f.push(e))}};if(NZ.operationCanTransformPath(t)){f=[],d=new Set;var m,g=E(h);try{for(g.s();!(m=g.n()).done;){var y=m.value;v(NZ.transform(y,t))}}catch(x){g.e(x)}finally{g.f()}}else f=h,d=p;var b,_=E(e.getDirtyPaths(t));try{for(_.s();!(b=_.n()).done;){v(b.value)}}catch(x){_.e(x)}finally{_.f()}DZ.set(e,f),MZ.set(e,d),ZZ.transform(e,t),e.operations.push(t),iV.normalize(e,{operation:t}),"set_selection"===t.type&&(e.marks=null),TZ.get(e)||(TZ.set(e,!0),Promise.resolve().then((function(){TZ.set(e,!1),e.onChange({operation:t}),e.operations=[]})))},oV=function e(t,n){for(var r in t){var i=t[r],a=n[r];if(xW(i)&&xW(a)){if(!e(i,a))return!1}else if(Array.isArray(i)&&Array.isArray(a)){if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(i[o]!==a[o])return!1}else if(i!==a)return!1}for(var u in n)if(void 0===t[u]&&void 0!==n[u])return!1;return!0},uV=["text"],sV=["anchor","focus"];function lV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fV={equals:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).loose,r=void 0!==n&&n;function i(e){return VZ(e,uV)}return oV(r?i(e):e,r?i(t):t)},isText:function(e){return xW(e)&&"string"===typeof e.text},isTextList:function(e){return Array.isArray(e)&&e.every((function(e){return fV.isText(e)}))},isTextProps:function(e){return void 0!==e.text},matches:function(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations:function(e,t){var n,r=[cV({},e)],i=E(t);try{for(i.s();!(n=i.n()).done;){var o,u=n.value,s=VZ(u,sV),l=qZ.edges(u),c=(0,a.Z)(l,2),f=c[0],d=c[1],h=[],p=0,v=f.offset,m=d.offset,g=E(r);try{for(g.s();!(o=g.n()).done;){var y=o.value,b=y.text.length,_=p;if(p+=b,v<=_&&p<=m)Object.assign(y,s),h.push(y);else if(v!==m&&(v===p||m===_)||v>p||m<_||m===_&&0!==_)h.push(y);else{var x=y,w=void 0,C=void 0;if(m<p){var k=m-_;C=cV(cV({},x),{},{text:x.text.slice(k)}),x=cV(cV({},x),{},{text:x.text.slice(0,k)})}if(v>_){var S=v-_;w=cV(cV({},x),{},{text:x.text.slice(0,S)}),x=cV(cV({},x),{},{text:x.text.slice(S)})}Object.assign(x,s),w&&h.push(w),h.push(x),C&&h.push(C)}}}catch(A){g.e(A)}finally{g.f()}r=h}}catch(A){i.e(A)}finally{i.f()}return r}},dV=function(e,t){switch(t.type){case"insert_text":case"remove_text":case"set_node":var n=t.path;return NZ.levels(n);case"insert_node":var r=t.node,i=t.path,u=NZ.levels(i),s=fV.isText(r)?[]:Array.from(QZ.nodes(r),(function(e){var t=(0,a.Z)(e,2)[1];return i.concat(t)}));return[].concat((0,o.Z)(u),(0,o.Z)(s));case"merge_node":var l=t.path,c=NZ.ancestors(l),f=NZ.previous(l);return[].concat((0,o.Z)(c),[f]);case"move_node":var d=t.path,h=t.newPath;if(NZ.equals(d,h))return[];var p,v=[],m=[],g=E(NZ.ancestors(d));try{for(g.s();!(p=g.n()).done;){var y=p.value,b=NZ.transform(y,t);v.push(b)}}catch(R){g.e(R)}finally{g.f()}var _,x=E(NZ.ancestors(h));try{for(x.s();!(_=x.n()).done;){var w=_.value,C=NZ.transform(w,t);m.push(C)}}catch(R){x.e(R)}finally{x.f()}var k=m[m.length-1],S=h[h.length-1],A=k.concat(S);return[].concat(v,m,[A]);case"remove_node":var D=t.path,M=NZ.ancestors(D);return(0,o.Z)(M);case"split_node":var T=t.path,P=NZ.levels(T),O=NZ.next(T);return[].concat((0,o.Z)(P),[O]);default:return[]}},hV={isSpan:function(e){return Array.isArray(e)&&2===e.length&&e.every(NZ.isPath)}};function pV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mV={compare:function(e,t){var n=NZ.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:function(e,t){return 1===mV.compare(e,t)},isBefore:function(e,t){return-1===mV.compare(e,t)},equals:function(e,t){return e.offset===t.offset&&NZ.equals(e.path,t.path)},isPoint:function(e){return xW(e)&&"number"===typeof e.offset&&NZ.isPath(e.path)},transform:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return bZ(e,(function(e){if(null===e)return null;var r=n.affinity,i=void 0===r?"forward":r,a=e.path,o=e.offset;switch(t.type){case"insert_node":case"move_node":e.path=NZ.transform(a,t,n);break;case"insert_text":NZ.equals(t.path,a)&&(t.offset<o||t.offset===o&&"forward"===i)&&(e.offset+=t.text.length);break;case"merge_node":NZ.equals(t.path,a)&&(e.offset+=t.position),e.path=NZ.transform(a,t,n);break;case"remove_text":NZ.equals(t.path,a)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(NZ.equals(t.path,a)||NZ.isAncestor(t.path,a))return null;e.path=NZ.transform(a,t,n);break;case"split_node":if(NZ.equals(t.path,a)){if(t.position===o&&null==i)return null;(t.position<o||t.position===o&&"forward"===i)&&(e.offset-=t.position,e.path=NZ.transform(a,t,vV(vV({},n),{},{affinity:"forward"})))}else e.path=NZ.transform(a,t,n)}}))}},gV=void 0,yV={setScrubber:function(e){gV=e},stringify:function(e){return JSON.stringify(e,gV)}},bV=function(e){var t=e.selection;return t?QZ.fragment(e,t):[]},_V=function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];if(!fV.isText(r))if(XZ.isElement(r)&&0===r.children.length){ZZ.insertNodes(e,{text:""},{at:i.concat(0),voids:!0})}else for(var o=!iV.isEditor(r)&&(XZ.isElement(r)&&(e.isInline(r)||0===r.children.length||fV.isText(r.children[0])||e.isInline(r.children[0]))),u=0,s=0;s<r.children.length;s++,u++){var l=QZ.get(e,i);if(!fV.isText(l)){var c=l.children[u],f=l.children[u-1],d=s===r.children.length-1;if((fV.isText(c)||XZ.isElement(c)&&e.isInline(c))!==o)ZZ.removeNodes(e,{at:i.concat(u),voids:!0}),u--;else if(XZ.isElement(c)){if(e.isInline(c))if(null!=f&&fV.isText(f)){if(d){ZZ.insertNodes(e,{text:""},{at:i.concat(u+1),voids:!0}),u++}}else{ZZ.insertNodes(e,{text:""},{at:i.concat(u),voids:!0}),u++}}else null!=f&&fV.isText(f)&&(fV.equals(c,f,{loose:!0})?(ZZ.mergeNodes(e,{at:i.concat(u),voids:!0}),u--):""===f.text?(ZZ.removeNodes(e,{at:i.concat(u-1),voids:!0}),u--):""===c.text&&(ZZ.removeNodes(e,{at:i.concat(u),voids:!0}),u--))}}},xV=function(e,t){var n=t.iteration,r=42*t.initialDirtyPathsLength;if(n>r)throw new Error("Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},wV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.voids,r=void 0!==n&&n,i=t.mode,o=void 0===i?"lowest":i,u=t.at,s=void 0===u?e.selection:u,l=t.match;if(s){var c,f=iV.path(e,s),d="lowest"===o,h=E(iV.levels(e,{at:f,voids:r,match:l,reverse:d}));try{for(h.s();!(c=h.n()).done;){var p=(0,a.Z)(c.value,2),v=p[0],m=p[1];if(!fV.isText(v))if(qZ.isRange(s)){if(NZ.isAncestor(m,s.anchor.path)&&NZ.isAncestor(m,s.focus.path))return[v,m]}else if(!NZ.equals(f,m))return[v,m]}}catch(g){h.e(g)}finally{h.f()}}};function EV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kV=function(e,t,n){var r=e.selection;if(r){var i=function(t,n){if(!fV.isText(t))return!1;var r=iV.parent(e,n),i=(0,a.Z)(r,2),o=i[0];i[1];return!e.isVoid(o)||e.markableVoid(o)},o=qZ.isExpanded(r),u=!1;if(!o){var s=iV.node(e,r),l=(0,a.Z)(s,2),c=l[0],f=l[1];if(c&&i(c,f)){var d=iV.parent(e,f),h=(0,a.Z)(d,1)[0];u=h&&e.markableVoid(h)}}if(o||u)ZZ.setNodes(e,(0,Qe.Z)({},t,n),{match:i,split:!0,voids:!0});else{var p=CV(CV({},iV.marks(e)||{}),{},(0,Qe.Z)({},t,n));e.marks=p,TZ.get(e)||e.onChange()}}};function SV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var DV=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:iV.point(e,t,{edge:"end"}),focus:iV.end(e,[])},o=i.distance,u=void 0===o?1:o,s=0,l=E(iV.positions(e,AV(AV({},i),{},{at:a})));try{for(l.s();!(r=l.n()).done;){var c=r.value;if(s>u)break;0!==s&&(n=c),s++}}catch(f){l.e(f)}finally{l.f()}return n};function MV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PV=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={anchor:iV.start(e,[]),focus:iV.point(e,t,{edge:"start"})},o=i.distance,u=void 0===o?1:o,s=0,l=E(iV.positions(e,TV(TV({},i),{},{at:a,reverse:!0})));try{for(l.s();!(r=l.n()).done;){var c=r.value;if(s>u)break;0!==s&&(n=c),s++}}catch(f){l.e(f)}finally{l.f()}return n},OV=function(e,t){var n=e.selection;n&&qZ.isCollapsed(n)&&ZZ.delete(e,{unit:t,reverse:!0})},RV=function(e,t){var n=e.selection;n&&qZ.isCollapsed(n)&&ZZ.delete(e,{unit:t})},FV=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).direction,n=void 0===t?"forward":t,r=e.selection;r&&qZ.isExpanded(r)&&ZZ.delete(e,{reverse:"backward"===n})},NV=function(e,t){return[iV.start(e,t),iV.end(e,t)]};function IV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return iV.above(e,BV(BV({},t),{},{match:function(t){return XZ.isElement(t)&&iV.isElementReadOnly(e,t)}}))},zV=function(e,t){return iV.point(e,t,{edge:"end"})},UV=function(e,t){var n=iV.path(e,t,{edge:"start"});return iV.node(e,n)},jV=function(e,t){var n=iV.range(e,t);return QZ.fragment(e,n)};function WV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VV=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return iV.above(e,ZV(ZV({},t),{},{match:function(t){return XZ.isElement(t)&&iV.isVoid(e,t)}}))},HV=function(e,t){return t.children.some((function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}))},GV=function(e,t){return t.children.some((function(t){return fV.isText(t)||iV.isInline(e,t)}))},qV=function(e,t){return QZ.has(e,t)},YV=function(e,t){return t.children.every((function(e){return fV.isText(e)}))},XV=function(e){ZZ.splitNodes(e,{always:!0})},$V=function(e,t){ZZ.insertNodes(e,t)},KV=function(e){ZZ.splitNodes(e,{always:!0})};function JV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var QV=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.selection,i=e.marks;if(r){if(i){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JV(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({text:t},i);ZZ.insertNodes(e,a)}else ZZ.insertText(e,t,n);e.marks=null}},eH=function(e,t){return!e.isInline(t)},tH=function(e,t,n){return iV.isStart(e,t,n)||iV.isEnd(e,t,n)},nH=function(e,t){var n=t.children,r=(0,a.Z)(n,1)[0];return 0===n.length||1===n.length&&fV.isText(r)&&""===r.text&&!e.isVoid(t)},rH=function(e,t,n){var r=iV.end(e,n);return mV.equals(t,r)},iH=function(e){var t=PZ.get(e);return void 0===t||t},aH=function(e,t,n){if(0!==t.offset)return!1;var r=iV.start(e,n);return mV.equals(t,r)},oH=function(e,t){var n=iV.path(e,t,{edge:"end"});return iV.node(e,n)},uH=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=iV.path(e,t,n);return[QZ.leaf(e,r),r]};function sH(e){var t,n,r,i,o,u,s,l,c,f,d,h,p,v,m,g=arguments;return $e().wrap((function(y){for(;;)switch(y.prev=y.next){case 0:if(n=(t=g.length>1&&void 0!==g[1]?g[1]:{}).at,r=void 0===n?e.selection:n,i=t.reverse,o=void 0!==i&&i,u=t.voids,s=void 0!==u&&u,null==(l=t.match)&&(l=function(){return!0}),r){y.next=6;break}return y.abrupt("return");case 6:c=[],f=iV.path(e,r),d=E(QZ.levels(e,f)),y.prev=9,d.s();case 11:if((h=d.n()).done){y.next=20;break}if(p=(0,a.Z)(h.value,2),v=p[0],m=p[1],l(v,m)){y.next=15;break}return y.abrupt("continue",18);case 15:if(c.push([v,m]),s||!XZ.isElement(v)||!iV.isVoid(e,v)){y.next=18;break}return y.abrupt("break",20);case 18:y.next=11;break;case 20:y.next=25;break;case 22:y.prev=22,y.t0=y.catch(9),d.e(y.t0);case 25:return y.prev=25,d.f(),y.finish(25);case 28:return o&&c.reverse(),y.delegateYield(c,"t1",30);case 30:case"end":return y.stop()}}),wZ,null,[[9,22,25,28]])}var lH=["text"],cH=["text"],fH=function(e){var t=e.marks,n=e.selection;if(!n)return null;if(t)return t;if(qZ.isExpanded(n)){var r=iV.nodes(e,{match:fV.isText}),i=(0,a.Z)(r,1)[0];return i?VZ((0,a.Z)(i,1)[0],lH):{}}var o=n.anchor,u=o.path,s=iV.leaf(e,u),l=(0,a.Z)(s,1)[0];if(0===o.offset){var c=iV.previous(e,{at:u,match:fV.isText}),f=iV.above(e,{match:function(t){return XZ.isElement(t)&&iV.isVoid(e,t)&&e.markableVoid(t)}});if(!f){var d=iV.above(e,{match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}});if(c&&d){var h=(0,a.Z)(c,2),p=h[0],v=h[1],m=(0,a.Z)(d,2)[1];NZ.isAncestor(m,v)&&(l=p)}}}return VZ(l,cH)},dH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,i=t.voids,o=void 0!==i&&i,u=t.match,s=t.at,l=void 0===s?e.selection:s;if(l){var c=iV.after(e,l,{voids:o});if(c){var f=iV.last(e,[]),d=(0,a.Z)(f,2)[1],h=[c.path,d];if(NZ.isPath(l)&&0===l.length)throw new Error("Cannot get the next node from the root node!");if(null==u)if(NZ.isPath(l)){var p=iV.parent(e,l),v=(0,a.Z)(p,1)[0];u=function(e){return v.children.includes(e)}}else u=function(){return!0};var m=iV.nodes(e,{at:h,match:u,mode:r,voids:o}),g=(0,a.Z)(m,1)[0];return g}}},hH=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=iV.path(e,t,n),i=QZ.get(e,r);return[i,r]};function pH(e){var t,n,r,i,o,u,s,l,c,f,d,h,p,v,m,g,y,b,_,x,w,C,k,S,A,D,M,T,P=arguments;return $e().wrap((function(O){for(;;)switch(O.prev=O.next){case 0:if(n=(t=P.length>1&&void 0!==P[1]?P[1]:{}).at,r=void 0===n?e.selection:n,i=t.mode,o=void 0===i?"all":i,u=t.universal,s=void 0!==u&&u,l=t.reverse,c=void 0!==l&&l,f=t.voids,d=void 0!==f&&f,h=t.ignoreNonSelectable,p=void 0!==h&&h,(v=t.match)||(v=function(){return!0}),r){O.next=6;break}return O.abrupt("return");case 6:hV.isSpan(r)?(m=r[0],g=r[1]):(y=iV.path(e,r,{edge:"start"}),b=iV.path(e,r,{edge:"end"}),m=c?b:y,g=c?y:b),_=QZ.nodes(e,{reverse:c,from:m,to:g,pass:function(t){var n=(0,a.Z)(t,1)[0];return!!XZ.isElement(n)&&(!(d||!iV.isVoid(e,n)&&!iV.isElementReadOnly(e,n))||!(!p||iV.isSelectable(e,n)))}}),x=[],C=E(_),O.prev=10,C.s();case 12:if((k=C.n()).done){O.next=39;break}if(S=(0,a.Z)(k.value,2),A=S[0],D=S[1],!p||!XZ.isElement(A)||iV.isSelectable(e,A)){O.next=16;break}return O.abrupt("continue",37);case 16:if(M=w&&0===NZ.compare(D,w[1]),"highest"!==o||!M){O.next=19;break}return O.abrupt("continue",37);case 19:if(v(A,D)){O.next=25;break}if(!s||M||!fV.isText(A)){O.next=24;break}return O.abrupt("return");case 24:return O.abrupt("continue",37);case 25:if("lowest"!==o||!M){O.next=28;break}return w=[A,D],O.abrupt("continue",37);case 28:if(!(T="lowest"===o?w:[A,D])){O.next=36;break}if(!s){O.next=34;break}x.push(T),O.next=36;break;case 34:return O.next=36,T;case 36:w=[A,D];case 37:O.next=12;break;case 39:O.next=44;break;case 41:O.prev=41,O.t0=O.catch(10),C.e(O.t0);case 44:return O.prev=44,C.f(),O.finish(44);case 47:if("lowest"!==o||!w){O.next=54;break}if(!s){O.next=52;break}x.push(w),O.next=54;break;case 52:return O.next=54,w;case 54:if(!s){O.next=56;break}return O.delegateYield(x,"t1",56);case 56:case"end":return O.stop()}}),EZ,null,[[10,41,44,47]])}var vH,mH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force,r=void 0!==n&&n,i=t.operation,o=function(e){return DZ.get(e)||[]},u=function(e){var t=o(e).pop(),n=t.join(",");return function(e){return MZ.get(e)||new Set}(e).delete(n),t};if(iV.isNormalizing(e)){if(r){var s=Array.from(QZ.nodes(e),(function(e){return(0,a.Z)(e,2)[1]})),l=new Set(s.map((function(e){return e.join(",")})));DZ.set(e,s),MZ.set(e,l)}0!==o(e).length&&iV.withoutNormalizing(e,(function(){var t,n=E(o(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(QZ.has(e,r)){var s=iV.node(e,r),l=s,c=(0,a.Z)(l,2),f=c[0];c[1];XZ.isElement(f)&&0===f.children.length&&e.normalizeNode(s,{operation:i})}}}catch(g){n.e(g)}finally{n.f()}for(var d=o(e),h=d.length,p=0;0!==d.length;){if(!e.shouldNormalize({dirtyPaths:d,iteration:p,initialDirtyPathsLength:h,operation:i}))return;var v=u(e);if(QZ.has(e,v)){var m=iV.node(e,v);e.normalizeNode(m,{operation:i})}p++,d=o(e)}}))}},gH=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=iV.path(e,t,n),i=NZ.parent(r);return iV.node(e,i)},yH=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:t,affinity:void 0===n?"forward":n,unref:function(){var t=r.current;return iV.pathRefs(e).delete(r),r.current=null,t}};return iV.pathRefs(e).add(r),r},bH=function(e){var t=OZ.get(e);return t||(t=new Set,OZ.set(e,t)),t},_H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.depth,i=n.edge;if(NZ.isPath(t))if("start"===i){var o=QZ.first(e,t);t=(0,a.Z)(o,2)[1]}else if("end"===i){var u=QZ.last(e,t);t=(0,a.Z)(u,2)[1]}return qZ.isRange(t)&&(t="start"===i?qZ.start(t):"end"===i?qZ.end(t):NZ.common(t.anchor.path,t.focus.path)),mV.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},xH=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:t,affinity:void 0===n?"forward":n,unref:function(){var t=r.current;return iV.pointRefs(e).delete(r),r.current=null,t}};return iV.pointRefs(e).add(r),r},wH=function(e){var t=RZ.get(e);return t||(t=new Set,RZ.set(e,t)),t},EH=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).edge,r=void 0===n?"start":n;if(NZ.isPath(t)){var i;if("end"===r){var o=QZ.last(e,t);i=(0,a.Z)(o,2)[1]}else{var u=QZ.first(e,t);i=(0,a.Z)(u,2)[1]}var s=QZ.get(e,i);if(!fV.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?s.text.length:0}}if(qZ.isRange(t)){var l=qZ.edges(t),c=(0,a.Z)(l,2),f=c[0],d=c[1];return"start"===r?f:d}return t},CH=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!n,i=n?PH(e):e,o=vH.None,u=vH.None,s=0,l=null,c=E(i);try{for(c.s();!(t=c.n()).done;){var f=t.value,d=f.codePointAt(0);if(!d)break;var h=ZH(f,d),p=r?[u,h]:[h,o],v=(0,a.Z)(p,2);if(o=v[0],u=v[1],VH(o,vH.ZWJ)&&VH(u,vH.ExtPict)&&!YH(r?e.substring(0,s):e.substring(0,e.length-s)))break;if(VH(o,vH.RI)&&VH(u,vH.RI)&&!(l=null!==l?!l:!!r||$H(e.substring(0,e.length-s))))break;if(o!==vH.None&&u!==vH.None&&GH(o,u))break;s+=f.length}}catch(m){c.e(m)}finally{c.f()}return s||1},kH=/\s/,SH=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,AH=/['\u2018\u2019]/,DH=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var i=CH(e,t),o=MH(e,i,t),u=(0,a.Z)(o,2),s=u[0],l=u[1];if(TH(s,l,t))r=!0,n+=i;else{if(r)break;n+=i}e=l}return n},MH=function(e,t,n){if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},TH=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kH.test(t))return!1;if(AH.test(t)){var i=CH(n,r),o=MH(n,i,r),u=(0,a.Z)(o,2);if(e(u[0],u[1],r))return!0}return!SH.test(t)},PH=$e().mark((function e(t){var n,r,i,a;return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.length-1,r=0;case 2:if(!(r<t.length)){e.next=16;break}if(i=t.charAt(n-r),!RH(i.charCodeAt(0))){e.next=11;break}if(a=t.charAt(n-r-1),!OH(a.charCodeAt(0))){e.next=11;break}return e.next=9,a+i;case 9:return r++,e.abrupt("continue",13);case 11:return e.next=13,i;case 13:r++,e.next=2;break;case 16:case"end":return e.stop()}}),e)})),OH=function(e){return e>=55296&&e<=56319},RH=function(e){return e>=56320&&e<=57343};!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(vH||(vH={}));var FH=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,NH=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,IH=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,BH=/^[\u1100-\u115F\uA960-\uA97C]$/,LH=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,zH=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,UH=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,jH=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,WH=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,ZH=function(e,t){var n=vH.Any;return-1!==e.search(FH)&&(n|=vH.Extend),8205===t&&(n|=vH.ZWJ),t>=127462&&t<=127487&&(n|=vH.RI),-1!==e.search(NH)&&(n|=vH.Prepend),-1!==e.search(IH)&&(n|=vH.SpacingMark),-1!==e.search(BH)&&(n|=vH.L),-1!==e.search(LH)&&(n|=vH.V),-1!==e.search(zH)&&(n|=vH.T),-1!==e.search(UH)&&(n|=vH.LV),-1!==e.search(jH)&&(n|=vH.LVT),-1!==e.search(WH)&&(n|=vH.ExtPict),n};function VH(e,t){return 0!==(e&t)}var HH=[[vH.L,vH.L|vH.V|vH.LV|vH.LVT],[vH.LV|vH.V,vH.V|vH.T],[vH.LVT|vH.T,vH.T],[vH.Any,vH.Extend|vH.ZWJ],[vH.Any,vH.SpacingMark],[vH.Prepend,vH.Any],[vH.ZWJ,vH.ExtPict],[vH.RI,vH.RI]];function GH(e,t){return-1===HH.findIndex((function(n){return VH(e,n[0])&&VH(t,n[1])}))}var qH=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,YH=function(e){return-1!==e.search(qH)},XH=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,$H=function(e){var t=e.match(XH);return null!==t&&t[0].length/2%2===1};function KH(e){var t,n,r,i,o,u,s,l,c,f,d,h,p,v,m,g,y,b,_,x,w,C,k,S,A,D,M,T,P,O,R,F=arguments;return $e().wrap((function(N){for(;;)switch(N.prev=N.next){case 0:if(R=function(e,t,n){return"character"===t?CH(e,n):"word"===t?DH(e,n):"line"===t||"block"===t?e.length:1},n=(t=F.length>1&&void 0!==F[1]?F[1]:{}).at,r=void 0===n?e.selection:n,i=t.unit,o=void 0===i?"offset":i,u=t.reverse,s=void 0!==u&&u,l=t.voids,c=void 0!==l&&l,f=t.ignoreNonSelectable,d=void 0!==f&&f,r){N.next=5;break}return N.abrupt("return");case 5:h=iV.range(e,r),p=qZ.edges(h),v=(0,a.Z)(p,2),m=v[0],g=v[1],y=s?g:m,b=!1,_="",x=0,w=0,C=0,k=E(iV.nodes(e,{at:r,reverse:s,voids:c,ignoreNonSelectable:d})),N.prev=14,k.s();case 16:if((S=k.n()).done){N.next=51;break}if(A=(0,a.Z)(S.value,2),D=A[0],M=A[1],!XZ.isElement(D)){N.next=26;break}if(c||!e.isVoid(D)&&!e.isElementReadOnly(D)){N.next=23;break}return N.next=22,iV.start(e,M);case 22:return N.abrupt("continue",49);case 23:if(!e.isInline(D)){N.next=25;break}return N.abrupt("continue",49);case 25:iV.hasInlines(e,D)&&(T=NZ.isAncestor(M,g.path)?g:iV.end(e,M),P=NZ.isAncestor(M,m.path)?m:iV.start(e,M),_=iV.string(e,{anchor:P,focus:T},{voids:c}),b=!0);case 26:if(!fV.isText(D)){N.next=49;break}if((O=NZ.equals(M,y.path))?(w=s?y.offset:D.text.length-y.offset,C=y.offset):(w=D.text.length,C=s?w:0),!O&&!b&&"offset"!==o){N.next=33;break}return N.next=32,{path:M,offset:C};case 32:b=!1;case 33:if(0!==x){N.next=39;break}if(""!==_){N.next=37;break}return N.abrupt("break",49);case 37:x=R(_,o,s),_=MH(_,x,s)[1];case 39:if(C=s?C-x:C+x,!((w-=x)<0)){N.next=44;break}return x=-w,N.abrupt("break",49);case 44:return x=0,N.next=47,{path:M,offset:C};case 47:N.next=33;break;case 49:N.next=16;break;case 51:N.next=56;break;case 53:N.prev=53,N.t0=N.catch(14),k.e(N.t0);case 56:return N.prev=56,k.f(),N.finish(56);case 59:case"end":return N.stop()}}),CZ,null,[[14,53,56,59]])}var JH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"lowest":n,i=t.voids,o=void 0!==i&&i,u=t.match,s=t.at,l=void 0===s?e.selection:s;if(l){var c=iV.before(e,l,{voids:o});if(c){var f=iV.first(e,[]),d=(0,a.Z)(f,2)[1],h=[c.path,d];if(NZ.isPath(l)&&0===l.length)throw new Error("Cannot get the previous node from the root node!");if(null==u)if(NZ.isPath(l)){var p=iV.parent(e,l),v=(0,a.Z)(p,1)[0];u=function(e){return v.children.includes(e)}}else u=function(){return!0};var m=iV.nodes(e,{reverse:!0,at:h,match:u,mode:r,voids:o}),g=(0,a.Z)(m,1)[0];return g}}},QH=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).affinity,r={current:t,affinity:void 0===n?"forward":n,unref:function(){var t=r.current;return iV.rangeRefs(e).delete(r),r.current=null,t}};return iV.rangeRefs(e).add(r),r},eG=function(e){var t=FZ.get(e);return t||(t=new Set,FZ.set(e,t)),t},tG=function(e,t,n){return qZ.isRange(t)&&!n?t:{anchor:iV.start(e,t),focus:iV.end(e,n||t)}};function nG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var rG=function(e,t){var n=e.selection;if(n){var r=function(t,n){if(!fV.isText(t))return!1;var r=iV.parent(e,n),i=(0,a.Z)(r,2),o=i[0];i[1];return!e.isVoid(o)||e.markableVoid(o)},i=qZ.isExpanded(n),o=!1;if(!i){var u=iV.node(e,n),s=(0,a.Z)(u,2),l=s[0],c=s[1];if(l&&r(l,c)){var f=iV.parent(e,c),d=(0,a.Z)(f,1)[0];o=d&&e.markableVoid(d)}}if(i||o)ZZ.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nG(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},iV.marks(e)||{});delete h[t],e.marks=h,TZ.get(e)||e.onChange()}}},iG=function(e,t){PZ.set(e,t)},aG=function(e,t){return iV.point(e,t,{edge:"start"})},oG=function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,i=void 0!==r&&r,o=iV.range(e,t),u=qZ.edges(o),s=(0,a.Z)(u,2),l=s[0],c=s[1],f="",d=E(iV.nodes(e,{at:o,match:fV.isText,voids:i}));try{for(d.s();!(n=d.n()).done;){var h=(0,a.Z)(n.value,2),p=h[0],v=h[1],m=p.text;NZ.equals(v,c.path)&&(m=m.slice(0,c.offset)),NZ.equals(v,l.path)&&(m=m.slice(l.offset)),f+=m}}catch(g){d.e(g)}finally{d.f()}return f},uG=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).voids,r=void 0!==n&&n,i=qZ.edges(t),o=(0,a.Z)(i,2),u=o[0],s=o[1];if(0!==u.offset||0!==s.offset||qZ.isCollapsed(t)||NZ.hasPrevious(s.path))return t;var l,c=iV.above(e,{at:s,match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)},voids:r}),f=c?c[1]:[],d={anchor:iV.start(e,u),focus:s},h=!0,p=E(iV.nodes(e,{at:d,match:fV.isText,reverse:!0,voids:r}));try{for(p.s();!(l=p.n()).done;){var v=(0,a.Z)(l.value,2),m=v[0],g=v[1];if(h)h=!1;else if(""!==m.text||NZ.isBefore(g,f)){s={path:g,offset:m.text.length};break}}}catch(y){p.e(y)}finally{p.f()}return{anchor:u,focus:s}},sG=function(e,t){var n=iV.isNormalizing(e);iV.setNormalizing(e,!1);try{t()}finally{iV.setNormalizing(e,n)}iV.normalize(e)},lG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iV.withoutNormalizing(e,(function(){var n,r,i=t.reverse,o=void 0!==i&&i,u=t.unit,s=void 0===u?"character":u,l=t.distance,c=void 0===l?1:l,f=t.voids,d=void 0!==f&&f,h=t.at,p=void 0===h?e.selection:h,v=t.hanging,m=void 0!==v&&v;if(p){var g=!1;if(qZ.isRange(p)&&qZ.isCollapsed(p)&&(g=!0,p=p.anchor),mV.isPoint(p)){var y=iV.void(e,{at:p,mode:"highest"});if(!d&&y){p=(0,a.Z)(y,2)[1]}else{var b={unit:s,distance:c};p={anchor:p,focus:o?iV.before(e,p,b)||iV.start(e,[]):iV.after(e,p,b)||iV.end(e,[])},m=!0}}if(NZ.isPath(p))ZZ.removeNodes(e,{at:p,voids:d});else if(!qZ.isCollapsed(p)){if(!m){var _=qZ.edges(p),x=(0,a.Z)(_,2)[1],w=iV.end(e,[]);mV.equals(x,w)||(p=iV.unhangRange(e,p,{voids:d}))}var C=qZ.edges(p),k=(0,a.Z)(C,2),S=k[0],A=k[1],D=iV.above(e,{match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)},at:S,voids:d}),M=iV.above(e,{match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)},at:A,voids:d}),T=D&&M&&!NZ.equals(D[1],M[1]),P=NZ.equals(S.path,A.path),O=d?null:null!==(n=iV.void(e,{at:S,mode:"highest"}))&&void 0!==n?n:iV.elementReadOnly(e,{at:S,mode:"highest"}),R=d?null:null!==(r=iV.void(e,{at:A,mode:"highest"}))&&void 0!==r?r:iV.elementReadOnly(e,{at:A,mode:"highest"});if(O){var F=iV.before(e,S);F&&D&&NZ.isAncestor(D[1],F.path)&&(S=F)}if(R){var N=iV.after(e,A);N&&M&&NZ.isAncestor(M[1],N.path)&&(A=N)}var I,B,L=[],z=E(iV.nodes(e,{at:p,voids:d}));try{for(z.s();!(B=z.n()).done;){var U=B.value,j=U,W=(0,a.Z)(j,2),Z=W[0],V=W[1];I&&0===NZ.compare(V,I)||(!d&&XZ.isElement(Z)&&(iV.isVoid(e,Z)||iV.isElementReadOnly(e,Z))||!NZ.isCommon(V,S.path)&&!NZ.isCommon(V,A.path))&&(L.push(U),I=V)}}catch(ce){z.e(ce)}finally{z.f()}var H=Array.from(L,(function(t){var n=(0,a.Z)(t,2)[1];return iV.pathRef(e,n)})),G=iV.pointRef(e,S),q=iV.pointRef(e,A),Y="";if(!P&&!O){var X=G.current,$=iV.leaf(e,X),K=(0,a.Z)($,1)[0],J=X.path,Q=S.offset,ee=K.text.slice(Q);ee.length>0&&(e.apply({type:"remove_text",path:J,offset:Q,text:ee}),Y=ee)}if(H.reverse().map((function(e){return e.unref()})).filter((function(e){return null!==e})).forEach((function(t){return ZZ.removeNodes(e,{at:t,voids:d})})),!R){var te=q.current,ne=iV.leaf(e,te),re=(0,a.Z)(ne,1)[0],ie=te.path,ae=P?S.offset:0,oe=re.text.slice(ae,A.offset);oe.length>0&&(e.apply({type:"remove_text",path:ie,offset:ae,text:oe}),Y=oe)}!P&&T&&q.current&&G.current&&ZZ.mergeNodes(e,{at:q.current,hanging:!0,voids:d}),g&&o&&"character"===s&&Y.length>1&&Y.match(/[\u0E00-\u0E7F]+/)&&ZZ.insertText(e,Y.slice(0,Y.length-c));var ue=G.unref(),se=q.unref(),le=o?ue||se:se||ue;null==t.at&&le&&ZZ.select(e,le)}}}))},cG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};iV.withoutNormalizing(e,(function(){var r=n.hanging,i=void 0!==r&&r,o=n.voids,u=void 0!==o&&o,s=n.at,l=void 0===s?e.selection:s;if(t.length&&l){if(qZ.isRange(l))if(i||(l=iV.unhangRange(e,l,{voids:u})),qZ.isCollapsed(l))l=l.anchor;else{var c=qZ.edges(l),f=(0,a.Z)(c,2)[1];if(!u&&iV.void(e,{at:f}))return;var d=iV.pointRef(e,f);ZZ.delete(e,{at:l}),l=d.unref()}else NZ.isPath(l)&&(l=iV.start(e,l));if(u||!iV.void(e,{at:l})){var h=iV.above(e,{at:l,match:function(t){return XZ.isElement(t)&&iV.isInline(e,t)},mode:"highest",voids:u});if(h){var p=(0,a.Z)(h,2)[1];if(iV.isEnd(e,l,p))l=iV.after(e,p);else if(iV.isStart(e,l,p)){l=iV.before(e,p)}}var v,m=iV.above(e,{match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)},at:l,voids:u}),g=(0,a.Z)(m,2)[1],y=iV.isStart(e,l,g),b=iV.isEnd(e,l,g),_=y&&b,x=!y||y&&b,w=!b,C=QZ.first({children:t},[]),k=(0,a.Z)(C,2)[1],S=QZ.last({children:t},[]),A=(0,a.Z)(S,2)[1],D=[],M=function(t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return!(0===i.length)&&(!!_||!(x&&NZ.isAncestor(i,k)&&XZ.isElement(r)&&!e.isVoid(r)&&!e.isInline(r))&&!(w&&NZ.isAncestor(i,A)&&XZ.isElement(r)&&!e.isVoid(r)&&!e.isInline(r)))},T=E(QZ.nodes({children:t},{pass:M}));try{for(T.s();!(v=T.n()).done;){var P=v.value;M(P)&&D.push(P)}}catch($){T.e($)}finally{T.f()}for(var O=[],R=[],F=[],N=!0,I=!1,B=0,L=D;B<L.length;B++){var z=(0,a.Z)(L[B],1)[0];XZ.isElement(z)&&!e.isInline(z)?(N=!1,I=!0,R.push(z)):N?O.push(z):F.push(z)}var U=iV.nodes(e,{at:l,match:function(t){return fV.isText(t)||iV.isInline(e,t)},mode:"highest",voids:u}),j=(0,a.Z)(U,1)[0],W=(0,a.Z)(j,2)[1],Z=iV.isStart(e,l,W),V=iV.isEnd(e,l,W),H=iV.pathRef(e,b&&!F.length?NZ.next(g):g),G=iV.pathRef(e,V?NZ.next(W):W);ZZ.splitNodes(e,{at:l,match:function(t){return I?XZ.isElement(t)&&iV.isBlock(e,t):fV.isText(t)||iV.isInline(e,t)},mode:I?"lowest":"highest",always:I&&(!y||O.length>0)&&(!b||F.length>0),voids:u});var q,Y=iV.pathRef(e,!Z||Z&&V?NZ.next(W):W);if(ZZ.insertNodes(e,O,{at:Y.current,match:function(t){return fV.isText(t)||iV.isInline(e,t)},mode:"highest",voids:u}),_&&!O.length&&R.length&&!F.length&&ZZ.delete(e,{at:g,voids:u}),ZZ.insertNodes(e,R,{at:H.current,match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)},mode:"lowest",voids:u}),ZZ.insertNodes(e,F,{at:G.current,match:function(t){return fV.isText(t)||iV.isInline(e,t)},mode:"highest",voids:u}),!n.at)if(F.length>0&&G.current?q=NZ.previous(G.current):R.length>0&&H.current?q=NZ.previous(H.current):Y.current&&(q=NZ.previous(Y.current)),q){var X=iV.end(e,q);ZZ.select(e,X)}Y.unref(),H.unref(),G.unref()}}}))},fG=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).edge,n=void 0===t?"anchor":t,r=e.selection;if(r)if("anchor"===n)ZZ.select(e,r.anchor);else if("focus"===n)ZZ.select(e,r.focus);else if("start"===n){var i=qZ.edges(r),o=(0,a.Z)(i,1)[0];ZZ.select(e,o)}else if("end"===n){var u=qZ.edges(r),s=(0,a.Z)(u,2)[1];ZZ.select(e,s)}},dG=function(e){var t=e.selection;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},hG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.selection,r=t.distance,i=void 0===r?1:r,a=t.unit,o=void 0===a?"character":a,u=t.reverse,s=void 0!==u&&u,l=t.edge,c=void 0===l?null:l;if(n){"start"===c&&(c=qZ.isBackward(n)?"focus":"anchor"),"end"===c&&(c=qZ.isBackward(n)?"anchor":"focus");var f=n.anchor,d=n.focus,h={distance:i,unit:o,ignoreNonSelectable:!0},p={};if(null==c||"anchor"===c){var v=s?iV.before(e,f,h):iV.after(e,f,h);v&&(p.anchor=v)}if(null==c||"focus"===c){var m=s?iV.before(e,d,h):iV.after(e,d,h);m&&(p.focus=m)}ZZ.setSelection(e,p)}},pG=function(e,t){var n=e.selection;if(t=iV.range(e,t),n)ZZ.setSelection(e,t);else{if(!qZ.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(yV.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}};function vG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vG(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.selection,i=n.edge,a=void 0===i?"both":i;if(r){"start"===a&&(a=qZ.isBackward(r)?"focus":"anchor"),"end"===a&&(a=qZ.isBackward(r)?"anchor":"focus");var o=r.anchor,u=r.focus,s="anchor"===a?o:u;ZZ.setSelection(e,(0,Qe.Z)({},"anchor"===a?"anchor":"focus",mG(mG({},s),t)))}},yG=function(e,t){var n=e.selection,r={},i={};if(n){for(var a in t)("anchor"===a&&null!=t.anchor&&!mV.equals(t.anchor,n.anchor)||"focus"===a&&null!=t.focus&&!mV.equals(t.focus,n.focus)||"anchor"!==a&&"focus"!==a&&t[a]!==n[a])&&(r[a]=n[a],i[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}},bG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};iV.withoutNormalizing(e,(function(){var r=n.hanging,i=void 0!==r&&r,o=n.voids,u=void 0!==o&&o,s=n.mode,l=void 0===s?"lowest":s,c=n.at,f=n.match,d=n.select;if(QZ.isNode(t)&&(t=[t]),0!==t.length){var h=t,p=(0,a.Z)(h,1)[0];if(c||(c=e.selection?e.selection:e.children.length>0?iV.end(e,[]):[0],d=!0),null==d&&(d=!1),qZ.isRange(c))if(i||(c=iV.unhangRange(e,c,{voids:u})),qZ.isCollapsed(c))c=c.anchor;else{var v=qZ.edges(c),m=(0,a.Z)(v,2)[1],g=iV.pointRef(e,m);ZZ.delete(e,{at:c}),c=g.unref()}if(mV.isPoint(c)){null==f&&(f=fV.isText(p)?function(e){return fV.isText(e)}:e.isInline(p)?function(t){return fV.isText(t)||iV.isInline(e,t)}:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)});var y=iV.nodes(e,{at:c.path,match:f,mode:l,voids:u}),b=(0,a.Z)(y,1)[0];if(!b)return;var _=(0,a.Z)(b,2)[1],x=iV.pathRef(e,_),w=iV.isEnd(e,c,_);ZZ.splitNodes(e,{at:c,match:f,mode:l,voids:u});var C=x.unref();c=w?NZ.next(C):C}var k=NZ.parent(c),S=c[c.length-1];if(u||!iV.void(e,{at:k})){var A,D=E(t);try{for(D.s();!(A=D.n()).done;){var M=A.value,T=k.concat(S);S++,e.apply({type:"insert_node",path:T,node:M}),c=NZ.next(c)}}catch(O){D.e(O)}finally{D.f()}if(c=NZ.previous(c),d){var P=iV.end(e,c);P&&ZZ.select(e,P)}}}}))},_G=function(e,t){var n=iV.node(e,t),r=(0,a.Z)(n,1)[0];return function(e){return e===r}},xG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iV.withoutNormalizing(e,(function(){var n=t.at,r=void 0===n?e.selection:n,i=t.mode,o=void 0===i?"lowest":i,u=t.voids,s=void 0!==u&&u,l=t.match;if(null==l&&(l=NZ.isPath(r)?_G(e,r):function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}),r)for(var c=iV.nodes(e,{at:r,match:l,mode:o,voids:s}),f=Array.from(c,(function(t){var n=(0,a.Z)(t,2)[1];return iV.pathRef(e,n)})),d=0,h=f;d<h.length;d++){var p=h[d].unref();if(p.length<2)throw new Error("Cannot lift node at a path [".concat(p,"] because it has a depth of less than `2`."));var v=iV.node(e,NZ.parent(p)),m=(0,a.Z)(v,2),g=m[0],y=m[1],b=p[p.length-1],_=g.children.length;if(1===_){var x=NZ.next(y);ZZ.moveNodes(e,{at:p,to:x,voids:s}),ZZ.removeNodes(e,{at:y,voids:s})}else if(0===b)ZZ.moveNodes(e,{at:p,to:y,voids:s});else if(b===_-1){var w=NZ.next(y);ZZ.moveNodes(e,{at:p,to:w,voids:s})}else{var E=NZ.next(p),C=NZ.next(y);ZZ.splitNodes(e,{at:E,voids:s}),ZZ.moveNodes(e,{at:p,to:C,voids:s})}}}))},wG=["text"],EG=["children"],CG=function e(t,n){if(XZ.isElement(n)){var r=n;return!!iV.isVoid(t,n)||1===r.children.length&&e(t,r.children[0])}return!iV.isEditor(n)},kG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iV.withoutNormalizing(e,(function(){var n=t.match,r=t.at,i=void 0===r?e.selection:r,o=t.hanging,u=void 0!==o&&o,s=t.voids,l=void 0!==s&&s,c=t.mode,f=void 0===c?"lowest":c;if(i){if(null==n)if(NZ.isPath(i)){var d=iV.parent(e,i),h=(0,a.Z)(d,1)[0];n=function(e){return h.children.includes(e)}}else n=function(t){return XZ.isElement(t)&&iV.isBlock(e,t)};if(!u&&qZ.isRange(i)&&(i=iV.unhangRange(e,i,{voids:l})),qZ.isRange(i))if(qZ.isCollapsed(i))i=i.anchor;else{var p=qZ.edges(i),v=(0,a.Z)(p,2)[1],m=iV.pointRef(e,v);ZZ.delete(e,{at:i}),i=m.unref(),null==t.at&&ZZ.select(e,i)}var g=iV.nodes(e,{at:i,match:n,voids:l,mode:f}),y=(0,a.Z)(g,1)[0],b=iV.previous(e,{at:i,match:n,voids:l,mode:f});if(y&&b){var _=(0,a.Z)(y,2),x=_[0],w=_[1],E=(0,a.Z)(b,2),C=E[0],k=E[1];if(0!==w.length&&0!==k.length){var S,A,D=NZ.next(k),M=NZ.common(w,k),T=NZ.isSibling(w,k),P=Array.from(iV.levels(e,{at:w}),(function(e){return(0,a.Z)(e,1)[0]})).slice(M.length).slice(0,-1),O=iV.above(e,{at:w,mode:"highest",match:function(t){return P.includes(t)&&CG(e,t)}}),R=O&&iV.pathRef(e,O[1]);if(fV.isText(x)&&fV.isText(C)){var F=VZ(x,wG);A=C.text.length,S=F}else{if(!XZ.isElement(x)||!XZ.isElement(C))throw new Error("Cannot merge the node at path [".concat(w,"] with the previous sibling because it is not the same kind: ").concat(yV.stringify(x)," ").concat(yV.stringify(C)));F=VZ(x,EG);A=C.children.length,S=F}T||ZZ.moveNodes(e,{at:w,to:D,voids:l}),R&&ZZ.removeNodes(e,{at:R.current,voids:l}),XZ.isElement(C)&&iV.isEmpty(e,C)||fV.isText(C)&&""===C.text&&0!==k[k.length-1]?ZZ.removeNodes(e,{at:k,voids:l}):e.apply({type:"merge_node",path:D,position:A,properties:S}),R&&R.unref()}}}}))},SG=function(e,t){iV.withoutNormalizing(e,(function(){var n=t.to,r=t.at,i=void 0===r?e.selection:r,o=t.mode,u=void 0===o?"lowest":o,s=t.voids,l=void 0!==s&&s,c=t.match;if(i){null==c&&(c=NZ.isPath(i)?_G(e,i):function(t){return XZ.isElement(t)&&iV.isBlock(e,t)});for(var f=iV.pathRef(e,n),d=iV.nodes(e,{at:i,match:c,mode:u,voids:l}),h=Array.from(d,(function(t){var n=(0,a.Z)(t,2)[1];return iV.pathRef(e,n)})),p=0,v=h;p<v.length;p++){var m=v[p].unref(),g=f.current;0!==m.length&&e.apply({type:"move_node",path:m,newPath:g}),f.current&&NZ.isSibling(g,m)&&NZ.isAfter(g,m)&&(f.current=NZ.next(f.current))}f.unref()}}))},AG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iV.withoutNormalizing(e,(function(){var n=t.hanging,r=void 0!==n&&n,i=t.voids,o=void 0!==i&&i,u=t.mode,s=void 0===u?"lowest":u,l=t.at,c=void 0===l?e.selection:l,f=t.match;if(c){null==f&&(f=NZ.isPath(c)?_G(e,c):function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}),!r&&qZ.isRange(c)&&(c=iV.unhangRange(e,c,{voids:o}));for(var d=iV.nodes(e,{at:c,match:f,mode:s,voids:o}),h=Array.from(d,(function(t){var n=(0,a.Z)(t,2)[1];return iV.pathRef(e,n)})),p=0,v=h;p<v.length;p++){var m=v[p].unref();if(m){var g=iV.node(e,m),y=(0,a.Z)(g,1)[0];e.apply({type:"remove_node",path:m,node:y})}}}}))},DG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};iV.withoutNormalizing(e,(function(){var r=n.match,i=n.at,o=void 0===i?e.selection:i,u=n.compare,s=n.merge,l=n.hanging,c=void 0!==l&&l,f=n.mode,d=void 0===f?"lowest":f,h=n.split,p=void 0!==h&&h,v=n.voids,m=void 0!==v&&v;if(o){if(null==r&&(r=NZ.isPath(o)?_G(e,o):function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}),!c&&qZ.isRange(o)&&(o=iV.unhangRange(e,o,{voids:m})),p&&qZ.isRange(o)){if(qZ.isCollapsed(o)&&iV.leaf(e,o.anchor)[0].text.length>0)return;var g=iV.rangeRef(e,o,{affinity:"inward"}),y=qZ.edges(o),b=(0,a.Z)(y,2),_=b[0],x=b[1],w="lowest"===d?"lowest":"highest",C=iV.isEnd(e,x,x.path);ZZ.splitNodes(e,{at:x,match:r,mode:w,voids:m,always:!C});var k=iV.isStart(e,_,_.path);ZZ.splitNodes(e,{at:_,match:r,mode:w,voids:m,always:!k}),o=g.unref(),null==n.at&&ZZ.select(e,o)}u||(u=function(e,t){return e!==t});var S,A=E(iV.nodes(e,{at:o,match:r,mode:d,voids:m}));try{for(A.s();!(S=A.n()).done;){var D=(0,a.Z)(S.value,2),M=D[0],T=D[1],P={},O={};if(0!==T.length){var R=!1;for(var F in t)"children"!==F&&"text"!==F&&u(t[F],M[F])&&(R=!0,M.hasOwnProperty(F)&&(P[F]=M[F]),s?null!=t[F]&&(O[F]=s(M[F],t[F])):null!=t[F]&&(O[F]=t[F]));R&&e.apply({type:"set_node",path:T,properties:P,newProperties:O})}}}catch(N){A.e(N)}finally{A.f()}}}))},MG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iV.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,i=t.voids,o=void 0!==i&&i,u=t.match,s=t.at,l=void 0===s?e.selection:s,c=t.height,f=void 0===c?0:c,d=t.always,h=void 0!==d&&d;if(null==u&&(u=function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}),qZ.isRange(l)&&(l=function(e,t){if(qZ.isCollapsed(t))return t.anchor;var n=qZ.edges(t),r=(0,a.Z)(n,2)[1],i=iV.pointRef(e,r);return ZZ.delete(e,{at:t}),i.unref()}(e,l)),NZ.isPath(l)){var p=l,v=iV.point(e,p),m=iV.parent(e,p),g=(0,a.Z)(m,1)[0];u=function(e){return e===g},f=v.path.length-p.length+1,l=v,h=!0}if(l){var y,b=iV.pointRef(e,l,{affinity:"backward"});try{var _=iV.nodes(e,{at:l,match:u,mode:r,voids:o}),x=(0,a.Z)(_,1)[0];if(!x)return;var w=iV.void(e,{at:l,mode:"highest"});if(!o&&w){var C=(0,a.Z)(w,2),k=C[0],S=C[1];if(XZ.isElement(k)&&e.isInline(k)){var A=iV.after(e,S);if(!A){var D=NZ.next(S);ZZ.insertNodes(e,{text:""},{at:D,voids:o}),A=iV.point(e,D)}l=A,h=!0}f=l.path.length-S.length+1,h=!0}y=iV.pointRef(e,l);var M,T=l.path.length-f,P=(0,a.Z)(x,2)[1],O=l.path.slice(0,T),R=0===f?l.offset:l.path[T]+0,F=E(iV.levels(e,{at:O,reverse:!0,voids:o}));try{for(F.s();!(M=F.n()).done;){var N=(0,a.Z)(M.value,2),I=N[0],B=N[1],L=!1;if(B.length<P.length||0===B.length||!o&&XZ.isElement(I)&&iV.isVoid(e,I))break;var z=b.current,U=iV.isEnd(e,z,B);if(h||!b||!iV.isEdge(e,z,B)){L=!0;var j=QZ.extractProps(I);e.apply({type:"split_node",path:B,position:R,properties:j})}R=B[B.length-1]+(L||U?1:0)}}catch(V){F.e(V)}finally{F.f()}if(null==t.at){var W=y.current||iV.end(e,[]);ZZ.select(e,W)}}finally{var Z;b.unref(),null===(Z=y)||void 0===Z||Z.unref()}}}))},TG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r,i={},a=E(t);try{for(a.s();!(r=a.n()).done;){i[r.value]=null}}catch(o){a.e(o)}finally{a.f()}ZZ.setNodes(e,i,n)},PG=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};iV.withoutNormalizing(e,(function(){var n=t.mode,r=void 0===n?"lowest":n,i=t.split,o=void 0!==i&&i,u=t.voids,s=void 0!==u&&u,l=t.at,c=void 0===l?e.selection:l,f=t.match;if(c){null==f&&(f=NZ.isPath(c)?_G(e,c):function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}),NZ.isPath(c)&&(c=iV.range(e,c));var d,h=qZ.isRange(c)?iV.rangeRef(e,c):null,p=iV.nodes(e,{at:c,match:f,mode:r,voids:s}),v=Array.from(p,(function(t){var n=(0,a.Z)(t,2)[1];return iV.pathRef(e,n)})).reverse(),m=function(t){var n=t.unref(),r=iV.node(e,n),i=(0,a.Z)(r,1)[0],u=iV.range(e,n);o&&h&&(u=qZ.intersection(h.current,u)),ZZ.liftNodes(e,{at:u,match:function(e){return XZ.isAncestor(i)&&i.children.includes(e)},voids:s})},g=E(v);try{for(g.s();!(d=g.n()).done;){m(d.value)}}catch(y){g.e(y)}finally{g.f()}h&&h.unref()}}))};function OG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OG(Object(n),!0).forEach((function(t){IZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var FG,NG=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};iV.withoutNormalizing(e,(function(){var r=n.mode,i=void 0===r?"lowest":r,o=n.split,u=void 0!==o&&o,s=n.voids,l=void 0!==s&&s,c=n.match,f=n.at,d=void 0===f?e.selection:f;if(d){if(null==c&&(c=NZ.isPath(d)?_G(e,d):e.isInline(t)?function(t){return XZ.isElement(t)&&iV.isInline(e,t)||fV.isText(t)}:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}),u&&qZ.isRange(d)){var h=qZ.edges(d),p=(0,a.Z)(h,2),v=p[0],m=p[1],g=iV.rangeRef(e,d,{affinity:"inward"});ZZ.splitNodes(e,{at:m,match:c,voids:l}),ZZ.splitNodes(e,{at:v,match:c,voids:l}),d=g.unref(),null==n.at&&ZZ.select(e,d)}for(var y=Array.from(iV.nodes(e,{at:d,match:e.isInline(t)?function(t){return XZ.isElement(t)&&iV.isBlock(e,t)}:function(e){return iV.isEditor(e)},mode:"lowest",voids:l})),b=0,_=y;b<_.length;b++){var x=(0,a.Z)(_[b],2)[1],w=qZ.isRange(d)?qZ.intersection(d,iV.range(e,x)):d;if(w){var E=Array.from(iV.nodes(e,{at:w,match:c,mode:i,voids:l}));if(E.length>0){var C=function(){var n=E,r=(0,a.Z)(n,1)[0],i=E[E.length-1],o=(0,a.Z)(r,2)[1],u=(0,a.Z)(i,2)[1];if(0===o.length&&0===u.length)return"continue";var s=NZ.equals(o,u)?NZ.parent(o):NZ.common(o,u),c=iV.range(e,o,u),f=iV.node(e,s),d=(0,a.Z)(f,1)[0],h=s.length+1,p=NZ.next(u.slice(0,h)),v=RG(RG({},t),{},{children:[]});ZZ.insertNodes(e,v,{at:p,voids:l}),ZZ.moveNodes(e,{at:c,match:function(e){return XZ.isAncestor(d)&&d.children.includes(e)},to:p.concat(0),voids:l})}();if("continue"===C)continue}}}}}))},IG=function(){var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:function(){return!1},isInline:function(){return!1},isSelectable:function(){return!0},isVoid:function(){return!1},markableVoid:function(){return!1},onChange:function(){},apply:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return aV.apply(void 0,[e].concat(n))},addMark:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kV.apply(void 0,[e].concat(n))},deleteBackward:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return OV.apply(void 0,[e].concat(n))},deleteForward:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return RV.apply(void 0,[e].concat(n))},deleteFragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FV.apply(void 0,[e].concat(n))},getFragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bV.apply(void 0,[e].concat(n))},insertBreak:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return XV.apply(void 0,[e].concat(n))},insertSoftBreak:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return KV.apply(void 0,[e].concat(n))},insertFragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return cG.apply(void 0,[e].concat(n))},insertNode:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $V.apply(void 0,[e].concat(n))},insertText:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return QV.apply(void 0,[e].concat(n))},normalizeNode:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _V.apply(void 0,[e].concat(n))},removeMark:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rG.apply(void 0,[e].concat(n))},getDirtyPaths:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dV.apply(void 0,[e].concat(n))},shouldNormalize:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xV.apply(void 0,[e].concat(n))},above:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wV.apply(void 0,[e].concat(n))},after:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return DV.apply(void 0,[e].concat(n))},before:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PV.apply(void 0,[e].concat(n))},collapse:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fG.apply(void 0,[e].concat(n))},delete:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return lG.apply(void 0,[e].concat(n))},deselect:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dG.apply(void 0,[e].concat(n))},edges:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return NV.apply(void 0,[e].concat(n))},elementReadOnly:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return LV.apply(void 0,[e].concat(n))},end:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zV.apply(void 0,[e].concat(n))},first:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return UV.apply(void 0,[e].concat(n))},fragment:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jV.apply(void 0,[e].concat(n))},getMarks:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fH.apply(void 0,[e].concat(n))},hasBlocks:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return HV.apply(void 0,[e].concat(n))},hasInlines:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return GV.apply(void 0,[e].concat(n))},hasPath:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qV.apply(void 0,[e].concat(n))},hasTexts:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return YV.apply(void 0,[e].concat(n))},insertNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bG.apply(void 0,[e].concat(n))},isBlock:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eH.apply(void 0,[e].concat(n))},isEdge:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tH.apply(void 0,[e].concat(n))},isEmpty:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nH.apply(void 0,[e].concat(n))},isEnd:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rH.apply(void 0,[e].concat(n))},isNormalizing:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return iH.apply(void 0,[e].concat(n))},isStart:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return aH.apply(void 0,[e].concat(n))},last:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oH.apply(void 0,[e].concat(n))},leaf:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uH.apply(void 0,[e].concat(n))},levels:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sH.apply(void 0,[e].concat(n))},liftNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xG.apply(void 0,[e].concat(n))},mergeNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return kG.apply(void 0,[e].concat(n))},move:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hG.apply(void 0,[e].concat(n))},moveNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return SG.apply(void 0,[e].concat(n))},next:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dH.apply(void 0,[e].concat(n))},node:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hH.apply(void 0,[e].concat(n))},nodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pH.apply(void 0,[e].concat(n))},normalize:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mH.apply(void 0,[e].concat(n))},parent:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gH.apply(void 0,[e].concat(n))},path:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _H.apply(void 0,[e].concat(n))},pathRef:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yH.apply(void 0,[e].concat(n))},pathRefs:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bH.apply(void 0,[e].concat(n))},point:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return EH.apply(void 0,[e].concat(n))},pointRef:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xH.apply(void 0,[e].concat(n))},pointRefs:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return wH.apply(void 0,[e].concat(n))},positions:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return KH.apply(void 0,[e].concat(n))},previous:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return JH.apply(void 0,[e].concat(n))},range:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return tG.apply(void 0,[e].concat(n))},rangeRef:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return QH.apply(void 0,[e].concat(n))},rangeRefs:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eG.apply(void 0,[e].concat(n))},removeNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return AG.apply(void 0,[e].concat(n))},select:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pG.apply(void 0,[e].concat(n))},setNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return DG.apply(void 0,[e].concat(n))},setNormalizing:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return iG.apply(void 0,[e].concat(n))},setPoint:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return gG.apply(void 0,[e].concat(n))},setSelection:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return yG.apply(void 0,[e].concat(n))},splitNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return MG.apply(void 0,[e].concat(n))},start:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return aG.apply(void 0,[e].concat(n))},string:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oG.apply(void 0,[e].concat(n))},unhangRange:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return uG.apply(void 0,[e].concat(n))},unsetNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return TG.apply(void 0,[e].concat(n))},unwrapNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PG.apply(void 0,[e].concat(n))},void:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return VV.apply(void 0,[e].concat(n))},withoutNormalizing:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sG.apply(void 0,[e].concat(n))},wrapNodes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return NG.apply(void 0,[e].concat(n))}};return e},BG=[],LG="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(FG||(FG={}));var zG,UG=function(e){return Object.freeze(e)},jG=function(e,t){this.inlineSize=e,this.blockSize=t,UG(this)},WG=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,UG(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ZG=function(e){return e instanceof SVGElement&&"getBBox"in e},VG=function(e){if(ZG(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,o=i.offsetHeight;return!(a||o||e.getClientRects().length)},HG=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},GG="undefined"!==typeof window?window:{},qG=new WeakMap,YG=/auto|scroll/,XG=/^tb|vertical/,$G=/msie|trident/i.test(GG.navigator&&GG.navigator.userAgent),KG=function(e){return parseFloat(e||"0")},JG=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new jG((n?t:e)||0,(n?e:t)||0)},QG=UG({devicePixelContentBoxSize:JG(),borderBoxSize:JG(),contentBoxSize:JG(),contentRect:new WG(0,0,0,0)}),eq=function(e,t){if(void 0===t&&(t=!1),qG.has(e)&&!t)return qG.get(e);if(VG(e))return qG.set(e,QG),QG;var n=getComputedStyle(e),r=ZG(e)&&e.ownerSVGElement&&e.getBBox(),i=!$G&&"border-box"===n.boxSizing,a=XG.test(n.writingMode||""),o=!r&&YG.test(n.overflowY||""),u=!r&&YG.test(n.overflowX||""),s=r?0:KG(n.paddingTop),l=r?0:KG(n.paddingRight),c=r?0:KG(n.paddingBottom),f=r?0:KG(n.paddingLeft),d=r?0:KG(n.borderTopWidth),h=r?0:KG(n.borderRightWidth),p=r?0:KG(n.borderBottomWidth),v=f+l,m=s+c,g=(r?0:KG(n.borderLeftWidth))+h,y=d+p,b=u?e.offsetHeight-y-e.clientHeight:0,_=o?e.offsetWidth-g-e.clientWidth:0,x=i?v+g:0,w=i?m+y:0,E=r?r.width:KG(n.width)-x-_,C=r?r.height:KG(n.height)-w-b,k=E+v+_+g,S=C+m+b+y,A=UG({devicePixelContentBoxSize:JG(Math.round(E*devicePixelRatio),Math.round(C*devicePixelRatio),a),borderBoxSize:JG(k,S,a),contentBoxSize:JG(E,C,a),contentRect:new WG(f,s,E,C)});return qG.set(e,A),A},tq=function(e,t,n){var r=eq(e,n),i=r.borderBoxSize,a=r.contentBoxSize,o=r.devicePixelContentBoxSize;switch(t){case FG.DEVICE_PIXEL_CONTENT_BOX:return o;case FG.BORDER_BOX:return i;default:return a}},nq=function(e){var t=eq(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=UG([t.borderBoxSize]),this.contentBoxSize=UG([t.contentBoxSize]),this.devicePixelContentBoxSize=UG([t.devicePixelContentBoxSize])},rq=function(e){if(VG(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},iq=function(){var e=1/0,t=[];BG.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new nq(t.target),i=rq(t.target);r.push(n),t.lastReportedSize=tq(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},aq=function(e){BG.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(rq(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},oq=function(){var e=0;for(aq(e);BG.some((function(e){return e.activeTargets.length>0}));)e=iq(),aq(e);return BG.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:LG}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=LG),window.dispatchEvent(e)}(),e>0},uq=[],sq=function(e){if(!zG){var t=0,n=document.createTextNode("");new MutationObserver((function(){return uq.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),zG=function(){n.textContent="".concat(t?t--:t++)}}uq.push(e),zG()},lq=0,cq={attributes:!0,characterData:!0,childList:!0,subtree:!0},fq=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],dq=function(e){return void 0===e&&(e=0),Date.now()+e},hq=!1,pq=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!hq){hq=!0;var n,r=dq(e);n=function(){var n=!1;try{n=oq()}finally{if(hq=!1,e=r-dq(),!lq)return;n?t.run(1e3):e>0?t.run(e):t.start()}},sq((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,cq)};document.body?t():GG.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),fq.forEach((function(t){return GG.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),fq.forEach((function(t){return GG.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}(),vq=new pq,mq=function(e){!lq&&e>0&&vq.start(),!(lq+=e)&&vq.stop()},gq=function(){function e(e,t){this.target=e,this.observedBox=t||FG.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=tq(this.target,this.observedBox,!0);return e=this.target,ZG(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),yq=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},bq=new WeakMap,_q=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},xq=function(){function e(){}return e.connect=function(e,t){var n=new yq(e,t);bq.set(e,n)},e.observe=function(e,t,n){var r=bq.get(e),i=0===r.observationTargets.length;_q(r.observationTargets,t)<0&&(i&&BG.push(r),r.observationTargets.push(new gq(t,n&&n.box)),mq(1),vq.schedule())},e.unobserve=function(e,t){var n=bq.get(e),r=_q(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&BG.splice(BG.indexOf(n),1),n.observationTargets.splice(r,1),mq(-1))},e.disconnect=function(e){var t=this,n=bq.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),wq=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");xq.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!HG(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");xq.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!HG(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");xq.unobserve(this,e)},e.prototype.disconnect=function(){xq.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Eq=r(366);function Cq(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kq(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Sq=(0,e.createContext)(null),Aq=function(){var t=(0,e.useContext)(Sq);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},Dq=parseInt(e.version.split(".")[0],10)>=17,Mq="undefined"!==typeof navigator&&"undefined"!==typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Tq="undefined"!==typeof navigator&&/Mac OS X/.test(navigator.userAgent),Pq="undefined"!==typeof navigator&&/Android/.test(navigator.userAgent),Oq="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Rq="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),Fq="undefined"!==typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Nq="undefined"!==typeof navigator&&/Chrome/i.test(navigator.userAgent),Iq="undefined"!==typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Bq=Pq&&"undefined"!==typeof navigator&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Lq="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),zq="undefined"!==typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),Uq="undefined"!==typeof navigator&&/.*Wechat/.test(navigator.userAgent),jq=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Wq=(!Iq||!Bq)&&!Fq&&"undefined"!==typeof globalThis&&globalThis.InputEvent&&"function"===typeof globalThis.InputEvent.prototype.getTargetRanges,Zq=new WeakMap,Vq=new WeakMap,Hq=new WeakMap,Gq=new WeakMap,qq=new WeakMap,Yq=new WeakMap,Xq=new WeakMap,$q=new WeakMap,Kq=new WeakMap,Jq=new WeakMap,Qq=new WeakMap,eY=new WeakMap,tY=new WeakMap,nY=new WeakMap,rY=new WeakMap,iY=new WeakMap,aY=new WeakMap,oY=new WeakMap,uY=new WeakMap,sY=new WeakMap,lY=new WeakMap,cY=Symbol("placeholder"),fY=Symbol("mark-placeholder"),dY=globalThis.Text,hY=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||null},pY=function(e){return vY(e)&&1===e.nodeType},vY=function(e){var t=hY(e);return!!t&&e instanceof t.Node},mY=function(e){var t=e&&e.anchorNode&&hY(e.anchorNode);return!!t&&e instanceof t.Selection},gY=function(e){return vY(e)&&3===e.nodeType},yY=function(e,t,n){for(var r,i=e.childNodes,a=i[t],o=t,u=!1,s=!1;(vY(r=a)&&8===r.nodeType||pY(a)&&0===a.childNodes.length||pY(a)&&"false"===a.getAttribute("contenteditable"))&&(!u||!s);)o>=i.length?(u=!0,o=t-1,n="backward"):o<0?(s=!0,o=t+1,n="forward"):(a=i[o],t=o,o+="forward"===n?1:-1);return[a,t]},bY=function(e,t,n){var r=yY(e,t,n);return(0,a.Z)(r,1)[0]},_Y=function e(t){var n="";if(gY(t)&&t.nodeValue)return t.nodeValue;if(pY(t)){for(var r=0,i=Array.from(t.childNodes);r<i.length;r++){n+=e(i[r])}var a=getComputedStyle(t).getPropertyValue("display");"block"!==a&&"list"!==a&&"BR"!==t.tagName||(n+="\n")}return n},xY=/data-slate-fragment="(.+?)"/m,wY=function e(t,n,r){var i=n.target;if(pY(i)&&i.matches('[contentEditable="false"]'))return!1;if(kY.getWindow(t).document.contains(i))return kY.hasDOMNode(t,i,{editable:!0});var a=r.find((function(e){var t,n=e.addedNodes,r=e.removedNodes,a=E(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o===i||o.contains(i))return!0}}catch(c){a.e(c)}finally{a.f()}var u,s=E(r);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l===i||l.contains(i))return!0}}catch(c){s.e(c)}finally{s.f()}}));return!(!a||a===n)&&e(t,a,r)},EY=0,CY=(0,s.Z)((function e(){u(this,e),this.id="".concat(EY++)})),kY={androidPendingDiffs:function(e){return oY.get(e)},androidScheduleFlush:function(e){var t;null===(t=rY.get(e))||void 0===t||t()},blur:function(e){var t=kY.toDOMNode(e,e),n=kY.findDocumentOrShadowRoot(e);Qq.set(e,!1),n.activeElement===t&&t.blur()},deselect:function(e){var t=e.selection,n=kY.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&ZZ.deselect(e)},findDocumentOrShadowRoot:function(e){var t=kY.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n=t,r=n.clientX,i=n.clientY,a=n.target;if(null==r||null==i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o,u=kY.toSlateNode(e,t.target),s=kY.findPath(e,u);if(XZ.isElement(u)&&iV.isVoid(e,u)){var l=a.getBoundingClientRect(),c=e.isInline(u)?r-l.left<l.left+l.width-r:i-l.top<l.top+l.height-i,f=iV.point(e,s,{edge:c?"start":"end"}),d=c?iV.before(e,f):iV.after(e,f);if(d)return iV.range(e,d)}var h=kY.getWindow(e).document;if(h.caretRangeFromPoint)o=h.caretRangeFromPoint(r,i);else{var p=h.caretPositionFromPoint(r,i);p&&((o=h.createRange()).setStart(p.offsetNode,p.offset),o.setEnd(p.offsetNode,p.offset))}if(!o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return kY.toSlateRange(e,o,{exactMatch:!1,suppressThrow:!1})},findKey:function(e,t){var n=$q.get(t);return n||(n=new CY,$q.set(t,n)),n},findPath:function(e,t){for(var n=[],r=t;;){var i=Vq.get(r);if(null==i){if(iV.isEditor(r))return n;break}var a=Zq.get(r);if(null==a)break;n.unshift(a),r=i}throw new Error("Unable to find the path for Slate node: ".concat(yV.stringify(t)))},focus:function(e){var t=kY.toDOMNode(e,e),n=kY.findDocumentOrShadowRoot(e);Qq.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},getWindow:function(e){var t=Hq.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(e,t){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).editable,i=void 0!==r&&r,a=kY.toDOMNode(e,e);try{n=pY(t)?t:t.parentElement}catch(o){if(!o.message.includes('Permission denied to access property "nodeType"'))throw o}return!!n&&(n.closest("[data-slate-editor]")===a&&(!(i&&!n.isContentEditable)||("boolean"===typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===a||!!n.getAttribute("data-slate-zero-width"))))},hasEditableTarget:function(e,t){return vY(t)&&kY.hasDOMNode(e,t,{editable:!0})},hasRange:function(e,t){var n=t.anchor,r=t.focus;return iV.hasPath(e,n.path)&&iV.hasPath(e,r.path)},hasSelectableTarget:function(e,t){return kY.hasEditableTarget(e,t)||kY.isTargetInsideNonReadonlyVoid(e,t)},hasTarget:function(e,t){return vY(t)&&kY.hasDOMNode(e,t)},insertData:function(e,t){e.insertData(t)},insertFragmentData:function(e,t){return e.insertFragmentData(t)},insertTextData:function(e,t){return e.insertTextData(t)},isComposing:function(e){return!!eY.get(e)},isFocused:function(e){return!!Qq.get(e)},isReadOnly:function(e){return!!Jq.get(e)},isTargetInsideNonReadonlyVoid:function(e,t){if(Jq.get(e))return!1;var n=kY.hasTarget(e,t)&&kY.toSlateNode(e,t);return XZ.isElement(n)&&iV.isVoid(e,n)},setFragmentData:function(e,t,n){return e.setFragmentData(t,n)},toDOMNode:function(e,t){var n=Kq.get(e),r=iV.isEditor(t)?Gq.get(e):null===n||void 0===n?void 0:n.get(kY.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(yV.stringify(t)));return r},toDOMPoint:function(e,t){var n,r=iV.node(e,t.path),i=(0,a.Z)(r,1)[0],o=kY.toDOMNode(e,i);iV.void(e,{at:t})&&(t={path:t.path,offset:0});for(var u=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),s=0,l=0;l<u.length;l++){var c=u[l],f=c.childNodes[0];if(null!=f&&null!=f.textContent){var d=f.textContent.length,h=c.getAttribute("data-slate-length"),p=s+(null==h?d:parseInt(h,10)),v=u[l+1];if(t.offset===p&&null!==v&&void 0!==v&&v.hasAttribute("data-slate-mark-placeholder")){var m,g=v.childNodes[0];n=[g instanceof dY?g:v,null!==(m=v.textContent)&&void 0!==m&&m.startsWith("\ufeff")?1:0];break}if(t.offset<=p){n=[f,Math.min(d,Math.max(0,t.offset-s))];break}s=p}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(yV.stringify(t)));return n},toDOMRange:function(e,t){var n=t.anchor,r=t.focus,i=qZ.isBackward(t),o=kY.toDOMPoint(e,n),u=qZ.isCollapsed(t)?o:kY.toDOMPoint(e,r),s=kY.getWindow(e).document.createRange(),l=i?u:o,c=(0,a.Z)(l,2),f=c[0],d=c[1],h=i?o:u,p=(0,a.Z)(h,2),v=p[0],m=p[1],g=!!(pY(f)?f:f.parentElement).getAttribute("data-slate-zero-width"),y=!!(pY(v)?v:v.parentElement).getAttribute("data-slate-zero-width");return s.setStart(f,g?1:d),s.setEnd(v,y?1:m),s},toSlateNode:function(e,t){var n=pY(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Yq.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:function(e,t,n){var r=n.exactMatch,i=n.suppressThrow,u=r?t:function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];if(pY(n)&&n.childNodes.length){var i=r===n.childNodes.length,o=i?r-1:r,u=yY(n,o,i?"backward":"forward"),s=(0,a.Z)(u,2);for(n=s[0],i=(o=s[1])<r;pY(n)&&n.childNodes.length;){var l=i?n.childNodes.length-1:0;n=bY(n,l,i?"backward":"forward")}r=i&&null!=n.textContent?n.textContent.length:0}return[n,r]}(t),s=(0,a.Z)(u,2),l=s[0],c=s[1],f=l.parentNode,d=null,h=0;if(f){var p,v,m=kY.toDOMNode(e,e),g=f.closest('[data-slate-void="true"]'),y=g&&m.contains(g)?g:null,b=f.closest("[data-slate-leaf]"),_=null;if(b){if(d=b.closest('[data-slate-node="text"]')){var x=kY.getWindow(e).document.createRange();x.setStart(d,0),x.setEnd(l,c);var w=x.cloneContents();[].concat((0,o.Z)(Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]"))),(0,o.Z)(Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]")))).forEach((function(e){Pq&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\ufeff"!==e.textContext?e.textContent.startsWith("\ufeff")&&(e.textContent=e.textContent.slice(1)):e.parentNode.removeChild(e)})),h=w.textContent.length,_=d}}else if(y){for(var E=y.querySelectorAll("[data-slate-leaf]"),C=0;C<E.length;C++){var k=E[C];if(kY.hasDOMNode(e,k)){b=k;break}}b?(d=b.closest('[data-slate-node="text"]'),h=(_=b).textContent.length,_.querySelectorAll("[data-slate-zero-width]").forEach((function(e){h-=e.textContent.length}))):h=1}_&&h===_.textContent.length&&Pq&&"z"===_.getAttribute("data-slate-zero-width")&&null!==(p=_.textContent)&&void 0!==p&&p.startsWith("\ufeff")&&(f.hasAttribute("data-slate-zero-width")||Oq&&null!==(v=_.textContent)&&void 0!==v&&v.endsWith("\n\n"))&&h--}if(Pq&&!d&&!r){var S=f.hasAttribute("data-slate-node")?f:f.closest("[data-slate-node]");if(S&&kY.hasDOMNode(e,S,{editable:!0})){var A=kY.toSlateNode(e,S),D=iV.start(e,kY.findPath(e,A)),M=D.path,T=D.offset;return S.querySelector("[data-slate-leaf]")||(T=c),{path:M,offset:T}}}if(!d){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var P=kY.toSlateNode(e,d);return{path:kY.findPath(e,P),offset:h}},toSlateRange:function(e,t,n){var r,i,a,o,u,s,l=n.exactMatch,c=n.suppressThrow;if((mY(t)?t.anchorNode:t.startContainer)&&(mY(t)?(r=t.anchorNode,i=t.anchorOffset,a=t.focusNode,o=t.focusOffset,u=Nq&&function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1}(r)?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,i=t.startOffset,a=t.endContainer,o=t.endOffset,u=t.collapsed)),null==r||null==a||null==i||null==o)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));"getAttribute"in a&&"false"===a.getAttribute("contenteditable")&&(a=r,o=(null===(s=r.textContent)||void 0===s?void 0:s.length)||0);var f=kY.toSlatePoint(e,[r,i],{exactMatch:l,suppressThrow:c});if(!f)return null;var d=u?f:kY.toSlatePoint(e,[a,o],{exactMatch:l,suppressThrow:c});if(!d)return null;if(Oq&&!u&&r!==a){var h=iV.isEnd(e,f,f.path),p=iV.isStart(e,d,d.path);if(h)f=iV.after(e,f)||f;if(p)d=iV.before(e,d)||d}var v={anchor:f,focus:d};return qZ.isExpanded(v)&&qZ.isForward(v)&&pY(a)&&iV.void(e,{at:v.focus,mode:"highest"})&&(v=iV.unhangRange(e,v,{voids:!0})),v}};function SY(e,t){var n=t.path,r=t.diff;if(!iV.hasPath(e,n))return!1;var i=QZ.get(e,n);if(!fV.isText(i))return!1;if(r.start!==i.text.length||0===r.text.length)return i.text.slice(r.start,r.start+r.text.length)===r.text;var a=NZ.next(n);if(!iV.hasPath(e,a))return!1;var o=QZ.get(e,a);return fV.isText(o)&&o.text.startsWith(r.text)}function AY(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return e.slice(0,t.start)+t.text+e.slice(t.end)}),e)}function DY(e,t){var n=t.start,r=t.end,i=t.text,a=e.slice(n,r),o=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}(a,i),u=function(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}(a,i,Math.min(a.length-o,i.length-o)),s={start:n+o,end:r-u,text:i.slice(o,i.length-u)};return s.start===s.end&&0===s.text.length?null:s}function MY(e){var t=e.path,n=e.diff;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function TY(e,t){var n=t.path,r=t.offset;if(!iV.hasPath(e,n))return null;var i=QZ.get(e,n);if(!fV.isText(i))return null;var a=iV.above(e,{match:function(t){return XZ.isElement(t)&&iV.isBlock(e,t)},at:n});if(!a)return null;for(;r>i.text.length;){var o=iV.next(e,{at:n,match:fV.isText});if(!o||!NZ.isDescendant(o[1],a[1]))return null;r-=i.text.length,i=o[0],n=o[1]}return{path:n,offset:r}}function PY(e,t){var n=TY(e,t.anchor);if(!n)return null;if(qZ.isCollapsed(t))return{anchor:n,focus:n};var r=TY(e,t.focus);return r?{anchor:n,focus:r}:null}function OY(e,t,n){var r=oY.get(e),i=null===r||void 0===r?void 0:r.find((function(e){var n=e.path;return NZ.equals(n,t.path)}));if(!i||t.offset<=i.diff.start)return mV.transform(t,n,{affinity:"backward"});var a=i.diff;if(t.offset<=a.start+a.text.length){var o={path:t.path,offset:a.start},u=mV.transform(o,n,{affinity:"backward"});return u?{path:u.path,offset:u.offset+t.offset-a.start}:null}var s={path:t.path,offset:t.offset-a.text.length+a.end-a.start},l=mV.transform(s,n,{affinity:"backward"});return l?"split_node"===n.type&&NZ.equals(n.path,t.path)&&s.offset<n.position&&a.start<n.position?l:{path:l.path,offset:l.offset+a.text.length-a.end+a.start}:null}function RY(e,t,n){var r=OY(e,t.anchor,n);if(!r)return null;if(qZ.isCollapsed(t))return{anchor:r,focus:r};var i=OY(e,t.focus,n);return i?{anchor:r,focus:i}:null}function FY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FY(Object(n),!0).forEach((function(t){Cq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IY(e){var t=e.editor,n=e.scheduleOnDOMSelectionChange,r=e.onDOMSelectionChange,i=!1,o=null,u=null,s=null,l=0,c=!1,f=function(){var e=sY.get(t);if(sY.delete(t),e){var n=t.selection,r=PY(t,e);!r||n&&qZ.equals(r,n)||ZZ.select(t,r)}},d=function(){if(u&&(clearTimeout(u),u=null),s&&(clearTimeout(s),s=null),g()||m()){i||(i=!0,setTimeout((function(){return i=!1}))),m()&&(i="action");var e=t.selection&&iV.rangeRef(t,t.selection,{affinity:"forward"});aY.set(t,t.marks),uY.get(t),oY.get(t);for(var a,o=g();a=null===(l=oY.get(t))||void 0===l?void 0:l[0];){var l,d,h=iY.get(t);void 0!==h&&(iY.delete(t),t.marks=h),h&&!1===c&&(c=null);var p=MY(a);t.selection&&qZ.equals(t.selection,p)||ZZ.select(t,p),a.diff.text?iV.insertText(t,a.diff.text):iV.deleteFragment(t),oY.set(t,null===(d=oY.get(t))||void 0===d?void 0:d.filter((function(e){return e.id!==a.id}))),SY(t,a)||(o=!1,uY.delete(t),aY.delete(t),i="action",sY.delete(t),n.cancel(),r.cancel(),null===e||void 0===e||e.unref())}var v=null===e||void 0===e?void 0:e.unref();if(!v||sY.get(t)||t.selection&&qZ.equals(v,t.selection)||ZZ.select(t,v),m())!function(){var e=uY.get(t);if(uY.delete(t),e){if(e.at){var n=mV.isPoint(e.at)?TY(t,e.at):PY(t,e.at);if(!n)return;var r=iV.range(t,n);t.selection&&qZ.equals(t.selection,r)||ZZ.select(t,n)}e.run()}}();else{o&&n(),n.flush(),r.flush(),f();var y=aY.get(t);aY.delete(t),void 0!==y&&(t.marks=y,t.onChange())}}else f()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=qq.get(t);n&&(g()||e?n.style.display="none":n.style.removeProperty("display"))},p=function(e,n){var r,i=null!==(r=oY.get(t))&&void 0!==r?r:[];oY.set(t,i);var a=QZ.leaf(t,e),o=i.findIndex((function(t){return NZ.equals(t.path,e)}));if(o<0)return DY(a.text,n)&&i.push({path:e,diff:n,id:l++}),void h();var u=function(e,t,n){var r=Math.min(t.start,n.start),i=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),a=AY(e,t,n),o=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-i),u=a.slice(r,o);return DY(e,{start:r,end:Math.max(t.end,n.end-t.text.length+(t.end-t.start)),text:u})}(a.text,i[o].diff,n);if(!u)return i.splice(o,1),void h();i[o]=NY(NY({},i[o]),{},{diff:u})},v=function(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).at;c=!1,sY.delete(t),n.cancel(),r.cancel(),m()&&d(),uY.set(t,{at:i,run:e}),s=setTimeout(d)},m=function(){return!!uY.get(t)},g=function(){var e;return!(null===(e=oY.get(t))||void 0===e||!e.length)},y=function(e){sY.set(t,e),u&&(clearTimeout(u),u=null);var n=t.selection;if(e){var r=!n||!NZ.equals(n.anchor.path,e.anchor.path),i=!n||!NZ.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&c||i)&&(c=!1),(r||g())&&(u=setTimeout(d,200))}},b=function(){m()||(s=setTimeout(d))};return{flush:d,scheduleFlush:b,hasPendingDiffs:g,hasPendingAction:m,hasPendingChanges:function(){return m()||g()},isFlushing:function(){return i},handleUserSelect:y,handleCompositionEnd:function(e){o&&clearTimeout(o),o=setTimeout((function(){eY.set(t,!1),d()}),25)},handleCompositionStart:function(e){eY.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:function(e){var n;u&&(clearTimeout(u),u=null);var r=e.inputType,i=null,o=e.dataTransfer||e.data||void 0;!1!==c&&"insertText"!==r&&"insertCompositionText"!==r&&(c=!1);var s=e.getTargetRanges(),l=(0,a.Z)(s,1)[0];l&&(i=kY.toSlateRange(t,l,{exactMatch:!1,suppressThrow:!0}));var f=kY.getWindow(t).getSelection();if(!i&&f&&(l=f,i=kY.toSlateRange(t,f,{exactMatch:!1,suppressThrow:!0})),i=null!==(n=i)&&void 0!==n?n:t.selection){var d,h=!0;if(r.startsWith("delete")){if(qZ.isExpanded(i)){var m=qZ.edges(i),g=(0,a.Z)(m,2),_=g[0],x=g[1];if(QZ.leaf(t,_.path).text.length===_.offset&&0===x.offset){var w=iV.next(t,{at:_.path,match:fV.isText});w&&NZ.equals(w[1],x.path)&&(i={anchor:x,focus:x})}}var E=r.endsWith("Backward")?"backward":"forward",C=qZ.edges(i),k=(0,a.Z)(C,2),S=k[0],A=k[1],D=iV.leaf(t,S.path),M=(0,a.Z)(D,2),T=M[0],P=M[1],O={text:"",start:S.offset,end:A.offset},R=oY.get(t),F=null===R||void 0===R?void 0:R.find((function(e){return NZ.equals(e.path,P)})),N=F?[F.diff,O]:[O];if(0===AY.apply(void 0,[T.text].concat(N)).length&&(h=!1),qZ.isExpanded(i)){if(h&&NZ.equals(i.anchor.path,i.focus.path)){var I={path:i.anchor.path,offset:S.offset},B=iV.range(t,I,I);return y(B),p(i.anchor.path,{text:"",end:A.offset,start:S.offset})}return v((function(){return iV.deleteFragment(t,{direction:E})}),{at:i})}}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return v((function(){return iV.deleteFragment(t)}),{at:i});case"deleteContent":case"deleteContentForward":var L=i.anchor;if(h&&qZ.isCollapsed(i)){var z=QZ.leaf(t,L.path);if(L.offset<z.text.length)return p(L.path,{text:"",start:L.offset,end:L.offset+1})}return v((function(){return iV.deleteForward(t)}),{at:i});case"deleteContentBackward":var U,j=i.anchor,W=mY(l)?l.isCollapsed:!(null===(U=l)||void 0===U||!U.collapsed);return h&&W&&qZ.isCollapsed(i)&&j.offset>0?p(j.path,{text:"",start:j.offset-1,end:j.offset}):v((function(){return iV.deleteBackward(t)}),{at:i});case"deleteEntireSoftLine":return v((function(){iV.deleteBackward(t,{unit:"line"}),iV.deleteForward(t,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return v((function(){return iV.deleteBackward(t,{unit:"block"})}),{at:i});case"deleteSoftLineBackward":return v((function(){return iV.deleteBackward(t,{unit:"line"})}),{at:i});case"deleteHardLineForward":return v((function(){return iV.deleteForward(t,{unit:"block"})}),{at:i});case"deleteSoftLineForward":return v((function(){return iV.deleteForward(t,{unit:"line"})}),{at:i});case"deleteWordBackward":return v((function(){return iV.deleteBackward(t,{unit:"word"})}),{at:i});case"deleteWordForward":return v((function(){return iV.deleteForward(t,{unit:"word"})}),{at:i});case"insertLineBreak":return v((function(){return iV.insertSoftBreak(t)}),{at:i});case"insertParagraph":return v((function(){return iV.insertBreak(t)}),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null===(d=o)||void 0===d?void 0:d.constructor.name))return v((function(){return kY.insertData(t,o)}),{at:i});var Z=null!==o&&void 0!==o?o:"";if(iY.get(t)&&(Z=Z.replace("\ufeff","")),"insertText"===r&&/.*\n.*\n$/.test(Z)&&(Z=Z.slice(0,-1)),Z.includes("\n"))return v((function(){var e=Z.split("\n");e.forEach((function(n,r){n&&iV.insertText(t,n),r!==e.length-1&&iV.insertSoftBreak(t)}))}),{at:i});if(NZ.equals(i.anchor.path,i.focus.path)){var V=qZ.edges(i),H=(0,a.Z)(V,2),G=H[0],q=H[1],Y={start:G.offset,end:q.offset,text:Z};if(Z&&c&&"insertCompositionText"===r){var X=c.start+c.text.search(/\S|$/);Y.start+Y.text.search(/\S|$/)===X+1&&Y.end===c.start+c.text.length?(Y.start-=1,c=null,b()):c=!1}else c="insertText"===r&&(null===c?Y:!(!c||!qZ.isCollapsed(i)||c.end+c.text.length!==G.offset)&&NY(NY({},c),{},{text:c.text+Z}));if(h)return void p(G.path,Y)}return v((function(){return iV.insertText(t,Z)}),{at:i})}}},handleKeyDown:function(e){g()||(h(!0),setTimeout(h))},handleDomMutations:function(e){var n;g()||m()||e.some((function(n){return wY(t,n,e)}))&&(null===(n=lY.get(t))||void 0===n||n())},handleInput:function(){!m()&&g()||d()}}}var BY=jq?e.useLayoutEffect:e.useEffect;var LY=["node"];function zY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var UY={subtree:!0,childList:!0,characterData:!0},jY=Pq?function(t){var n=t.node,r=kq(t,LY);if(!Pq)return null;var i=Aq(),o=function(){var t=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),t.current}(),u=(0,e.useState)((function(){return IY(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zY(Object(n),!0).forEach((function(t){Cq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({editor:i},r))})),s=(0,a.Z)(u,1)[0];return function(t,n,r){var i=(0,e.useState)((function(){return new MutationObserver(n)})),o=(0,a.Z)(i,1)[0];BY((function(){o.takeRecords()})),(0,e.useEffect)((function(){if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return o.observe(t.current,r),function(){return o.disconnect()}}),[o,t,r])}(n,s.handleDomMutations,UY),rY.set(i,s.scheduleFlush),o&&s.flush(),s}:function(){return null},WY=["anchor","focus"],ZY=["anchor","focus"],VY=function(e,t){var n,r,i=kq(e,WY),a=kq(t,ZY);return e[cY]===t[cY]&&(n=i,r=a,Object.keys(n).length===Object.keys(r).length&&Object.keys(n).every((function(e){return r.hasOwnProperty(e)&&n[e]===r[e]})))},HY=function(t){var n=t.isLast,r=t.leaf,i=t.parent,a=t.text,o=Aq(),u=kY.findPath(o,a),s=NZ.parent(u),l=!0===r[fY];return o.isVoid(i)?e.createElement(YY,{length:QZ.string(i).length}):""!==r.text||i.children[i.children.length-1]!==a||o.isInline(i)||""!==iV.string(o,s)?""===r.text?e.createElement(YY,{isMarkPlaceholder:l}):n&&"\n"===r.text.slice(-1)?e.createElement(GY,{isTrailing:!0,text:r.text}):e.createElement(GY,{text:r.text}):e.createElement(YY,{isLineBreak:!0,isMarkPlaceholder:l})},GY=function(t){var n=t.text,r=t.isTrailing,i=void 0!==r&&r,o=(0,e.useRef)(null),u=function(){return"".concat(null!==n&&void 0!==n?n:"").concat(i?"\n":"")},s=(0,e.useState)(u),l=(0,a.Z)(s,1)[0];return BY((function(){var e=u();o.current&&o.current.textContent!==e&&(o.current.textContent=e)})),e.createElement(qY,{ref:o},l)},qY=(0,e.memo)((0,e.forwardRef)((function(t,n){return e.createElement("span",{"data-slate-string":!0,ref:n},t.children)}))),YY=function(t){var n=t.length,r=void 0===n?0:n,i=t.isLineBreak,a=void 0!==i&&i,o=t.isMarkPlaceholder,u={"data-slate-zero-width":a?"n":"z","data-slate-length":r};return void 0!==o&&o&&(u["data-slate-mark-placeholder"]=!0),e.createElement("span",Object.assign({},u),Pq&&a?null:"\ufeff",a?e.createElement("br",null):null)};function XY(e){e.current&&(clearTimeout(e.current),e.current=null)}var $Y=function(t){var n=t.leaf,r=t.isLast,i=t.text,o=t.parent,u=t.renderPlaceholder,s=t.renderLeaf,l=void 0===s?function(t){return e.createElement(JY,Object.assign({},t))}:s,c=Aq(),f=(0,e.useRef)(null),d=(0,e.useRef)(null),h=(0,e.useState)(!1),p=(0,a.Z)(h,2),v=p[0],m=p[1],g=(0,e.useRef)(null),y=(0,e.useCallback)((function(e){if(function(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}(f,null==e),null==e){var t;qq.delete(c),null===(t=n.onPlaceholderResize)||void 0===t||t.call(n,null)}else{if(qq.set(c,e),!f.current){var r=window.ResizeObserver||wq;f.current=new r((function(){var t;null===(t=n.onPlaceholderResize)||void 0===t||t.call(n,e)}))}f.current.observe(e),d.current=e}}),[d,n,c]),b=e.createElement(HY,{isLast:r,leaf:n,parent:o,text:i}),_=n[cY];if((0,e.useEffect)((function(){return _?g.current||(g.current=setTimeout((function(){m(!0),g.current=null}),300)):(XY(g),m(!1)),function(){return XY(g)}}),[_,m]),_&&v){var x={children:n.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Rq?"inherit":void 0},contentEditable:!1,ref:y}};b=e.createElement(e.Fragment,null,u(x),b)}return l({attributes:{"data-slate-leaf":!0},children:b,leaf:n,text:i})},KY=e.memo($Y,(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&fV.equals(t.leaf,e.leaf)&&t.leaf[cY]===e.leaf[cY]})),JY=function(t){var n=t.attributes,r=t.children;return e.createElement("span",Object.assign({},n),r)},QY=function(t){for(var n=t.decorations,r=t.isLast,i=t.parent,a=t.renderPlaceholder,o=t.renderLeaf,u=t.text,s=Aq(),l=(0,e.useRef)(null),c=fV.decorations(u,n),f=kY.findKey(s,u),d=[],h=0;h<c.length;h++){var p=c[h];d.push(e.createElement(KY,{isLast:r&&h===c.length-1,key:"".concat(f.id,"-").concat(h),renderPlaceholder:a,leaf:p,text:u,parent:i,renderLeaf:o}))}var v=(0,e.useCallback)((function(e){var t=Kq.get(s);e?(null===t||void 0===t||t.set(f,e),Xq.set(u,e),Yq.set(e,u)):(null===t||void 0===t||t.delete(f),Xq.delete(u),l.current&&Yq.delete(l.current)),l.current=e}),[l,s,f,u]);return e.createElement("span",{"data-slate-node":"text",ref:v},d)},eX=e.memo(QY,(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.anchor.offset!==i.anchor.offset||r.focus.offset!==i.focus.offset||!VY(r,i))return!1}return!0}(t.decorations,e.decorations)})),tX=function(t){var n=t.decorations,r=t.element,i=t.renderElement,o=void 0===i?function(t){return e.createElement(rX,Object.assign({},t))}:i,u=t.renderPlaceholder,s=t.renderLeaf,l=t.selection,c=Aq(),f=sX(),d=c.isInline(r),h=kY.findKey(c,r),p=(0,e.useCallback)((function(e){var t=Kq.get(c);e?(null===t||void 0===t||t.set(h,e),Xq.set(r,e),Yq.set(e,r)):(null===t||void 0===t||t.delete(h),Xq.delete(r))}),[c,h,r]),v=oX({decorations:n,node:r,renderElement:o,renderPlaceholder:u,renderLeaf:s,selection:l}),m={"data-slate-node":"element",ref:p};if(d&&(m["data-slate-inline"]=!0),!d&&iV.hasInlines(c,r)){var g=QZ.string(r),y=sW()(g);"rtl"===y&&(m.dir=y)}if(iV.isVoid(c,r)){m["data-slate-void"]=!0,!f&&d&&(m.contentEditable=!1);var b=d?"span":"div",_=QZ.texts(r),x=(0,a.Z)(_,1),w=(0,a.Z)(x[0],1)[0];v=e.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},e.createElement(eX,{renderPlaceholder:u,decorations:[],isLast:!1,parent:r,text:w})),Zq.set(w,0),Vq.set(w,r)}return o({attributes:m,children:v,element:r})},nX=e.memo(tX,(function(e,t){return e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(!qZ.equals(r,i)||!VY(r,i))return!1}return!0}(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&qZ.equals(e.selection,t.selection))})),rX=function(t){var n=t.attributes,r=t.children,i=t.element,a=Aq().isInline(i)?"span":"div";return e.createElement(a,Object.assign({},n,{style:{position:"relative"}}),r)},iX=(0,e.createContext)((function(){return[]})),aX=(0,e.createContext)(!1),oX=function(t){for(var n=t.decorations,r=t.node,i=t.renderElement,a=t.renderPlaceholder,o=t.renderLeaf,u=t.selection,s=(0,e.useContext)(iX),l=Aq(),c=kY.findPath(l,r),f=[],d=XZ.isElement(r)&&!l.isInline(r)&&iV.hasInlines(l,r),h=0;h<r.children.length;h++){var p,v=c.concat(h),m=r.children[h],g=kY.findKey(l,m),y=iV.range(l,v),b=u&&qZ.intersection(y,u),_=s([m,v]),x=E(n);try{for(x.s();!(p=x.n()).done;){var w=p.value,C=qZ.intersection(w,y);C&&_.push(C)}}catch(k){x.e(k)}finally{x.f()}XZ.isElement(m)?f.push(e.createElement(aX.Provider,{key:"provider-".concat(g.id),value:!!b},e.createElement(nX,{decorations:_,element:m,key:g.id,renderElement:i,renderPlaceholder:a,renderLeaf:o,selection:b}))):f.push(e.createElement(eX,{decorations:_,key:g.id,isLast:d&&h===r.children.length-1,parent:r,renderPlaceholder:a,renderLeaf:o,text:m})),Zq.set(m,h),Vq.set(m,r)}return f},uX=(0,e.createContext)(!1),sX=function(){return(0,e.useContext)(uX)},lX=(0,e.createContext)(null);var cX={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},fX={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},dX={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},hX=function(e){var t=cX[e],n=fX[e],r=dX[e],i=t&&(0,Eq.TB)(t),a=n&&(0,Eq.TB)(n),o=r&&(0,Eq.TB)(r);return function(e){return!(!i||!i(e))||(!!(Tq&&a&&a(e))||!(Tq||!o||!o(e)))}},pX={isBold:hX("bold"),isCompose:hX("compose"),isMoveBackward:hX("moveBackward"),isMoveForward:hX("moveForward"),isDeleteBackward:hX("deleteBackward"),isDeleteForward:hX("deleteForward"),isDeleteLineBackward:hX("deleteLineBackward"),isDeleteLineForward:hX("deleteLineForward"),isDeleteWordBackward:hX("deleteWordBackward"),isDeleteWordForward:hX("deleteWordForward"),isExtendBackward:hX("extendBackward"),isExtendForward:hX("extendForward"),isExtendLineBackward:hX("extendLineBackward"),isExtendLineForward:hX("extendLineForward"),isItalic:hX("italic"),isMoveLineBackward:hX("moveLineBackward"),isMoveLineForward:hX("moveLineForward"),isMoveWordBackward:hX("moveWordBackward"),isMoveWordForward:hX("moveWordForward"),isRedo:hX("redo"),isSoftBreak:hX("insertSoftBreak"),isSplitBlock:hX("splitBlock"),isTransposeCharacter:hX("transposeCharacter"),isUndo:hX("undo")},vX={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0},mX=function(e){c(n,e);var t=v(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).context=null,e.manager=null,e.mutationObserver=null,e}return(0,s.Z)(n,[{key:"observe",value:function(){var e,t=this.props.node;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,vX)}},{key:"componentDidMount",value:function(){var e=this.props.receivedUserInput,t=this.context;this.manager=function(e,t){var n=[],r=function(){n=[]};return{registerMutations:function(r){var i;if(t.current){var a=r.filter((function(t){return wY(e,t,r)}));(i=n).push.apply(i,(0,o.Z)(a))}},restoreDOM:function(){n.length>0&&(n.reverse().forEach((function(e){"characterData"!==e.type&&(e.removedNodes.forEach((function(t){e.target.insertBefore(t,e.nextSibling)})),e.addedNodes.forEach((function(t){e.target.removeChild(t)})))})),r())},clear:r}}(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}},{key:"getSnapshotBeforeUpdate",value:function(){var e,t,n,r,i=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();null!==i&&void 0!==i&&i.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(i));return null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}},{key:"componentDidUpdate",value:function(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}},{key:"componentWillUnmount",value:function(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}},{key:"render",value:function(){return this.props.children}}]),n}(e.Component);mX.contextType=Sq;var gX=Pq?mX:function(t){var n=t.children;return e.createElement(e.Fragment,null,n)},yX=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],bX=["text"];function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_X(Object(n),!0).forEach((function(t){Cq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wX=function(t){return e.createElement(e.Fragment,null,oX(t))},EX=function(t){var n=(0,e.useCallback)((function(t){return e.createElement(CX,Object.assign({},t))}),[]),r=t.autoFocus,i=t.decorate,o=void 0===i?kX:i,u=t.onDOMBeforeInput,s=t.placeholder,l=t.readOnly,c=void 0!==l&&l,f=t.renderElement,d=t.renderLeaf,h=t.renderPlaceholder,p=void 0===h?n:h,v=t.scrollSelectionIntoView,m=void 0===v?SX:v,g=t.style,y=void 0===g?{}:g,b=t.as,_=void 0===b?"div":b,x=t.disableDefaultStyles,w=void 0!==x&&x,C=kq(t,yX),k=function(){var t=(0,e.useContext)(lX);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");return t.editor}(),S=(0,e.useState)(!1),A=(0,a.Z)(S,2),D=A[0],M=A[1],T=(0,e.useRef)(null),P=(0,e.useRef)([]),O=(0,e.useState)(),R=(0,a.Z)(O,2),F=R[0],N=R[1],I=function(){var t=Aq(),n=(0,e.useRef)(!1),r=(0,e.useRef)(0),i=(0,e.useCallback)((function(){if(!n.current){n.current=!0;var e=kY.getWindow(t);e.cancelAnimationFrame(r.current),r.current=e.requestAnimationFrame((function(){n.current=!1}))}}),[t]);return(0,e.useEffect)((function(){return function(){return cancelAnimationFrame(r.current)}}),[]),{receivedUserInput:n,onUserInput:i}}(),B=I.onUserInput,L=I.receivedUserInput,z=(0,e.useReducer)((function(e){return e+1}),0),U=(0,a.Z)(z,2)[1];lY.set(k,U),Jq.set(k,c);var j=(0,e.useMemo)((function(){return{isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}}),[]);(0,e.useEffect)((function(){T.current&&r&&T.current.focus()}),[r]);var W=(0,e.useRef)(),Z=(0,e.useMemo)((function(){return dW()((function(){var e=W.current;if((Pq||!kY.isComposing(k))&&(!j.isUpdatingSelection||null!==e&&void 0!==e&&e.isFlushing())&&!j.isDraggingInternally){var t=kY.findDocumentOrShadowRoot(k),n=t.activeElement,r=kY.toDOMNode(k,k),i=t.getSelection();if(n===r?(j.latestElement=n,Qq.set(k,!0)):Qq.delete(k),!i)return ZZ.deselect(k);var a=i.anchorNode,o=i.focusNode,u=kY.hasEditableTarget(k,a)||kY.isTargetInsideNonReadonlyVoid(k,a),s=kY.hasEditableTarget(k,o)||kY.isTargetInsideNonReadonlyVoid(k,o);if(u&&s){var l=kY.toSlateRange(k,i,{exactMatch:!1,suppressThrow:!0});l&&(kY.isComposing(k)||null!==e&&void 0!==e&&e.hasPendingChanges()||null!==e&&void 0!==e&&e.isFlushing()?null===e||void 0===e||e.handleUserSelect(l):ZZ.select(k,l))}!c||u&&s||ZZ.deselect(k)}}),100)}),[k,c,j]),V=(0,e.useMemo)((function(){return cW()(Z,0)}),[Z]);W.current=jY({node:T,onDOMSelectionChange:Z,scheduleOnDOMSelectionChange:V}),BY((function(){var e,t,n;T.current&&(n=hY(T.current))?(Hq.set(k,n),Gq.set(k,T.current),Xq.set(k,T.current),Yq.set(T.current,k)):Xq.delete(k);var r=k.selection,i=kY.findDocumentOrShadowRoot(k).getSelection();if(i&&kY.isFocused(k)&&(null===(e=W.current)||void 0===e||!e.hasPendingAction())){var a=function(e){var t="None"!==i.type;if(r||t){var n=Gq.get(k),a=!1;if(n.contains(i.anchorNode)&&n.contains(i.focusNode)&&(a=!0),t&&a&&r&&!e){var o=kY.toSlateRange(k,i,{exactMatch:!0,suppressThrow:!0});if(o&&qZ.equals(o,r)){var u;if(!j.hasMarkPlaceholder)return;var s=i.anchorNode;if(null!==s&&void 0!==s&&null!==(u=s.parentElement)&&void 0!==u&&u.hasAttribute("data-slate-mark-placeholder"))return}}if(!r||kY.hasRange(k,r)){j.isUpdatingSelection=!0;var l=r&&kY.toDOMRange(k,r);return l?(qZ.isBackward(r)?i.setBaseAndExtent(l.endContainer,l.endOffset,l.startContainer,l.startOffset):i.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),m(k,l)):i.removeAllRanges(),l}k.selection=kY.toSlateRange(k,i,{exactMatch:!1,suppressThrow:!0})}},o=a(),u="action"===(null===(t=W.current)||void 0===t?void 0:t.isFlushing());if(Pq&&u){var s=null,l=requestAnimationFrame((function(){if(u){var e=function(e){try{kY.toDOMNode(k,k).focus(),a(e)}catch(pW){}};e(),s=setTimeout((function(){e(!0),j.isUpdatingSelection=!1}))}}));return function(){cancelAnimationFrame(l),s&&clearTimeout(s)}}setTimeout((function(){o&&Oq&&kY.toDOMNode(k,k).focus();j.isUpdatingSelection=!1}))}}));var H=(0,e.useCallback)((function(e){if(B(),!c&&kY.hasEditableTarget(k,e.target)&&!MX(e,u)){var t;if(W.current)return W.current.handleDOMBeforeInput(e);V.flush(),Z.flush();var n=k.selection,r=e.inputType,i=e.dataTransfer||e.data||void 0,o="insertCompositionText"===r||"deleteCompositionText"===r;if(o&&kY.isComposing(k))return;var s=!1;if("insertText"===r&&n&&qZ.isCollapsed(n)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==n.anchor.offset){var l,f;s=!0,k.marks&&(s=!1);var d=n.anchor,h=kY.toDOMPoint(k,d),p=(0,a.Z)(h,2),v=p[0],m=p[1],g=null===(l=v.parentElement)||void 0===l?void 0:l.closest("a"),y=kY.getWindow(k);if(s&&g&&kY.hasDOMNode(k,g)){var b,_=null===y||void 0===y?void 0:y.document.createTreeWalker(g,NodeFilter.SHOW_TEXT).lastChild();_===v&&(null===(b=_.textContent)||void 0===b?void 0:b.length)===m&&(s=!1)}if(s&&v.parentElement&&"pre"===(null===y||void 0===y||null===(f=y.getComputedStyle(v.parentElement))||void 0===f?void 0:f.whiteSpace)){var x=iV.above(k,{at:d.path,match:function(e){return XZ.isElement(e)&&iV.isBlock(k,e)}});x&&QZ.string(x[0]).includes("\t")&&(s=!1)}}if(!r.startsWith("delete")||r.startsWith("deleteBy")){var w=e.getTargetRanges(),E=(0,a.Z)(w,1)[0];if(E){var C=kY.toSlateRange(k,E,{exactMatch:!1,suppressThrow:!1});if(!n||!qZ.equals(n,C)){s=!1;var S=!o&&k.selection&&iV.rangeRef(k,k.selection);ZZ.select(k,C),S&&tY.set(k,S)}}}if(o)return;if(s||e.preventDefault(),n&&qZ.isExpanded(n)&&r.startsWith("delete")){var A=r.endsWith("Backward")?"backward":"forward";return void iV.deleteFragment(k,{direction:A})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":iV.deleteFragment(k);break;case"deleteContent":case"deleteContentForward":iV.deleteForward(k);break;case"deleteContentBackward":iV.deleteBackward(k);break;case"deleteEntireSoftLine":iV.deleteBackward(k,{unit:"line"}),iV.deleteForward(k,{unit:"line"});break;case"deleteHardLineBackward":iV.deleteBackward(k,{unit:"block"});break;case"deleteSoftLineBackward":iV.deleteBackward(k,{unit:"line"});break;case"deleteHardLineForward":iV.deleteForward(k,{unit:"block"});break;case"deleteSoftLineForward":iV.deleteForward(k,{unit:"line"});break;case"deleteWordBackward":iV.deleteBackward(k,{unit:"word"});break;case"deleteWordForward":iV.deleteForward(k,{unit:"word"});break;case"insertLineBreak":iV.insertSoftBreak(k);break;case"insertParagraph":iV.insertBreak(k);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===r&&kY.isComposing(k)&&(M(!1),eY.set(k,!1)),"DataTransfer"===(null===i||void 0===i?void 0:i.constructor.name)?kY.insertData(k,i):"string"===typeof i&&(s?P.current.push((function(){return iV.insertText(k,i)})):iV.insertText(k,i))}var D=null===(t=tY.get(k))||void 0===t?void 0:t.unref();tY.delete(k),!D||k.selection&&qZ.equals(k.selection,D)||ZZ.select(k,D)}}),[k,Z,B,u,c,V]),G=(0,e.useCallback)((function(e){null==e?(Z.cancel(),V.cancel(),Gq.delete(k),Xq.delete(k),T.current&&Wq&&T.current.removeEventListener("beforeinput",H)):Wq&&e.addEventListener("beforeinput",H),T.current=e}),[Z,V,k,H]);BY((function(){var e=kY.getWindow(k);return e.document.addEventListener("selectionchange",V),function(){e.document.removeEventListener("selectionchange",V)}}),[V]);var q=o([k,[]]),Y=s&&1===k.children.length&&1===Array.from(QZ.texts(k)).length&&""===QZ.string(k)&&!D,X=(0,e.useCallback)((function(e){var t;e&&Y?N(null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height):N(void 0)}),[Y]);if(Y){var $,K=iV.start(k,[]);q.push(($={},(0,Qe.Z)($,cY,!0),(0,Qe.Z)($,"placeholder",s),(0,Qe.Z)($,"onPlaceholderResize",X),(0,Qe.Z)($,"anchor",K),(0,Qe.Z)($,"focus",K),$))}var J=k.marks;if(j.hasMarkPlaceholder=!1,k.selection&&qZ.isCollapsed(k.selection)&&J){var Q=k.selection.anchor,ee=QZ.leaf(k,Q.path),te=kq(ee,bX);if(!fV.equals(ee,J,{loose:!0})){j.hasMarkPlaceholder=!0;var ne=Object.fromEntries(Object.keys(te).map((function(e){return[e,null]})));q.push(xX(xX(xX((0,Qe.Z)({},fY,!0),ne),J),{},{anchor:Q,focus:Q}))}}return(0,e.useEffect)((function(){setTimeout((function(){var e=k.selection;if(e){var t=e.anchor,n=QZ.leaf(k,t.path);if(J&&!fV.equals(n,J,{loose:!0}))return void iY.set(k,J)}iY.delete(k)}))})),e.createElement(uX.Provider,{value:c},e.createElement(iX.Provider,{value:o},e.createElement(gX,{node:T,receivedUserInput:L},e.createElement(_,Object.assign({role:c?void 0:"textbox","aria-multiline":!c||void 0},C,{spellCheck:!(!Wq&&jq)&&C.spellCheck,autoCorrect:Wq||!jq?C.autoCorrect:"false",autoCapitalize:Wq||!jq?C.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!c,zindex:-1,suppressContentEditableWarning:!0,ref:G,style:xX(xX({},w?{}:xX({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},F?{minHeight:F}:{})),y),onBeforeInput:(0,e.useCallback)((function(e){if(!Wq&&!c&&!AX(e,C.onBeforeInput)&&kY.hasSelectableTarget(k,e.target)&&(e.preventDefault(),!kY.isComposing(k))){var t=e.data;iV.insertText(k,t)}}),[C.onBeforeInput,k,c]),onInput:(0,e.useCallback)((function(e){if(!AX(e,C.onInput))if(W.current)W.current.handleInput();else{var t,n=E(P.current);try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}P.current=[]}}),[C.onInput]),onBlur:(0,e.useCallback)((function(e){if(!c&&!j.isUpdatingSelection&&kY.hasSelectableTarget(k,e.target)&&!AX(e,C.onBlur)){var t=kY.findDocumentOrShadowRoot(k);if(j.latestElement!==t.activeElement){var n=e.relatedTarget;if(n!==kY.toDOMNode(k,k)&&(!pY(n)||!n.hasAttribute("data-slate-spacer"))){if(null!=n&&vY(n)&&kY.hasDOMNode(k,n)){var r=kY.toSlateNode(k,n);if(XZ.isElement(r)&&!k.isVoid(r))return}if(Rq){var i=t.getSelection();null===i||void 0===i||i.removeAllRanges()}Qq.delete(k)}}}}),[c,j.isUpdatingSelection,j.latestElement,k,C.onBlur]),onClick:(0,e.useCallback)((function(e){if(kY.hasTarget(k,e.target)&&!AX(e,C.onClick)&&vY(e.target)){var t=kY.toSlateNode(k,e.target),n=kY.findPath(k,t);if(!iV.hasPath(k,n)||QZ.get(k,n)!==t)return;if(3===e.detail&&n.length>=1){var r=n;if(!XZ.isElement(t)||!iV.isBlock(k,t)){var i,a=iV.above(k,{match:function(e){return XZ.isElement(e)&&iV.isBlock(k,e)},at:n});r=null!==(i=null===a||void 0===a?void 0:a[1])&&void 0!==i?i:n.slice(0,1)}var o=iV.range(k,r);return void ZZ.select(k,o)}if(c)return;var u=iV.start(k,n),s=iV.end(k,n),l=iV.void(k,{at:u}),f=iV.void(k,{at:s});if(l&&f&&NZ.equals(l[1],f[1])){var d=iV.range(k,u);ZZ.select(k,d)}}}),[k,C.onClick,c]),onCompositionEnd:(0,e.useCallback)((function(e){if(kY.hasSelectableTarget(k,e.target)){var t;if(kY.isComposing(k)&&(M(!1),eY.set(k,!1)),null===(t=W.current)||void 0===t||t.handleCompositionEnd(e),AX(e,C.onCompositionEnd)||Pq)return;if(!Rq&&!Lq&&!Mq&&!Uq&&!zq&&e.data){var n=iY.get(k);iY.delete(k),void 0!==n&&(aY.set(k,k.marks),k.marks=n),iV.insertText(k,e.data);var r=aY.get(k);aY.delete(k),void 0!==r&&(k.marks=r)}}}),[C.onCompositionEnd,k]),onCompositionUpdate:(0,e.useCallback)((function(e){kY.hasSelectableTarget(k,e.target)&&!AX(e,C.onCompositionUpdate)&&(kY.isComposing(k)||(M(!0),eY.set(k,!0)))}),[C.onCompositionUpdate,k]),onCompositionStart:(0,e.useCallback)((function(e){if(kY.hasSelectableTarget(k,e.target)){var t;if(null===(t=W.current)||void 0===t||t.handleCompositionStart(e),AX(e,C.onCompositionStart)||Pq)return;M(!0);var n=k.selection;if(n){if(qZ.isExpanded(n))return void iV.deleteFragment(k);var r=iV.above(k,{match:function(e){return XZ.isElement(e)&&iV.isInline(k,e)},mode:"highest"});if(r){var i=(0,a.Z)(r,2)[1];if(iV.isEnd(k,n.anchor,i)){var o=iV.after(k,i);ZZ.setSelection(k,{anchor:o,focus:o})}}}}}),[C.onCompositionStart,k]),onCopy:(0,e.useCallback)((function(e){!kY.hasSelectableTarget(k,e.target)||AX(e,C.onCopy)||DX(e)||(e.preventDefault(),kY.setFragmentData(k,e.clipboardData,"copy"))}),[C.onCopy,k]),onCut:(0,e.useCallback)((function(e){if(!c&&kY.hasSelectableTarget(k,e.target)&&!AX(e,C.onCut)&&!DX(e)){e.preventDefault(),kY.setFragmentData(k,e.clipboardData,"cut");var t=k.selection;if(t)if(qZ.isExpanded(t))iV.deleteFragment(k);else{var n=QZ.parent(k,t.anchor.path);iV.isVoid(k,n)&&ZZ.delete(k)}}}),[c,k,C.onCut]),onDragOver:(0,e.useCallback)((function(e){if(kY.hasTarget(k,e.target)&&!AX(e,C.onDragOver)){var t=kY.toSlateNode(k,e.target);XZ.isElement(t)&&iV.isVoid(k,t)&&e.preventDefault()}}),[C.onDragOver,k]),onDragStart:(0,e.useCallback)((function(e){if(!c&&kY.hasTarget(k,e.target)&&!AX(e,C.onDragStart)){var t=kY.toSlateNode(k,e.target),n=kY.findPath(k,t);if(XZ.isElement(t)&&iV.isVoid(k,t)||iV.void(k,{at:n,voids:!0})){var r=iV.range(k,n);ZZ.select(k,r)}j.isDraggingInternally=!0,kY.setFragmentData(k,e.dataTransfer,"drag")}}),[c,k,C.onDragStart,j]),onDrop:(0,e.useCallback)((function(e){if(!c&&kY.hasTarget(k,e.target)&&!AX(e,C.onDrop)){e.preventDefault();var t=k.selection,n=kY.findEventRange(k,e),r=e.dataTransfer;ZZ.select(k,n),j.isDraggingInternally&&(!t||qZ.equals(t,n)||iV.void(k,{at:n,voids:!0})||ZZ.delete(k,{at:t})),kY.insertData(k,r),kY.isFocused(k)||kY.focus(k)}j.isDraggingInternally=!1}),[c,k,C.onDrop,j]),onDragEnd:(0,e.useCallback)((function(e){!c&&j.isDraggingInternally&&C.onDragEnd&&kY.hasTarget(k,e.target)&&C.onDragEnd(e),j.isDraggingInternally=!1}),[c,j,C,k]),onFocus:(0,e.useCallback)((function(e){if(!c&&!j.isUpdatingSelection&&kY.hasEditableTarget(k,e.target)&&!AX(e,C.onFocus)){var t=kY.toDOMNode(k,k),n=kY.findDocumentOrShadowRoot(k);if(j.latestElement=n.activeElement,Oq&&e.target!==t)return void t.focus();Qq.set(k,!0)}}),[c,j,k,C.onFocus]),onKeyDown:(0,e.useCallback)((function(e){if(!c&&kY.hasEditableTarget(k,e.target)){var t;null===(t=W.current)||void 0===t||t.handleKeyDown(e);var n=e.nativeEvent;if(kY.isComposing(k)&&!1===n.isComposing&&(eY.set(k,!1),M(!1)),AX(e,C.onKeyDown)||kY.isComposing(k))return;var r=k.selection,i=k.children[null!==r?r.focus.path[0]:0],a="rtl"===sW()(QZ.string(i));if(pX.isRedo(n)){e.preventDefault();var o=k;return void("function"===typeof o.redo&&o.redo())}if(pX.isUndo(n)){e.preventDefault();var u=k;return void("function"===typeof u.undo&&u.undo())}if(pX.isMoveLineBackward(n))return e.preventDefault(),void ZZ.move(k,{unit:"line",reverse:!0});if(pX.isMoveLineForward(n))return e.preventDefault(),void ZZ.move(k,{unit:"line"});if(pX.isExtendLineBackward(n))return e.preventDefault(),void ZZ.move(k,{unit:"line",edge:"focus",reverse:!0});if(pX.isExtendLineForward(n))return e.preventDefault(),void ZZ.move(k,{unit:"line",edge:"focus"});if(pX.isMoveBackward(n))return e.preventDefault(),void(r&&qZ.isCollapsed(r)?ZZ.move(k,{reverse:!a}):ZZ.collapse(k,{edge:"start"}));if(pX.isMoveForward(n))return e.preventDefault(),void(r&&qZ.isCollapsed(r)?ZZ.move(k,{reverse:a}):ZZ.collapse(k,{edge:"end"}));if(pX.isMoveWordBackward(n))return e.preventDefault(),r&&qZ.isExpanded(r)&&ZZ.collapse(k,{edge:"focus"}),void ZZ.move(k,{unit:"word",reverse:!a});if(pX.isMoveWordForward(n))return e.preventDefault(),r&&qZ.isExpanded(r)&&ZZ.collapse(k,{edge:"focus"}),void ZZ.move(k,{unit:"word",reverse:a});if(Wq){if((Nq||Rq)&&r&&(pX.isDeleteBackward(n)||pX.isDeleteForward(n))&&qZ.isCollapsed(r)){var s=QZ.parent(k,r.anchor.path);if(XZ.isElement(s)&&iV.isVoid(k,s)&&(iV.isInline(k,s)||iV.isBlock(k,s)))return e.preventDefault(),void iV.deleteBackward(k,{unit:"block"})}}else{if(pX.isBold(n)||pX.isItalic(n)||pX.isTransposeCharacter(n))return void e.preventDefault();if(pX.isSoftBreak(n))return e.preventDefault(),void iV.insertSoftBreak(k);if(pX.isSplitBlock(n))return e.preventDefault(),void iV.insertBreak(k);if(pX.isDeleteBackward(n))return e.preventDefault(),void(r&&qZ.isExpanded(r)?iV.deleteFragment(k,{direction:"backward"}):iV.deleteBackward(k));if(pX.isDeleteForward(n))return e.preventDefault(),void(r&&qZ.isExpanded(r)?iV.deleteFragment(k,{direction:"forward"}):iV.deleteForward(k));if(pX.isDeleteLineBackward(n))return e.preventDefault(),void(r&&qZ.isExpanded(r)?iV.deleteFragment(k,{direction:"backward"}):iV.deleteBackward(k,{unit:"line"}));if(pX.isDeleteLineForward(n))return e.preventDefault(),void(r&&qZ.isExpanded(r)?iV.deleteFragment(k,{direction:"forward"}):iV.deleteForward(k,{unit:"line"}));if(pX.isDeleteWordBackward(n))return e.preventDefault(),void(r&&qZ.isExpanded(r)?iV.deleteFragment(k,{direction:"backward"}):iV.deleteBackward(k,{unit:"word"}));if(pX.isDeleteWordForward(n))return e.preventDefault(),void(r&&qZ.isExpanded(r)?iV.deleteFragment(k,{direction:"forward"}):iV.deleteForward(k,{unit:"word"}))}}}),[c,k,C.onKeyDown]),onPaste:(0,e.useCallback)((function(e){c||!kY.hasEditableTarget(k,e.target)||AX(e,C.onPaste)||(!Wq||function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(e.nativeEvent)||Rq)&&(e.preventDefault(),kY.insertData(k,e.clipboardData))}),[c,k,C.onPaste])}),e.createElement(wX,{decorations:q,node:k,renderElement:f,renderPlaceholder:p,renderLeaf:d,selection:k.selection})))))},CX=function(t){var n=t.attributes,r=t.children;return e.createElement("span",Object.assign({},n),r,Pq&&e.createElement("br",null))},kX=function(){return[]},SX=function(e,t){if(t.getBoundingClientRect&&(!e.selection||e.selection&&qZ.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),bW(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},AX=function(e,t){if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},DX=function(e){return vY(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)},MX=function(e,t){if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented},TX=(0,e.createContext)(!1);var PX=(0,e.createContext)({});var OX=["editor","children","onChange","value"],RX=function(t){var n=t.editor,r=t.children,i=t.onChange,o=t.value,u=kq(t,OX),s=(0,e.useRef)(!1),l=e.useState((function(){if(!QZ.isNodeList(o))throw new Error("[Slate] value is invalid! Expected a list of elements but got: ".concat(yV.stringify(o)));if(!iV.isEditor(n))throw new Error("[Slate] editor is invalid! You passed: ".concat(yV.stringify(n)));return n.children=o,Object.assign(n,u),{v:0,editor:n}})),c=(0,a.Z)(l,2),f=c[0],d=c[1],h=function(t){var n=(0,e.useRef)([]).current,r=(0,e.useRef)({editor:t}).current,i=(0,e.useCallback)((function(e){r.editor=e,n.forEach((function(t){return t(e)}))}),[n,r]),a=(0,e.useMemo)((function(){return{getSlate:function(){return r.editor},addEventListener:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}}}}),[n,r]);return{selectorContext:a,onChange:i}}(n),p=h.selectorContext,v=h.onChange,m=(0,e.useCallback)((function(){i&&i(n.children),d((function(e){return{v:e.v+1,editor:n}})),v(n)}),[n,v,i]);(0,e.useEffect)((function(){return nY.set(n,m),function(){nY.set(n,(function(){})),s.current=!0}}),[n,m]);var g=(0,e.useState)(kY.isFocused(n)),y=(0,a.Z)(g,2),b=y[0],_=y[1];return(0,e.useEffect)((function(){_(kY.isFocused(n))}),[n]),BY((function(){var e=function(){return _(kY.isFocused(n))};return Dq?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),function(){document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),function(){document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),e.createElement(PX.Provider,{value:p},e.createElement(lX.Provider,{value:f},e.createElement(Sq.Provider,{value:f.editor},e.createElement(TX.Provider,{value:b},r))))},FX=function(e,t){var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},NX=function(e,t,n){var r=kY.toDOMRange(e,t).getBoundingClientRect(),i=kY.toDOMRange(e,n).getBoundingClientRect();return FX(r,i)&&FX(i,r)};function IX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IX(Object(n),!0).forEach((function(t){Cq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LX=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x-slate-fragment",n=e,r=n.apply,i=n.onChange,u=n.deleteBackward,s=n.addMark,l=n.removeMark;return Kq.set(n,new WeakMap),n.addMark=function(e,t){var r,i;null===(r=rY.get(n))||void 0===r||r(),!iY.get(n)&&null!==(i=oY.get(n))&&void 0!==i&&i.length&&iY.set(n,null),aY.delete(n),s(e,t)},n.removeMark=function(e){var t;!iY.get(n)&&null!==(t=oY.get(n))&&void 0!==t&&t.length&&iY.set(n,null),aY.delete(n),l(e)},n.deleteBackward=function(e){if("line"!==e)return u(e);if(n.selection&&qZ.isCollapsed(n.selection)){var t=iV.above(n,{match:function(e){return XZ.isElement(e)&&iV.isBlock(n,e)},at:n.selection});if(t){var r=(0,a.Z)(t,2)[1],i=iV.range(n,r,n.selection.anchor),o=function(e,t){var n=iV.range(e,qZ.end(t)),r=Array.from(iV.positions(e,{at:t})),i=0,a=r.length,o=Math.floor(a/2);if(NX(e,iV.range(e,r[i]),n))return iV.range(e,r[i],n);if(r.length<2)return iV.range(e,r[r.length-1],n);for(;o!==r.length&&o!==i;)NX(e,iV.range(e,r[o]),n)?a=o:i=o,o=Math.floor((i+a)/2);return iV.range(e,r[a],n)}(n,i);qZ.isCollapsed(o)||ZZ.delete(n,{at:o})}}},n.apply=function(e){var t=[],i=oY.get(n);if(null!==i&&void 0!==i&&i.length){var u=i.map((function(t){return function(e,t){var n=e.path,r=e.diff,i=e.id;switch(t.type){case"insert_text":return!NZ.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":return!NZ.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":return!NZ.equals(t.path,n)||t.position>=r.end?{diff:r,id:i,path:NZ.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:NZ.transform(n,t,{affinity:"forward"})};case"merge_node":return NZ.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:NZ.transform(n,t)}:{diff:r,id:i,path:NZ.transform(n,t)}}var a=NZ.transform(n,t);return a?{diff:r,path:a,id:i}:null}(t,e)})).filter(Boolean);oY.set(n,u)}var s=sY.get(n);s&&sY.set(n,RY(n,s,e));var l=uY.get(n);if(null!==l&&void 0!==l&&l.at){var c=mV.isPoint(null===l||void 0===l?void 0:l.at)?OY(n,l.at,e):RY(n,l.at,e);uY.set(n,c?BX(BX({},l),{},{at:c}):null)}switch(e.type){case"insert_text":case"remove_text":case"set_node":case"split_node":t.push.apply(t,(0,o.Z)(zX(n,e.path)));break;case"set_selection":var f;null===(f=tY.get(n))||void 0===f||f.unref(),tY.delete(n);break;case"insert_node":case"remove_node":t.push.apply(t,(0,o.Z)(zX(n,NZ.parent(e.path))));break;case"merge_node":var d=NZ.previous(e.path);t.push.apply(t,(0,o.Z)(zX(n,d)));break;case"move_node":var h=NZ.common(NZ.parent(e.path),NZ.parent(e.newPath));t.push.apply(t,(0,o.Z)(zX(n,h)))}r(e);for(var p=0,v=t;p<v.length;p++){var m=(0,a.Z)(v[p],2),g=m[0],y=m[1],b=iV.node(n,g),_=(0,a.Z)(b,1)[0];$q.set(_,y)}},n.setFragmentData=function(e){var r=n.selection;if(r){var i=qZ.edges(r),o=(0,a.Z)(i,2),u=o[0],s=o[1],l=iV.void(n,{at:u.path}),c=iV.void(n,{at:s.path});if(!qZ.isCollapsed(r)||l){var f=kY.toDOMRange(n,r),d=f.cloneContents(),h=d.childNodes[0];if(d.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(h=e)})),c){var p=(0,a.Z)(c,1)[0],v=f.cloneRange(),m=kY.toDOMNode(n,p);v.setEndAfter(m),d=v.cloneContents()}if(l&&(h=d.querySelector("[data-slate-spacer]")),Array.from(d.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),gY(h)){var g=h.ownerDocument.createElement("span");g.style.whiteSpace="pre",g.appendChild(h),d.appendChild(g),h=g}var y=n.getFragment(),b=JSON.stringify(y),_=window.btoa(encodeURIComponent(b));h.setAttribute("data-slate-fragment",_),e.setData("application/".concat(t),_);var x=d.ownerDocument.createElement("div");return x.appendChild(d),x.setAttribute("hidden","true"),d.ownerDocument.body.appendChild(x),e.setData("text/html",x.innerHTML),e.setData("text/plain",_Y(x)),d.ownerDocument.body.removeChild(x),e}}},n.insertData=function(e){n.insertFragmentData(e)||n.insertTextData(e)},n.insertFragmentData=function(e){var r=e.getData("application/".concat(t))||function(e){var t=e.getData("text/html").match(xY)||[];return(0,a.Z)(t,2)[1]}(e);if(r){var i=decodeURIComponent(window.atob(r)),o=JSON.parse(i);return n.insertFragment(o),!0}return!1},n.insertTextData=function(e){var t=e.getData("text/plain");if(t){var r,i=!1,a=E(t.split(/\r\n|\r|\n/));try{for(a.s();!(r=a.n()).done;){var o=r.value;i&&ZZ.splitNodes(n,{always:!0}),n.insertText(o),i=!0}}catch(u){a.e(u)}finally{a.f()}return!0}return!1},n.onChange=function(e){ty.unstable_batchedUpdates((function(){var t=nY.get(n);t&&t(),i(e)}))},n},zX=function(e,t){var n,r=[],i=E(iV.levels(e,{at:t}));try{for(i.s();!(n=i.n()).done;){var o=(0,a.Z)(n.value,2),u=o[0],s=o[1],l=kY.findKey(e,u);r.push([s,l])}}catch(c){i.e(c)}finally{i.f()}return r},UX=r(7199),jX=r(1586),WX=r(986),ZX=r(3132),VX=r(76),HX=function(e){return(0,Kv.jsx)("div",{className:"format-toolbar",children:e.children})},GX=[{type:"paragraph",children:[{text:"My first paragraph!"}]}];var qX=function(){var t=em().currentUser,n=t?t.uid:null,r=(0,e.useMemo)((function(){return LX(IG())}),[]),i=(0,e.useState)(null),o=(0,a.Z)(i,2),u=o[0],s=o[1],l=(0,e.useState)(!1),c=(0,a.Z)(l,2),f=c[0],d=c[1],h=(0,e.useState)(!0),p=(0,a.Z)(h,2),v=p[0],m=p[1],g=Sv($v,"stories/".concat(n,"/story-text"));(0,e.useEffect)((function(){if(n){var e=function(){var e=Je($e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nv(g,(function(e){var t=e.val();t&&t.content?(console.log(t.content),s(JSON.parse(t.content))):s(GX),m(!1)})),console.log(u);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else s(GX),m(!1)}),[n]);var y=r.selection,b=function(e){var t;y&&(!0===(null===(t=iV.marks(r))||void 0===t?void 0:t[e])?iV.removeMark(r,e):iV.addMark(r,e,!0))},_=function(e,t){e.preventDefault(),b(t)},x=(0,e.useCallback)((function(e){var t=e.children;return e.leaf.bold&&(t=(0,Kv.jsx)("strong",{children:t})),e.leaf.italic&&(t=(0,Kv.jsx)("em",{children:t})),e.leaf.underline&&(t=(0,Kv.jsx)("u",{children:t})),(0,Kv.jsx)("span",dn(dn({},e.attributes),{},{children:t}))}),[]);return(0,Kv.jsxs)(Kv.Fragment,{children:[(0,Kv.jsxs)(e.Fragment,{children:[(0,Kv.jsxs)(HX,{children:[(0,Kv.jsx)("button",{onPointerDown:function(e){return _(e,"bold")},className:"tooltip-icon-button",children:(0,Kv.jsx)(UX.ZP,{icon:jX.S})}),(0,Kv.jsx)("button",{onPointerDown:function(e){return _(e,"italic")},className:"tooltip-icon-button",children:(0,Kv.jsx)(UX.ZP,{icon:WX.p})}),(0,Kv.jsx)("button",{onPointerDown:function(e){return _(e,"underline")},className:"tooltip-icon-button",children:(0,Kv.jsx)(UX.ZP,{icon:ZX.e})}),(0,Kv.jsx)("button",{onPointerDown:function(){return function(){var e=JSON.stringify(u);console.log(e),Mv(Sv($v,"stories/".concat(n,"/story-text")),{content:e}).then((function(){return d(!0)}))}()},className:"tooltip-icon-button",children:(0,Kv.jsx)(UX.ZP,{icon:VX.a})})]}),f&&(0,Kv.jsx)(qz,{onClose:function(){return d(!1)},severity:"success",children:"Record saved successfully!"})]}),v?(0,Kv.jsx)("div",{children:"Loading..."}):(0,Kv.jsx)(RX,{editor:r,value:u,onChange:function(e){s(e)},children:(0,Kv.jsx)(EX,{onKeyDown:function(e){return function(e,t){if(e.ctrlKey)switch(e.key){case"b":e.preventDefault(),b("bold");break;case"i":e.preventDefault(),b("italic");break;case"u":e.preventDefault(),b("underline")}}(e)},renderLeaf:x})})]})};var YX=function(){return(0,Kv.jsx)("div",{className:"TextEditor",children:(0,Kv.jsx)(qX,{})})};var XX=function(){var t=(0,e.useState)(null),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=(0,e.useState)(!1),u=(0,a.Z)(o,2),s=u[0],l=u[1];return(0,e.useEffect)((function(){!function(e,t,n,r){Kt(e).onAuthStateChanged(t,n,r)}(Xv,(function(e){i(e)}))}),[]),(0,Kv.jsx)(Ze,{children:(0,Kv.jsxs)(Qv,{value:{currentUser:r,timeActive:s,setTimeActive:l},children:[(0,Kv.jsx)(Gg,{}),(0,Kv.jsxs)(Ie,{children:[(0,Kv.jsx)(Fe,{path:"/sign-up",element:(0,Kv.jsx)(Yg,{})}),(0,Kv.jsx)(Fe,{path:"/login",element:(0,Kv.jsx)(rx,{})}),(0,Kv.jsx)(Fe,{path:"/verify-email",element:(0,Kv.jsx)(Xg,{})}),(0,Kv.jsx)(Fe,{path:"/profile",element:(0,Kv.jsx)(nx,{})}),(0,Kv.jsx)(Fe,{path:"/map-generator",element:(0,Kv.jsx)(Zw,{})}),(0,Kv.jsx)(Fe,{path:"/story-map",element:(0,Kv.jsx)(eU,{})}),(0,Kv.jsx)(Fe,{path:"/story-timeline",element:(0,Kv.jsx)(oW,{})}),(0,Kv.jsx)(Fe,{path:"/story-editor",element:(0,Kv.jsx)(YX,{})}),(0,Kv.jsx)(Fe,{exact:!0,path:"/",element:(0,Kv.jsx)(qg,{children:(0,Kv.jsx)(nx,{})})})]})]})})},$X=function(e){e&&e instanceof Function&&r.e(787).then(r.bind(r,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,Kv.jsx)(e.StrictMode,{children:(0,Kv.jsx)(XX,{})})),$X()}()}();
//# sourceMappingURL=main.95897a6d.js.map